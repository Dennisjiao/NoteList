(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,a=Object.create(r.prototype),o=new z(i||[]);return a._invoke=function(e,t,n){var i=u;return function(r,a){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return I()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=f;var d=l(e,t,n);if("normal"===d.type){if(i=n.done?p:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i=p,n.method="throw",n.arg=d.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",h="suspendedYield",f="executing",p="completed",g={};function m(){}function v(){}function b(){}var w={};d(w,a,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(x([])));_&&_!==n&&i.call(_,a)&&(w=_);var N=b.prototype=m.prototype=Object.create(w);function D(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function X(e,t){function n(r,a,o,s){var d=l(e[r],e,a);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(u).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(d.arg)}var r;this._invoke=function(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}}function E(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function V(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(V,this),this.reset(!0)}function x(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:I}}function I(){return{value:t,done:!0}}return v.prototype=b,d(N,"constructor",b),d(b,"constructor",v),v.displayName=d(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,s,"GeneratorFunction")),e.prototype=Object.create(N),e},e.awrap=function(e){return{__await:e}},D(X.prototype),d(X.prototype,o,(function(){return this})),e.AsyncIterator=X,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new X(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},D(N),d(N,s,"Generator"),d(N,a,(function(){return this})),d(N,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=x,z.prototype={constructor:z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var d=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(d&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(d){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:x(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},757:(e,t,n)=>{e.exports=n(553)},905:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});var PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile",browser=function browser(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer},isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))};function getDeviceType(){return isMobile?DeviceTypeMobile:DeviceTypeDesktop}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var a=new r(e,t),o=this.events[e],s=o.length,d=0;d<s;d++){try{var c=o[d].call(n,a)}catch(e){}if(null!=c)return c;if(a.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]}},836:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),a=n(143);const o={SharedObject:i,consts:r.v,upoSettings:a.Im,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined}},143:(e,t,n)=>{"use strict";n.d(t,{VP:()=>r,k$:()=>a,Im:()=>o});var i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true"),a=!0,o={acceptableURLParam:"upapi=true",timeout:3e3,refreshTimeout:3e3,staticDomain:i,whitelistingIFrameSettings:{url:r,isOurOriginWhitelistingIFrame:a,publisherDomainWhitelistingIFrameCandidatesSrcs:["/robots.txt","/ads.txt"]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1}}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(602),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(836),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function initPbjs(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjExLjAKVXBkYXRlZCA6IDIwMjEtMTAtMjEqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzQ3OjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTg3Nil9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBffSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFV9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8odF4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+dC80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGUpfSx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3VlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pZWUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihrKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9UCx0LmdldFdpbmRvd1NlbGY9cSx0LmdldFdpbmRvd0xvY2F0aW9uPU0sdC5sb2dNZXNzYWdlPUcsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUwsdC5sb2dFcnJvcj1GLHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBUfSx0LmRlYnVnVHVybmVkT249Vix0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIFNlKE0oKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9SCx0LmlzRm49Syx0LmlzU3RyPUosdC5pc0FycmF5PVksdC5pc051bWJlcj1RLHQuaXNQbGFpbk9iamVjdD0kLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBIKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVgsdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBKKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9Wix0LmNvbnRhaW5zPWZ1bmN0aW9uKGUsdCl7aWYoWChlKSlyZXR1cm4hMTtpZihLKGUuaW5kZXhPZikpcmV0dXJuLTEhPT1lLmluZGV4T2YodCk7dmFyIG49ZS5sZW5ndGg7Zm9yKDtuLS07KWlmKGVbbl09PT10KXJldHVybiEwO3JldHVybiExfSx0Ll9tYXA9ZnVuY3Rpb24oZSx0KXtpZihYKGUpKXJldHVybltdO2lmKEsoZS5tYXApKXJldHVybiBlLm1hcCh0KTt2YXIgbj1bXTtyZXR1cm4gWihlLChmdW5jdGlvbihyLGkpe24ucHVzaCh0KHIsaSxlKSl9KSksbn0sdC5oYXNPd249ZWUsdC5pbnNlcnRFbGVtZW50PXRlLHQudHJpZ2dlclBpeGVsPW5lLHQuY2FsbEJ1cmw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3VyY2Usbj1lLmJ1cmw7dD09PVMuUzJTLlNSQyYmbiYmai50cmlnZ2VyUGl4ZWwobil9LHQuaW5zZXJ0SHRtbEludG9JZnJhbWU9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3QuaWQ9RCgpLHQud2lkdGg9MCx0LmhlaWdodD0wLHQuaHNwYWNlPSIwIix0LnZzcGFjZT0iMCIsdC5tYXJnaW5XaWR0aD0iMCIsdC5tYXJnaW5IZWlnaHQ9IjAiLHQuc3R5bGUuZGlzcGxheT0ibm9uZSIsdC5zdHlsZS5oZWlnaHQ9IjBweCIsdC5zdHlsZS53aWR0aD0iMHB4Iix0LnNjcm9sbGluZz0ibm8iLHQuZnJhbWVCb3JkZXI9IjAiLHQuYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiLGouaW5zZXJ0RWxlbWVudCh0LGRvY3VtZW50LCJib2R5IiksdC5jb250ZW50V2luZG93LmRvY3VtZW50Lm9wZW4oKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQud3JpdGUoZSksdC5jb250ZW50V2luZG93LmRvY3VtZW50LmNsb3NlKCl9LHQuaW5zZXJ0VXNlclN5bmNJZnJhbWU9cmUsdC5jcmVhdGVUcmFja1BpeGVsSHRtbD1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4iIjtlPWQuYyhlKTt2YXIgdD1lbmNvZGVVUkkoZSksbj0nPGRpdiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowcHg7dG9wOjBweDt2aXNpYmlsaXR5OmhpZGRlbjsiPic7cmV0dXJuIG4rPSc8aW1nIHNyYz0iJyt0KyciPjwvZGl2Pid9LHQuY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw9aWUsdC5nZXRWYWx1ZVN0cmluZz1vZSx0LnVuaXF1ZXM9YWUsdC5mbGF0dGVuPWNlLHQuZ2V0QmlkUmVxdWVzdD1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjt2YXIgbjtyZXR1cm4gdC5zb21lKChmdW5jdGlvbih0KXt2YXIgcj1jKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm5bImJpZElkIiwiYWRJZCIsImJpZF9pZCJdLnNvbWUoKGZ1bmN0aW9uKG4pe3JldHVybiB0W25dPT09ZX0pKX0pKTtyZXR1cm4gciYmKG49cikscn0pKSxufSx0LmdldEtleXM9dWUsdC5nZXRWYWx1ZT1zZSx0LmdldEtleUJ5VmFsdWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pJiZlW25dPT09dClyZXR1cm4gbn0sdC5nZXRCaWRkZXJDb2Rlcz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp1cGJqcy5hZFVuaXRzO3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKS5yZWR1Y2UoY2UsW10pfSkpLnJlZHVjZShjZSkuZmlsdGVyKGFlKX0sdC5pc0dwdFB1YmFkc0RlZmluZWQ9ZGUsdC5pc0FwbkdldFRhZ0RlZmluZWQ9ZnVuY3Rpb24oKXtpZih3aW5kb3cuYXBudGFnJiZLKHdpbmRvdy5hcG50YWcuZ2V0VGFnKSlyZXR1cm4hMH0sbi5kKHQsImdldEhpZ2hlc3RDcG0iLChmdW5jdGlvbigpe3JldHVybiBmZX0pKSxuLmQodCwiZ2V0T2xkZXN0SGlnaGVzdENwbUJpZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRMYXRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksdC5zaHVmZmxlPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2Zvcig7dD4wOyl7dmFyIG49TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQpO3QtLTt2YXIgcj1lW3RdO2VbdF09ZVtuXSxlW25dPXJ9cmV0dXJuIGV9LHQuYWRVbml0c0ZpbHRlcj1mdW5jdGlvbihlLHQpe3JldHVybiBzKCkoZSx0JiZ0LmFkVW5pdENvZGUpfSx0LmRlZXBDbG9uZT1iZSx0LmluSWZyYW1lPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBqLmdldFdpbmRvd1NlbGYoKSE9PWouZ2V0V2luZG93VG9wKCl9Y2F0Y2goZSl7cmV0dXJuITB9fSx0LmlzU2FmYXJpQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi9eKCg/IWNocm9tZXxhbmRyb2lkfGNyaW9zfGZ4aW9zKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LHQucmVwbGFjZUF1Y3Rpb25QcmljZT1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtyZXR1cm4gZS5yZXBsYWNlKC9cJFx7QVVDVElPTl9QUklDRVx9L2csdCl9LHQucmVwbGFjZUNsaWNrVGhyb3VnaD1mdW5jdGlvbihlLHQpe2lmKCFlfHwhdHx8InN0cmluZyIhPXR5cGVvZiB0KXJldHVybjtyZXR1cm4gZS5yZXBsYWNlKC9cJHtDTElDS1RIUk9VR0h9L2csdCl9LHQudGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHQuZ2V0UGVyZm9ybWFuY2VOb3c9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnBlcmZvcm1hbmNlJiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93JiZ3aW5kb3cucGVyZm9ybWFuY2Uubm93KCl8fDB9LHQuaGFzRGV2aWNlQWNjZXNzPWZ1bmN0aW9uKCl7cmV0dXJuITEhPT1yLmIuZ2V0Q29uZmlnKCJkZXZpY2VBY2Nlc3MiKX0sdC5jaGVja0Nvb2tpZVN1cHBvcnQ9dmUsdC5kZWxheUV4ZWN1dGlvbj1mdW5jdGlvbihlLHQpe2lmKHQ8MSl0aHJvdyBuZXcgRXJyb3IoIm51bVJlcXVpcmVkQ2FsbHMgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci4gR290ICIuY29uY2F0KHQpKTt2YXIgbj0wO3JldHVybiBmdW5jdGlvbigpeysrbj09PXQmJmUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sdC5ncm91cEJ5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybihlW25bdF1dPWVbblt0XV18fFtdKS5wdXNoKG4pLGV9KSx7fSl9LHQuZ2V0RGVmaW5lZFBhcmFtcz1mdW5jdGlvbihlLHQpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSkucmVkdWNlKChmdW5jdGlvbih0LG4pe3JldHVybiBoKHQseSh7fSxuLGVbbl0pKX0pLHt9KX0sdC5pc1ZhbGlkTWVkaWFUeXBlcz1mdW5jdGlvbihlKXt2YXIgdD1bImJhbm5lciIsIm5hdGl2ZSIsInZpZGVvIl07aWYoIU9iamVjdC5rZXlzKGUpLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gcygpKHQsZSl9KSkpcmV0dXJuITE7aWYoZS52aWRlbyYmZS52aWRlby5jb250ZXh0KXJldHVybiBzKCkoWyJpbnN0cmVhbSIsIm91dHN0cmVhbSIsImFkcG9kIl0sZS52aWRlby5jb250ZXh0KTtyZXR1cm4hMH0sdC5nZXRCaWRkZXJSZXF1ZXN0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT10JiYoIW58fGUuYWRVbml0Q29kZT09PW4pfSkpLmxlbmd0aD4wfSkpfHx7c3RhcnQ6bnVsbCxhdWN0aW9uSWQ6bnVsbH19LHQuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZT09PXR9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzfSkpLnJlZHVjZShjZSxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXI9PT1ufSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zfHx7fX0pKX0sdC5nZXRPcmlnaW49ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLm9yaWdpbj93aW5kb3cubG9jYXRpb24ub3JpZ2luOndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCsiLy8iK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSsod2luZG93LmxvY2F0aW9uLnBvcnQ/IjoiK3dpbmRvdy5sb2NhdGlvbi5wb3J0OiIiKX0sdC5nZXRETlQ9ZnVuY3Rpb24oKXtyZXR1cm4iMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09d2luZG93LmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t9LHQuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4geWUoZSx0KX19LHQuaXNTbG90TWF0Y2hpbmdBZFVuaXRDb2RlPWhlLHQuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3ZhciB0O2RlKCkmJih0PWMoKSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCksaGUoZSkpKTtpZih0KXJldHVybntncHRTbG90OnQuZ2V0QWRVbml0UGF0aCgpLGRpdklkOnQuZ2V0U2xvdEVsZW1lbnRJZCgpfTtyZXR1cm57fX0sdC51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KS5qb2luKCIsICIpO3JldHVybiJcbiAgICAiLmNvbmNhdChlLmNvZGUsIiBpcyBhICIpLmNvbmNhdChuLCIgYWQgdW5pdFxuICAgIGNvbnRhaW5pbmcgYmlkZGVycyB0aGF0IGRvbid0IHN1cHBvcnQgIikuY29uY2F0KG4sIjogIikuY29uY2F0KHQsIi5cbiAgICBUaGlzIGJpZGRlciB3b24ndCBmZXRjaCBkZW1hbmQuXG4gICIpfSx0LmlzSW50ZWdlcj1tZSx0LmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oPzpefFwuPykoW0EtWl0pL2csKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIl8iK3QudG9Mb3dlckNhc2UoKX0pKS5yZXBsYWNlKC9eXy8sIiIpfSx0LmNsZWFuT2JqPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHZvaWQgMCE9PWVbbl0mJih0W25dPWVbbl0pLHR9KSx7fSl9LHQucGljaz1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiIT09bShlKSlyZXR1cm57fTtyZXR1cm4gdC5yZWR1Y2UoKGZ1bmN0aW9uKG4scixpKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgcilyZXR1cm4gbjt2YXIgbz1yLGE9ci5tYXRjaCgvXiguKz8pXHNhc1xzKC4rPykkL2kpO2EmJihyPWFbMV0sbz1hWzJdKTt2YXIgYz1lW3JdO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiB0W2krMV0mJihjPXRbaSsxXShjLG4pKSx2b2lkIDAhPT1jJiYobltvXT1jKSxufSkse30pfSx0LnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJrZXl3b3JkcyIsbj1bXTtyZXR1cm4gWihlLChmdW5jdGlvbihlLHIpe2lmKFkoZSkpe3ZhciBpPVtdO1ooZSwoZnVuY3Rpb24oZSl7KChlPW9lKHQrIi4iK3IsZSkpfHwiIj09PWUpJiZpLnB1c2goZSl9KSksZT1pfWVsc2V7aWYoIUooZT1vZSh0KyIuIityLGUpKSlyZXR1cm47ZT1bZV19bi5wdXNoKHtrZXk6cix2YWx1ZTplfSl9KSksbn0sdC5jb252ZXJ0VHlwZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHIsaTt0W25dJiYoSyhlW25dKT90W25dPWVbbl0odFtuXSk6dFtuXT0ocj1lW25dLGk9dFtuXSwic3RyaW5nIj09PXI/aSYmaS50b1N0cmluZygpOiJudW1iZXIiPT09cj9OdW1iZXIoaSk6aSksaXNOYU4odFtuXSkmJmRlbGV0ZSB0LmtleSl9KSksdH0sdC5pc0FycmF5T2ZOdW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFkoZSkmJighdHx8ZS5sZW5ndGg9PT10KSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIG1lKGUpfSkpfSx0LmZpbGw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8dDtyKyspe3ZhciBpPSQoZSk/YmUoZSk6ZTtuLnB1c2goaSl9cmV0dXJuIG59LHQuY2h1bms9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8TWF0aC5jZWlsKGUubGVuZ3RoL3QpO3IrKyl7dmFyIGk9cip0LG89aSt0O24ucHVzaChlLnNsaWNlKGksbykpfXJldHVybiBufSx0LmdldE1pblZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGcoZSkpfSx0LmdldE1heFZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGcoZSkpfSx0LmNvbXBhcmVPbj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4gdFtlXTxuW2VdPzE6dFtlXT5uW2VdPy0xOjB9fSx0LnBhcnNlUVM9U2UsdC5mb3JtYXRRUz1FZSx0LnBhcnNlVXJsPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3QmJiJub0RlY29kZVdob2xlVVJMImluIHQmJnQubm9EZWNvZGVXaG9sZVVSTD9uLmhyZWY9ZTpuLmhyZWY9ZGVjb2RlVVJJQ29tcG9uZW50KGUpO3ZhciByPXQmJiJkZWNvZGVTZWFyY2hBc1N0cmluZyJpbiB0JiZ0LmRlY29kZVNlYXJjaEFzU3RyaW5nO3JldHVybntocmVmOm4uaHJlZixwcm90b2NvbDoobi5wcm90b2NvbHx8IiIpLnJlcGxhY2UoLzokLywiIiksaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0OituLnBvcnQscGF0aG5hbWU6bi5wYXRobmFtZS5yZXBsYWNlKC9eKD8hXC8pLywiLyIpLHNlYXJjaDpyP24uc2VhcmNoOmoucGFyc2VRUyhuLnNlYXJjaHx8IiIpLGhhc2g6KG4uaGFzaHx8IiIpLnJlcGxhY2UoL14jLywiIiksaG9zdDpuLmhvc3R8fHdpbmRvdy5sb2NhdGlvbi5ob3N0fX0sdC5idWlsZFVybD1mdW5jdGlvbihlKXtyZXR1cm4oZS5wcm90b2NvbHx8Imh0dHAiKSsiOi8vIisoZS5ob3N0fHxlLmhvc3RuYW1lKyhlLnBvcnQ/IjoiLmNvbmNhdChlLnBvcnQpOiIiKSkrKGUucGF0aG5hbWV8fCIiKSsoZS5zZWFyY2g/Ij8iLmNvbmNhdChqLmZvcm1hdFFTKGUuc2VhcmNofHwiIikpOiIiKSsoZS5oYXNoPyIjIi5jb25jYXQoZS5oYXNoKToiIil9LHQuZGVlcEVxdWFsPUFlLHQubWVyZ2VEZWVwPWZ1bmN0aW9uIGUodCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxpPTE7aTxuO2krKylyW2ktMV09YXJndW1lbnRzW2ldO2lmKCFyLmxlbmd0aClyZXR1cm4gdDt2YXIgbz1yLnNoaWZ0KCk7aWYoJCh0KSYmJChvKSlmb3IodmFyIGEgaW4gbykkKG9bYV0pPyh0W2FdfHxoKHQseSh7fSxhLHt9KSksZSh0W2FdLG9bYV0pKTpZKG9bYV0pJiZ0W2FdP1kodFthXSkmJih0W2FdPXRbYV0uY29uY2F0KG9bYV0pKTpoKHQseSh7fSxhLG9bYV0pKTtyZXR1cm4gZS5hcHBseSh2b2lkIDAsW3RdLmNvbmNhdChyKSl9LHQuY3lyYjUzSGFzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWZ1bmN0aW9uKGUsdCl7aWYoSyhNYXRoLmltdWwpKXJldHVybiBNYXRoLmltdWwoZSx0KTt2YXIgbj0oNDE5NDMwMyZlKSoodHw9MCk7cmV0dXJuIDQyOTA3NzI5OTImZSYmKG4rPSg0MjkwNzcyOTkyJmUpKnR8MCksMHxufSxpPTM3MzU5Mjg1NTlebixvPTExMDM1NDc5OTFebixhPTA7YTxlLmxlbmd0aDthKyspdD1lLmNoYXJDb2RlQXQoYSksaT1yKGledCwyNjU0NDM1NzYxKSxvPXIob150LDE1OTczMzQ2NzcpO3JldHVybiBpPXIoaV5pPj4+MTYsMjI0NjgyMjUwNylecihvXm8+Pj4xMywzMjY2NDg5OTA5KSwoNDI5NDk2NzI5NiooMjA5NzE1MSYobz1yKG9ebz4+PjE2LDIyNDY4MjI1MDcpXnIoaV5pPj4+MTMsMzI2NjQ4OTkwOSkpKSsoaT4+PjApKS50b1N0cmluZygpfTt2YXIgcj1uKDMpLGk9bigxNjYpLG89bi5uKGkpLGE9bigxMSksYz1uLm4oYSksdT1uKDEyKSxzPW4ubih1KSxkPW4oNTUpLGY9bigxNjcpO24uZCh0LCJkZWVwQWNjZXNzIiwoZnVuY3Rpb24oKXtyZXR1cm4gZi5hfSkpO3ZhciBsPW4oMTY4KTtmdW5jdGlvbiBwKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8YihlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdihlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGIoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdihlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP3YoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiB5KGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBoKCl7cmV0dXJuKGg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9bi5kKHQsImRlZXBTZXRWYWx1ZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGwuYX0pKTt2YXIgUz1uKDUpLEU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxBPUJvb2xlYW4od2luZG93LmNvbnNvbGUpLFQ9Qm9vbGVhbihBJiZ3aW5kb3cuY29uc29sZS5sb2cpLE89Qm9vbGVhbihBJiZ3aW5kb3cuY29uc29sZS5pbmZvKSxJPUJvb2xlYW4oQSYmd2luZG93LmNvbnNvbGUud2Fybiksdz1Cb29sZWFuKEEmJndpbmRvdy5jb25zb2xlLmVycm9yKSxDPW4oOSksaj17Y2hlY2tDb29raWVTdXBwb3J0OnZlLGNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sOmllLGdldFdpbmRvd1NlbGY6cSxnZXRXaW5kb3dUb3A6UCxnZXRXaW5kb3dMb2NhdGlvbjpNLGluc2VydFVzZXJTeW5jSWZyYW1lOnJlLGluc2VydEVsZW1lbnQ6dGUsaXNGbjpLLHRyaWdnZXJQaXhlbDpuZSxsb2dFcnJvcjpGLGxvZ1dhcm46TCxsb2dNZXNzYWdlOkcsbG9nSW5mbzpXLHBhcnNlUVM6U2UsZm9ybWF0UVM6RWUsZGVlcEVxdWFsOkFlfSxfPXt9O3ZhciBSLEI9e30sVT1mdW5jdGlvbihlLHQpe3JldHVybiB0fS5iaW5kKG51bGwsMSxCKSgpPT09Qj9GdW5jdGlvbi5wcm90b3R5cGUuYmluZDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0LmFwcGx5KGUsbi5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpfX0seD0oUj0wLGZ1bmN0aW9uKCl7cmV0dXJuKytSfSk7ZnVuY3Rpb24gRCgpe3JldHVybiB4KCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc3Vic3RyKDIpfWZ1bmN0aW9uIE4oZSl7aWYoayhlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBrKGUpe3JldHVybiBZKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIFAoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBxKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIE0oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEcoKXtWKCkmJlQmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUseihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtWKCkmJk8mJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLHooYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBMKCl7VigpJiZJJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSx6KGFyZ3VtZW50cywiV0FSTklORzoiKSksQy5lbWl0KFMuRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBGKCl7VigpJiZ3JiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUseihhcmd1bWVudHMsIkVSUk9SOiIpKSxDLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIFYoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSChlLHQpe3JldHVybiBFLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEsoZSl7cmV0dXJuIEgoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBKKGUpe3JldHVybiBIKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFkoZSl7cmV0dXJuIEgoZSwiQXJyYXkiKX1mdW5jdGlvbiBRKGUpe3JldHVybiBIKGUsIk51bWJlciIpfWZ1bmN0aW9uICQoZSl7cmV0dXJuIEgoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWChlKXtpZighZSlyZXR1cm4hMDtpZihZKGUpfHxKKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFooZSx0KXtpZighWChlKSl7aWYoSyhlLmZvckVhY2gpKXJldHVybiBlLmZvckVhY2godCx0aGlzKTt2YXIgbj0wLHI9ZS5sZW5ndGg7aWYocj4wKWZvcig7bjxyO24rKyl0KGVbbl0sbixlKTtlbHNlIGZvcihuIGluIGUpaGFzT3duUHJvcGVydHkuY2FsbChlLG4pJiZ0LmNhbGwodGhpcyxlW25dLG4pfX1mdW5jdGlvbiBlZShlLHQpe3JldHVybiBlLmhhc093blByb3BlcnR5P2UuaGFzT3duUHJvcGVydHkodCk6dm9pZCAwIT09ZVt0XSYmZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbdF0hPT1lW3RdfWZ1bmN0aW9uIHRlKGUsdCxuLHIpe3ZhciBpO2UmJmUuc3JjJiYoZS5zcmM9ZC5jKGUuc3JjKSksdD10fHxkb2N1bWVudCxpPW4/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIik7dHJ5e2lmKChpPWkubGVuZ3RoP2k6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpKS5sZW5ndGgpe2k9aVswXTt2YXIgbz1yP251bGw6aS5maXJzdENoaWxkO3JldHVybiBpLmluc2VydEJlZm9yZShlLG8pfX1jYXRjaChlKXt9fWZ1bmN0aW9uIG5lKGUsdCl7ZC5hKCkudGhlbigoZnVuY3Rpb24obil7dmFyIHI9bi5mcmFtZTtpZihuLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PXIuY29udGVudFdpbmRvdyl7dmFyIGk7dHJ5e2k9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31pJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PWkudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZqLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBpPSJsZXQgaW1nID0gbmV3IEltYWdlKCk7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpbWcuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgaW1nLnNyYyA9IGF0b2IoJyIrYnRvYShlKSsiJyk7IjtyLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6aX0sIioiKX1lbHNle3ZhciBvPW5ldyByLmNvbnRlbnRXaW5kb3cuSW1hZ2U7dCYmai5pc0ZuKHQpJiYoby5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxvLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksby5zcmM9ZX19KSl9ZnVuY3Rpb24gcmUoZSx0KXt2YXIgbj1qLmNyZWF0ZVRyYWNrUGl4ZWxJZnJhbWVIdG1sKGUsITEsImFsbG93LXNjcmlwdHMgYWxsb3ctc2FtZS1vcmlnaW4iKTtkLmEoKS50aGVuKChmdW5jdGlvbihlKXt2YXIgcj1lLmZyYW1lO2lmKGUuaXNCVFNhZmVGcmFtZURvbWFpbil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbiBlKG4pe2lmKG4uc291cmNlPT09ci5jb250ZW50V2luZG93KXt2YXIgaTt0cnl7aT1KU09OLnBhcnNlKG4uZGF0YSl9Y2F0Y2goZSl7fWkmJiJkb25lVHJpZ2dlcmluZ1BpeGVsIj09aS50eXBlJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpLHQmJmouaXNGbih0KSYmdCgpKX19KSk7dmFyIGk9ImxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgZGl2LmlubmVySFRNTCA9IGF0b2IoJyIrYnRvYShuKSsiJyk7IGxldCBpZnJhbWUgPSBkaXYuZmlyc3RDaGlsZDsgZnVuY3Rpb24gZG9uZSgpIHsgdG9wLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJkb25lVHJpZ2dlcmluZ1BpeGVsXCIgfSwgXCIqXCIpIH07IGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9uZSk7IGlmcmFtZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGRvbmUpOyB0cnkgeyBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaHRtbCcpWzBdLmluc2VydEJlZm9yZShpZnJhbWUsIG51bGwpOyB9IGNhdGNoIChlcnIpIHsgfSI7ci5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOml9LCIqIil9ZWxzZXt2YXIgbz1yLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsYT1vLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPW47dmFyIGM9YS5maXJzdENoaWxkO3QmJmouaXNGbih0KSYmKGMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksYy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLGouaW5zZXJ0RWxlbWVudChjLG8sImh0bWwiLCEwKX19KSl9ZnVuY3Rpb24gaWUoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToiIjtyZXR1cm4gZT8odCYmKGU9ZW5jb2RlVVJJKGUpKSxuJiYobj0nc2FuZGJveD0iJy5jb25jYXQobiwnIicpKSwiPGlmcmFtZSAiLmNvbmNhdChuLCcgaWQ9IicpLmNvbmNhdChEKCksJyJcbiAgICAgIGZyYW1lYm9yZGVyPSIwIlxuICAgICAgYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiXG4gICAgICBtYXJnaW5oZWlnaHQ9IjAiIG1hcmdpbndpZHRoPSIwIlxuICAgICAgd2lkdGg9IjAiIGhzcGFjZT0iMCIgdnNwYWNlPSIwIiBoZWlnaHQ9IjAiXG4gICAgICBzdHlsZT0iaGVpZ2h0OjBweDt3aWR0aDowcHg7ZGlzcGxheTpub25lOyJcbiAgICAgIHNjcm9sbGluZz0ibm8iXG4gICAgICBzcmM9IicpLmNvbmNhdChlLCciPlxuICAgIDwvaWZyYW1lPicpKToiIn1mdW5jdGlvbiBvZShlLHQsbil7cmV0dXJuIG51bGw9PXQ/bjpKKHQpP3Q6USh0KT90LnRvU3RyaW5nKCk6dm9pZCBqLmxvZ1dhcm4oIlVuc3Vwb3J0ZWQgdHlwZSBmb3IgcGFyYW06ICIrZSsiIHJlcXVpcmVkIHR5cGU6IFN0cmluZyIpfWZ1bmN0aW9uIGFlKGUsdCxuKXtyZXR1cm4gbi5pbmRleE9mKGUpPT09dH1mdW5jdGlvbiBjZShlLHQpe3JldHVybiBlLmNvbmNhdCh0KX1mdW5jdGlvbiB1ZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSl9ZnVuY3Rpb24gc2UoZSx0KXtyZXR1cm4gZVt0XX1mdW5jdGlvbiBkZSgpe2lmKHdpbmRvdy5nb29nbGV0YWcmJksod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMpJiZLKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMpKXJldHVybiEwfXZhciBmZT1nZSgidGltZVRvUmVzcG9uZCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxsZT1nZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPnR9KSkscGU9Z2UoInJlc3BvbnNlVGltZXN0YW1wIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZTx0fSkpO2Z1bmN0aW9uIGdlKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIG4uY3BtPT09ci5jcG0/dChuW2VdLHJbZV0pP3I6bjpuLmNwbTxyLmNwbT9yOm59fWZ1bmN0aW9uIGJlKGUpe3JldHVybiBvKCkoZSl9ZnVuY3Rpb24gdmUoKXtpZih3aW5kb3cubmF2aWdhdG9yLmNvb2tpZUVuYWJsZWR8fGRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuITB9dmFyIHllPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0QWRVbml0UGF0aCgpPT09dHx8ZS5nZXRTbG90RWxlbWVudElkKCk9PT10fTtmdW5jdGlvbiBoZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHllKHQsZSl9fWZ1bmN0aW9uIG1lKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyP051bWJlci5pc0ludGVnZXIoZSk6Im51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1wKHQuc3BsaXQoIj0iKSwyKSxyPW5bMF0saT1uWzFdO3JldHVybi9cW1xdJC8udGVzdChyKT8oZVtyPXIucmVwbGFjZSgiW10iLCIiKV09ZVtyXXx8W10sZVtyXS5wdXNoKGkpKTplW3JdPWl8fCIiLGV9KSx7fSk6e319ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZVt0XSk/ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdCh0LCJbXT0iKS5jb25jYXQoZSl9KSkuam9pbigiJiIpOiIiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVbdF0pfSkpLmpvaW4oIiYiKX1mdW5jdGlvbiBBZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKCJvYmplY3QiPT09bShlKSYmbnVsbCE9PWUmJiJvYmplY3QiPT09bSh0KSYmbnVsbCE9PXQpe2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG4gaW4gZSl7aWYoIXQuaGFzT3duUHJvcGVydHkobikpcmV0dXJuITE7aWYoIUFlKGVbbl0sdFtuXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9fSwxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSx0LnJlZ2lzdGVyQmlkZGVyPWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LmlzQXJyYXkoZS5zdXBwb3J0ZWRNZWRpYVR5cGVzKT97c3VwcG9ydGVkTWVkaWFUeXBlczplLnN1cHBvcnRlZE1lZGlhVHlwZXN9OnZvaWQgMDtmdW5jdGlvbiBuKGUpe3ZhciBuPUMoZSk7aS5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcihuLGUuY29kZSx0KX1uKGUpLEFycmF5LmlzQXJyYXkoZS5hbGlhc2VzKSYmZS5hbGlhc2VzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByLG8sYT10O09iamVjdCh5LmlzUGxhaW5PYmplY3QpKHQpJiYoYT10LmNvZGUscj10Lmd2bGlkLG89dC5za2lwUGJzQWxpYXNpbmcpLGkuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2FdPWUuY29kZSxuKE8oe30sZSx7Y29kZTphLGd2bGlkOnIsc2tpcFBic0FsaWFzaW5nOm99KSl9KSl9LHQubmV3QmlkZGVyPUMsbi5kKHQsInJlZ2lzdGVyU3luY0lubmVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSx0LnByZWxvYWRCaWRkZXJNYXBwaW5nRmlsZT1fLHQuZ2V0SWFiU3ViQ2F0ZWdvcnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1pLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihlKTtpZihuLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciByPW4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLG89ci5sb2NhbFN0b3JhZ2VLZXk/ci5sb2NhbFN0b3JhZ2VLZXk6bi5nZXRCaWRkZXJDb2RlKCksYT1JLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG8pO2lmKGEpe3RyeXthPUpTT04ucGFyc2UoYSl9Y2F0Y2godCl7T2JqZWN0KHkubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQoZSwiIG1hcHBpbmcgZGF0YSBzdG9yZWQgaW4gbG9jYWwgc3RvcmFnZSIpKX1yZXR1cm4gYS5tYXBwaW5nW3RdP2EubWFwcGluZ1t0XTpudWxsfX19LHQuaXNWYWxpZD1SO3ZhciByPW4oNzcpLGk9big4KSxvPW4oMyksYT1uKDQyKSxjPW4oNTYpLHU9bigzNikscz1uKDIyKSxkPW4oNSksZj1uLm4oZCksbD1uKDkpLHA9bi5uKGwpLGc9bigxMiksYj1uLm4oZyksdj1uKDQpLHk9bigwKSxoPW4oMiksbT1uKDEwKSxTPW4oNyk7ZnVuY3Rpb24gRShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gQShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gQShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gQShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIFQoZSl7cmV0dXJuKFQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBPKCl7cmV0dXJuKE89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgST1PYmplY3QoUy5hKSgiYmlkZGVyRmFjdG9yeSIpLHc9WyJyZXF1ZXN0SWQiLCJjcG0iLCJ0dGwiLCJjcmVhdGl2ZUlkIiwibmV0UmV2ZW51ZSIsImN1cnJlbmN5Il07ZnVuY3Rpb24gQyhlKXtyZXR1cm4gTyhuZXcgci5hKGUuY29kZSkse2dldFNwZWM6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShlKX0scmVnaXN0ZXJTeW5jczp0LGNhbGxCaWRzOmZ1bmN0aW9uKHIsaSxjLHUscyxkKXtpZihBcnJheS5pc0FycmF5KHIuYmlkcykpe3ZhciBsPXt9LGc9W10sYj1yLmJpZHMuZmlsdGVyKG4pO2lmKDAhPT1iLmxlbmd0aCl7dmFyIHY9e307Yi5mb3JFYWNoKChmdW5jdGlvbihlKXt2W2UuYmlkSWRdPWUsZS5hZFVuaXRDb2RlfHwoZS5hZFVuaXRDb2RlPWUucGxhY2VtZW50Q29kZSl9KSk7dmFyIGg9ZS5idWlsZFJlcXVlc3RzKGIscik7aWYoaCYmMCE9PWgubGVuZ3RoKXtBcnJheS5pc0FycmF5KGgpfHwoaD1baF0pO3ZhciBtPU9iamVjdCh5LmRlbGF5RXhlY3V0aW9uKShkKFMpLGgubGVuZ3RoKTtoLmZvckVhY2goKGZ1bmN0aW9uKHQpe3N3aXRjaCh0Lm1ldGhvZCl7Y2FzZSJHRVQiOnUoIiIuY29uY2F0KHQudXJsKS5jb25jYXQoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4iPyIuY29uY2F0KCJvYmplY3QiPT09VChlKT9PYmplY3QoeS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoZSk6ZSk7cmV0dXJuIiJ9KHQuZGF0YSkpLHtzdWNjZXNzOmQobiksZXJyb3I6b30sdm9pZCAwLE8oe21ldGhvZDoiR0VUIix3aXRoQ3JlZGVudGlhbHM6ITB9LHQub3B0aW9ucykpO2JyZWFrO2Nhc2UiUE9TVCI6dSh0LnVybCx7c3VjY2VzczpkKG4pLGVycm9yOm99LCJzdHJpbmciPT10eXBlb2YgdC5kYXRhP3QuZGF0YTpKU09OLnN0cmluZ2lmeSh0LmRhdGEpLE8oe21ldGhvZDoiUE9TVCIsY29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7ZGVmYXVsdDpPYmplY3QoeS5sb2dXYXJuKSgiU2tpcHBpbmcgaW52YWxpZCByZXF1ZXN0IGZyb20gIi5jb25jYXQoZS5jb2RlLCIuIFJlcXVlc3QgdHlwZSAiKS5jb25jYXQodC50eXBlLCIgbXVzdCBiZSBHRVQgb3IgUE9TVCIpKSxtKCl9ZnVuY3Rpb24gbihuLG8pe3MoZS5jb2RlKTt0cnl7bj1KU09OLnBhcnNlKG4pfWNhdGNoKGUpe312YXIgYztuPXtib2R5Om4saGVhZGVyczp7Z2V0Om8uZ2V0UmVzcG9uc2VIZWFkZXIuYmluZChvKX19LGcucHVzaChuKTt0cnl7Yz1lLmludGVycHJldFJlc3BvbnNlKG4sdCl9Y2F0Y2godCl7cmV0dXJuIE9iamVjdCh5LmxvZ0Vycm9yKSgiQmlkZGVyICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZCB0byBpbnRlcnByZXQgdGhlIHNlcnZlcidzIHJlc3BvbnNlLiBDb250aW51aW5nIHdpdGhvdXQgYmlkcyIpLG51bGwsdCksdm9pZCBtKCl9ZnVuY3Rpb24gdSh0KXt2YXIgbj12W3QucmVxdWVzdElkXTtpZihuKXt0Lm9yaWdpbmFsQ3BtPXQuY3BtLHQub3JpZ2luYWxDdXJyZW5jeT10LmN1cnJlbmN5LHQubWV0YT10Lm1ldGF8fE8oe30sdFtuLmJpZGRlcl0pO3ZhciBvPU8oT2JqZWN0KGEuYSkoZi5hLlNUQVRVUy5HT09ELG4pLHQpOyFmdW5jdGlvbihlLHQpe2xbZV09ITAsUihlLHQsW3JdKSYmaShlLHQpfShuLmFkVW5pdENvZGUsbyl9ZWxzZSBPYmplY3QoeS5sb2dXYXJuKSgiQmlkZGVyICIuY29uY2F0KGUuY29kZSwiIG1hZGUgYmlkIGZvciB1bmtub3duIHJlcXVlc3QgSUQ6ICIpLmNvbmNhdCh0LnJlcXVlc3RJZCwiLiBJZ25vcmluZy4iKSl9YyYmKE9iamVjdCh5LmlzQXJyYXkpKGMpP2MuZm9yRWFjaCh1KTp1KGMpKSxtKGMpfWZ1bmN0aW9uIG8odCl7cyhlLmNvZGUpLE9iamVjdCh5LmxvZ0Vycm9yKSgiU2VydmVyIGNhbGwgZm9yICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZDogIikuY29uY2F0KHQsIi4gQ29udGludWluZyB3aXRob3V0IGJpZHMuIikpLG0oKX19KSl9ZWxzZSBTKCl9ZWxzZSBTKCl9ZnVuY3Rpb24gUygpe2MoKSxvLmIucnVuV2l0aEJpZGRlcihlLmNvZGUsKGZ1bmN0aW9uKCl7cC5hLmVtaXQoZi5hLkVWRU5UUy5CSURERVJfRE9ORSxyKSx0KGcsci5nZHByQ29uc2VudCxyLnVzcENvbnNlbnQpfSkpfX19KTtmdW5jdGlvbiB0KHQsbixyKXtqKGUsdCxuLHIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISFlLmlzQmlkUmVxdWVzdFZhbGlkKHQpfHwoT2JqZWN0KHkubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KGUuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9fXZhciBqPU9iamVjdChtLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTtpZihlLmdldFVzZXJTeW5jcyYmKGF8fCFpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmNvZGVdKSl7dmFyIHU9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxzPWUuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIXV8fCF1LmlmcmFtZSYmIXUuYWxsKSxwaXhlbEVuYWJsZWQ6ISghdXx8IXUuaW1hZ2UmJiF1LmFsbCl9LHQsbixyKTtzJiYoQXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MuYS5yZWdpc3RlclN5bmModC50eXBlLGUuY29kZSx0LnVybCl9KSkpfX0pLCJyZWdpc3RlclN5bmNzIik7ZnVuY3Rpb24gXyhlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmF9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpfSkpLnJlZHVjZSh5LmZsYXR0ZW4sW10pLmZpbHRlcih5LnVuaXF1ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKHQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIG49dC5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj1uLnJlZnJlc2hJbkRheXM/bi5yZWZyZXNoSW5EYXlzOjEsbz1uLmxvY2FsU3RvcmFnZUtleT9uLmxvY2FsU3RvcmFnZUtleTp0LmdldFNwZWMoKS5jb2RlLGE9SS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTt0cnl7KCEoYT1hP0pTT04ucGFyc2UoYSk6dm9pZCAwKXx8T2JqZWN0KHkudGltZXN0YW1wKSgpPmEubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3Qodi5hKShuLnVybCx7c3VjY2VzczpmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQpO3ZhciBuPXtsYXN0VXBkYXRlZDpPYmplY3QoeS50aW1lc3RhbXApKCksbWFwcGluZzp0Lm1hcHBpbmd9O0kuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG8sSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gbWFwcGluZyBmaWxlIikpfX0sZXJyb3I6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gZmlsZSIpKX19KX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19fSkpLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFIoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksdy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoKShpLGUpJiYhYigpKFt2b2lkIDAsbnVsbF0sdFtlXSl9KSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZykodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QoeS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9RShvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH1yZXR1cm4hMX0oZSx0LG4pKXx8KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdCh5LmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QoeS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChtLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKF8pfSwxMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE1LHI9ZS5nZXRIb29rcyh7aG9vazp0fSk7MD09PXIubGVuZ3RoJiZlLmJlZm9yZSh0LG4pfSx0LmM9ZnVuY3Rpb24oZSx0KXthKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuYXBwbHkodm9pZCAwLGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8oZSl9KG49ZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0obil8fGZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/byhlLHQpOnZvaWQgMH19KG4pfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpKTt2YXIgbn0pKX0pLGUpKFtdKX0sdC5lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQ+MT90LTE6MCkscj0xO3I8dDtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtjKGUpLmJlZm9yZSgoZnVuY3Rpb24oZSx0KXt0LnB1c2gobiksZSh0KX0pKX07dmFyIHI9bigxNjkpLGk9bi5uKHIpO2Z1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgYT1pKCkoe3JlYWR5OmkuYS5TWU5DfGkuYS5BU1lOQ3xpLmEuUVVFVUV9KSxjPWEuZ2V0fSwxMDE6ZnVuY3Rpb24oZSx0LG4pe24oMTAyKTt2YXIgcj1uKDUyKTtlLmV4cG9ydHM9cigiQXJyYXkiLCJmaW5kIil9LDEwMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big1OSkuZmluZCxvPW4oNTEpLGE9ImZpbmQiLGM9ITA7YSBpbltdJiZBcnJheSgxKS5maW5kKChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kOmZ1bmN0aW9uKGUpe3JldHVybiBpKHRoaXMsZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSksbyhhKX0sMTAzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMTA0KSxvPW4oNDQpLGE9big0NSksYz1uKDU4KSx1PW4oMzEpLHM9big3OSksZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3QuZj1yP2Q6ZnVuY3Rpb24oZSx0KXtpZihlPWEoZSksdD1jKHQsITApLHMpdHJ5e3JldHVybiBkKGUsdCl9Y2F0Y2goZSl7fWlmKHUoZSx0KSlyZXR1cm4gbyghaS5mLmNhbGwoZSx0KSxlW3RdKX19LDEwNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixvPWkmJiFyLmNhbGwoezE6Mn0sMSk7dC5mPW8/ZnVuY3Rpb24oZSl7dmFyIHQ9aSh0aGlzLGUpO3JldHVybiEhdCYmdC5lbnVtZXJhYmxlfTpyfSwxMDU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9LyN8XC5wcm90b3R5cGVcLi8sbz1mdW5jdGlvbihlLHQpe3ZhciBuPWNbYShlKV07cmV0dXJuIG49PXN8fG4hPXUmJigiZnVuY3Rpb24iPT10eXBlb2YgdD9yKHQpOiEhdCl9LGE9by5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKGksIi4iKS50b0xvd2VyQ2FzZSgpfSxjPW8uZGF0YT17fSx1PW8uTkFUSVZFPSJOIixzPW8uUE9MWUZJTEw9IlAiO2UuZXhwb3J0cz1vfSwxMDY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9bigxMDcpLG89bigyNCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gaShlKSYmKCJmdW5jdGlvbiIhPXR5cGVvZihuPWUuY29uc3RydWN0b3IpfHxuIT09QXJyYXkmJiFpKG4ucHJvdG90eXBlKT9yKG4pJiZudWxsPT09KG49bltvXSkmJihuPXZvaWQgMCk6bj12b2lkIDApLG5ldyh2b2lkIDA9PT1uP0FycmF5Om4pKDA9PT10PzA6dCl9fSwxMDc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDYpO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1yKGUpfX0sMTA4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oMzIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3RyeXtpKHIsZSx0KX1jYXRjaChuKXtyW2VdPXR9cmV0dXJuIHR9fSwxMDk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1uKDI1KSxhPW4oMTEwKSxjPW8ucHJvY2Vzcyx1PWMmJmMudmVyc2lvbnMscz11JiZ1LnY4O3M/aT0ocj1zLnNwbGl0KCIuIikpWzBdPDQ/MTpyWzBdK3JbMV06YSYmKCEocj1hLm1hdGNoKC9FZGdlXC8oXGQrKS8pKXx8clsxXT49NzQpJiYocj1hLm1hdGNoKC9DaHJvbWVcLyhcZCspLykpJiYoaT1yWzFdKSxlLmV4cG9ydHM9aSYmK2l9LDExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwMSk7ZS5leHBvcnRzPXJ9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyk7ZS5leHBvcnRzPXIoIm5hdmlnYXRvciIsInVzZXJBZ2VudCIpfHwiIn0sMTExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgyKTtlLmV4cG9ydHM9ciYmIVN5bWJvbC5zaGFtJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcn0sMTEyOmZ1bmN0aW9uKGUsdCxuKXtuKDExMyk7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIkFycmF5IiwiaW5jbHVkZXMiKX0sMTEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDgzKS5pbmNsdWRlcyxvPW4oNTEpO3Ioe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKCJpbmNsdWRlcyIpfSwxMTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjApLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUpO3JldHVybiBuPDA/aShuK3QsMCk6byhuLHQpfX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXtuKDExNiksbigxMzMpLG4oOTQpLG4oMTM1KTt2YXIgcj1uKDQ5KTtlLmV4cG9ydHM9ci5TZXR9LDExNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTE3KSxpPW4oMTIyKTtlLmV4cG9ydHM9cigiU2V0IiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1swXTp2b2lkIDApfX0pLGkpfSwxMTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMjUpLG89big4NSksYT1uKDI5KSxjPW4oMzIpLHU9bigxOSkscz1uKDg4KSxkPW4oMzApLGY9big2NiksbD1uKDM0KS5mLHA9big1OSkuZm9yRWFjaCxnPW4oMzMpLGI9big1NCksdj1iLnNldCx5PWIuZ2V0dGVyRm9yO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGIsaD0tMSE9PWUuaW5kZXhPZigiTWFwIiksbT0tMSE9PWUuaW5kZXhPZigiV2VhayIpLFM9aD8ic2V0IjoiYWRkIixFPWlbZV0sQT1FJiZFLnByb3RvdHlwZSxUPXt9O2lmKGcmJiJmdW5jdGlvbiI9PXR5cGVvZiBFJiYobXx8QS5mb3JFYWNoJiYhYSgoZnVuY3Rpb24oKXsobmV3IEUpLmVudHJpZXMoKS5uZXh0KCl9KSkpKXtiPXQoKGZ1bmN0aW9uKHQsbil7dihzKHQsYixlKSx7dHlwZTplLGNvbGxlY3Rpb246bmV3IEV9KSxudWxsIT1uJiZ1KG4sdFtTXSx7dGhhdDp0LEFTX0VOVFJJRVM6aH0pfSkpO3ZhciBPPXkoZSk7cChbImFkZCIsImNsZWFyIiwiZGVsZXRlIiwiZm9yRWFjaCIsImdldCIsImhhcyIsInNldCIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIl0sKGZ1bmN0aW9uKGUpe3ZhciB0PSJhZGQiPT1lfHwic2V0Ij09ZTshKGUgaW4gQSl8fG0mJiJjbGVhciI9PWV8fGMoYi5wcm90b3R5cGUsZSwoZnVuY3Rpb24obixyKXt2YXIgaT1PKHRoaXMpLmNvbGxlY3Rpb247aWYoIXQmJm0mJiFkKG4pKXJldHVybiJnZXQiPT1lJiZ2b2lkIDA7dmFyIG89aVtlXSgwPT09bj8wOm4scik7cmV0dXJuIHQ/dGhpczpvfSkpfSkpLG18fGwoYi5wcm90b3R5cGUsInNpemUiLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE8odGhpcykuY29sbGVjdGlvbi5zaXplfX0pfWVsc2UgYj1uLmdldENvbnN0cnVjdG9yKHQsZSxoLFMpLG8uUkVRVUlSRUQ9ITA7cmV0dXJuIGYoYixlLCExLCEwKSxUW2VdPWIscih7Z2xvYmFsOiEwLGZvcmNlZDohMH0sVCksbXx8bi5zZXRTdHJvbmcoYixlLGgpLGJ9fSwxMTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pKX0sMTE5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2NSksaT1uKDY0KTtlLmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIraSh0aGlzKSsiXSJ9fSwxMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTIpO2UuZXhwb3J0cz1yfSwxMjA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigxMjEpLG89ci5XZWFrTWFwO2UuZXhwb3J0cz0iZnVuY3Rpb24iPT10eXBlb2YgbyYmL25hdGl2ZSBjb2RlLy50ZXN0KGkobykpfSwxMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjEpLGk9RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKGUpfSksZS5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sMTIyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigzNCkuZixpPW4oODkpLG89bigxMjcpLGE9bigyNiksYz1uKDg4KSx1PW4oMTkpLHM9big2OCksZD1uKDEzMiksZj1uKDMzKSxsPW4oODUpLmZhc3RLZXkscD1uKDU0KSxnPXAuc2V0LGI9cC5nZXR0ZXJGb3I7ZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLHQsbixzKXt2YXIgZD1lKChmdW5jdGlvbihlLHIpe2MoZSxkLHQpLGcoZSx7dHlwZTp0LGluZGV4OmkobnVsbCksZmlyc3Q6dm9pZCAwLGxhc3Q6dm9pZCAwLHNpemU6MH0pLGZ8fChlLnNpemU9MCksbnVsbCE9ciYmdShyLGVbc10se3RoYXQ6ZSxBU19FTlRSSUVTOm59KX0pKSxwPWIodCksdj1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPXAoZSksYT15KGUsdCk7cmV0dXJuIGE/YS52YWx1ZT1uOihvLmxhc3Q9YT17aW5kZXg6aT1sKHQsITApLGtleTp0LHZhbHVlOm4scHJldmlvdXM6cj1vLmxhc3QsbmV4dDp2b2lkIDAscmVtb3ZlZDohMX0sby5maXJzdHx8KG8uZmlyc3Q9YSksciYmKHIubmV4dD1hKSxmP28uc2l6ZSsrOmUuc2l6ZSsrLCJGIiE9PWkmJihvLmluZGV4W2ldPWEpKSxlfSx5PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1wKGUpLGk9bCh0KTtpZigiRiIhPT1pKXJldHVybiByLmluZGV4W2ldO2ZvcihuPXIuZmlyc3Q7bjtuPW4ubmV4dClpZihuLmtleT09dClyZXR1cm4gbn07cmV0dXJuIG8oZC5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXAodGhpcyksdD1lLmluZGV4LG49ZS5maXJzdDtuOyluLnJlbW92ZWQ9ITAsbi5wcmV2aW91cyYmKG4ucHJldmlvdXM9bi5wcmV2aW91cy5uZXh0PXZvaWQgMCksZGVsZXRlIHRbbi5pbmRleF0sbj1uLm5leHQ7ZS5maXJzdD1lLmxhc3Q9dm9pZCAwLGY/ZS5zaXplPTA6dGhpcy5zaXplPTB9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49cCh0KSxyPXkodCxlKTtpZihyKXt2YXIgaT1yLm5leHQsbz1yLnByZXZpb3VzO2RlbGV0ZSBuLmluZGV4W3IuaW5kZXhdLHIucmVtb3ZlZD0hMCxvJiYoby5uZXh0PWkpLGkmJihpLnByZXZpb3VzPW8pLG4uZmlyc3Q9PXImJihuLmZpcnN0PWkpLG4ubGFzdD09ciYmKG4ubGFzdD1vKSxmP24uc2l6ZS0tOnQuc2l6ZS0tfXJldHVybiEhcn0sZm9yRWFjaDpmdW5jdGlvbihlKXtmb3IodmFyIHQsbj1wKHRoaXMpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3Q9dD90Lm5leHQ6bi5maXJzdDspZm9yKHIodC52YWx1ZSx0LmtleSx0aGlzKTt0JiZ0LnJlbW92ZWQ7KXQ9dC5wcmV2aW91c30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiEheSh0aGlzLGUpfX0pLG8oZC5wcm90b3R5cGUsbj97Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXkodGhpcyxlKTtyZXR1cm4gdCYmdC52YWx1ZX0sc2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYodGhpcywwPT09ZT8wOmUsdCl9fTp7YWRkOmZ1bmN0aW9uKGUpe3JldHVybiB2KHRoaXMsZT0wPT09ZT8wOmUsZSl9fSksZiYmcihkLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBwKHRoaXMpLnNpemV9fSksZH0sc2V0U3Ryb25nOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10KyIgSXRlcmF0b3IiLGk9Yih0KSxvPWIocik7cyhlLHQsKGZ1bmN0aW9uKGUsdCl7Zyh0aGlzLHt0eXBlOnIsdGFyZ2V0OmUsc3RhdGU6aShlKSxraW5kOnQsbGFzdDp2b2lkIDB9KX0pLChmdW5jdGlvbigpe2Zvcih2YXIgZT1vKHRoaXMpLHQ9ZS5raW5kLG49ZS5sYXN0O24mJm4ucmVtb3ZlZDspbj1uLnByZXZpb3VzO3JldHVybiBlLnRhcmdldCYmKGUubGFzdD1uPW4/bi5uZXh0OmUuc3RhdGUuZmlyc3QpPyJrZXlzIj09dD97dmFsdWU6bi5rZXksZG9uZTohMX06InZhbHVlcyI9PXQ/e3ZhbHVlOm4udmFsdWUsZG9uZTohMX06e3ZhbHVlOltuLmtleSxuLnZhbHVlXSxkb25lOiExfTooZS50YXJnZXQ9dm9pZCAwLHt2YWx1ZTp2b2lkIDAsZG9uZTohMH0pfSksbj8iZW50cmllcyI6InZhbHVlcyIsIW4sITApLGQodCl9fX0sMTIzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMzQpLG89bigxNiksYT1uKDEyNCk7ZS5leHBvcnRzPXI/T2JqZWN0LmRlZmluZVByb3BlcnRpZXM6ZnVuY3Rpb24oZSx0KXtvKGUpO2Zvcih2YXIgbixyPWEodCksYz1yLmxlbmd0aCx1PTA7Yz51OylpLmYoZSxuPXJbdSsrXSx0W25dKTtyZXR1cm4gZX19LDEyNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMjUpLGk9big5MCk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gcihlLGkpfX0sMTI1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNDUpLG89big4MykuaW5kZXhPZixhPW4oNTMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGM9aShlKSx1PTAscz1bXTtmb3IobiBpbiBjKSFyKGEsbikmJnIoYyxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+dTspcihjLG49dFt1KytdKSYmKH5vKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSwxMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpO2UuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwxMjc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oOTEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpIGluIHQpbiYmbi51bnNhZmUmJmVbaV0/ZVtpXT10W2ldOnIoZSxpLHRbaV0sbik7cmV0dXJuIGV9fSwxMjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDkyKS5JdGVyYXRvclByb3RvdHlwZSxpPW4oODkpLG89big0NCksYT1uKDY2KSxjPW4oNDApLHU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz10KyIgSXRlcmF0b3IiO3JldHVybiBlLnByb3RvdHlwZT1pKHIse25leHQ6bygxLG4pfSksYShlLHMsITEsITApLGNbc109dSxlfX0sMTI5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY29uc3RydWN0b3I9bnVsbCxPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IGUpIT09ZS5wcm90b3R5cGV9KSl9LDEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXUsdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgcj1uKDM3KSxpPW4oMCksbz1uKDExKSxhPW4ubihvKSxjPSJvdXRzdHJlYW0iO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcyxuPWUudXJsLG89ZS5jb25maWcsYT1lLmlkLHU9ZS5jYWxsYmFjayxkPWUubG9hZGVkLGY9ZS5hZFVuaXRDb2RlO3RoaXMudXJsPW4sdGhpcy5jb25maWc9byx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuaWQ9YSx0aGlzLmxvYWRlZD1kLHRoaXMuY21kPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZT90LmxvYWRlZD9lLmNhbGwoKTp0LmNtZC5wdXNoKGUpOmkubG9nRXJyb3IoIkNvbW1hbmRzIGdpdmVuIHRvIFJlbmRlcmVyLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sdGhpcy5jYWxsYmFjaz11fHxmdW5jdGlvbigpe3QubG9hZGVkPSEwLHQucHJvY2VzcygpfSx0aGlzLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD1hcmd1bWVudHMsbz1mdW5jdGlvbigpe2UuX3JlbmRlcj9lLl9yZW5kZXIuYXBwbHkoZSx0KTppLmxvZ1dhcm4oIk5vIHJlbmRlciBmdW5jdGlvbiB3YXMgcHJvdmlkZWQsIHBsZWFzZSB1c2UgLnNldFJlbmRlciBvbiB0aGUgcmVuZGVyZXIiKX07cyhmKT8oaS5sb2dXYXJuKCJFeHRlcm5hbCBKcyBub3QgbG9hZGVkIGJ5IFJlbmRlcmVyIHNpbmNlIHJlbmRlcmVyIHVybCBhbmQgY2FsbGJhY2sgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIGFkVW5pdCAiLmNvbmNhdChmKSksbygpKToodGhpcy5jbWQudW5zaGlmdChvKSxPYmplY3Qoci5hKShuLGMsdGhpcy5jYWxsYmFjaykpfS5iaW5kKHRoaXMpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dXBianMuYWRVbml0cyxuPWEoKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlPT09ZX0pKTtpZighbilyZXR1cm4hMTt2YXIgcj1pLmRlZXBBY2Nlc3MobiwicmVuZGVyZXIiKSxvPSEhKHImJnIudXJsJiZyLnJlbmRlciksYz1pLmRlZXBBY2Nlc3MobiwibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpLHU9ISEoYyYmYy51cmwmJmMucmVuZGVyKTtyZXR1cm4hIShvJiYhMCE9PXIuYmFja3VwT25seXx8dSYmITAhPT1jLmJhY2t1cE9ubHkpfXUuaW5zdGFsbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUoe3VybDplLnVybCxjb25maWc6ZS5jb25maWcsaWQ6ZS5pZCxjYWxsYmFjazplLmNhbGxiYWNrLGxvYWRlZDplLmxvYWRlZCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pfSx1LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25maWd9LHUucHJvdG90eXBlLnNldFJlbmRlcj1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXI9ZX0sdS5wcm90b3R5cGUuc2V0RXZlbnRIYW5kbGVycz1mdW5jdGlvbihlKXt0aGlzLmhhbmRsZXJzPWV9LHUucHJvdG90eXBlLmhhbmRsZVZpZGVvRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5pZCxuPWUuZXZlbnROYW1lOyJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzLmhhbmRsZXJzW25dJiZ0aGlzLmhhbmRsZXJzW25dKCksaS5sb2dNZXNzYWdlKCJQcmViaWQgUmVuZGVyZXIgZXZlbnQgZm9yIGlkICIuY29uY2F0KHQsIiB0eXBlICIpLmNvbmNhdChuKSl9LHUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuY21kLmxlbmd0aD4wOyl0cnl7dGhpcy5jbWQuc2hpZnQoKS5jYWxsKCl9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBSZW5kZXJlciBjb21tYW5kOiAiLGUpfX19LDEzMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDEzMSk7ZS5leHBvcnRzPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8KCJfX3Byb3RvX18iaW57fT9mdW5jdGlvbigpe3ZhciBlLHQ9ITEsbj17fTt0cnl7KGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQpLmNhbGwobixbXSksdD1uIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbihuLG8pe3JldHVybiByKG4pLGkobyksdD9lLmNhbGwobixvKTpuLl9fcHJvdG9fXz1vLG59fSgpOnZvaWQgMCl9LDEzMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFyKGUpJiZudWxsIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IHNldCAiK1N0cmluZyhlKSsiIGFzIGEgcHJvdG90eXBlIik7cmV0dXJuIGV9fSwxMzI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI3KSxpPW4oMzQpLG89bigyNCksYT1uKDMzKSxjPW8oInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9cihlKSxuPWkuZjthJiZ0JiYhdFtjXSYmbih0LGMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LDEzMzpmdW5jdGlvbihlLHQpe30sMTM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYwKSxpPW4oNDcpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIG8sYSxjPVN0cmluZyhpKHQpKSx1PXIobikscz1jLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1zP2U/IiI6dm9pZCAwOihvPWMuY2hhckNvZGVBdCh1KSk8NTUyOTZ8fG8+NTYzMTl8fHUrMT09PXN8fChhPWMuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8YT41NzM0Mz9lP2MuY2hhckF0KHUpOm86ZT9jLnNsaWNlKHUsdSsyKTphLTU2MzIwKyhvLTU1Mjk2PDwxMCkrNjU1MzZ9fTtlLmV4cG9ydHM9e2NvZGVBdDpvKCExKSxjaGFyQXQ6byghMCl9fSwxMzU6ZnVuY3Rpb24oZSx0LG4pe24oMTM2KTt2YXIgcj1uKDEzNyksaT1uKDI1KSxvPW4oNjQpLGE9bigzMiksYz1uKDQwKSx1PW4oMjQpKCJ0b1N0cmluZ1RhZyIpO2Zvcih2YXIgcyBpbiByKXt2YXIgZD1pW3NdLGY9ZCYmZC5wcm90b3R5cGU7ZiYmbyhmKSE9PXUmJmEoZix1LHMpLGNbc109Yy5BcnJheX19LDEzNjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDUpLGk9big1MSksbz1uKDQwKSxhPW4oNTQpLGM9big2OCksdT0iQXJyYXkgSXRlcmF0b3IiLHM9YS5zZXQsZD1hLmdldHRlckZvcih1KTtlLmV4cG9ydHM9YyhBcnJheSwiQXJyYXkiLChmdW5jdGlvbihlLHQpe3ModGhpcyx7dHlwZTp1LHRhcmdldDpyKGUpLGluZGV4OjAsa2luZDp0fSl9KSwoZnVuY3Rpb24oKXt2YXIgZT1kKHRoaXMpLHQ9ZS50YXJnZXQsbj1lLmtpbmQscj1lLmluZGV4Kys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoPyhlLnRhcmdldD12b2lkIDAse3ZhbHVlOnZvaWQgMCxkb25lOiEwfSk6ImtleXMiPT1uP3t2YWx1ZTpyLGRvbmU6ITF9OiJ2YWx1ZXMiPT1uP3t2YWx1ZTp0W3JdLGRvbmU6ITF9Ont2YWx1ZTpbcix0W3JdXSxkb25lOiExfX0pLCJ2YWx1ZXMiKSxvLkFyZ3VtZW50cz1vLkFycmF5LGkoImtleXMiKSxpKCJ2YWx1ZXMiKSxpKCJlbnRyaWVzIil9LDEzNzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17Q1NTUnVsZUxpc3Q6MCxDU1NTdHlsZURlY2xhcmF0aW9uOjAsQ1NTVmFsdWVMaXN0OjAsQ2xpZW50UmVjdExpc3Q6MCxET01SZWN0TGlzdDowLERPTVN0cmluZ0xpc3Q6MCxET01Ub2tlbkxpc3Q6MSxEYXRhVHJhbnNmZXJJdGVtTGlzdDowLEZpbGVMaXN0OjAsSFRNTEFsbENvbGxlY3Rpb246MCxIVE1MQ29sbGVjdGlvbjowLEhUTUxGb3JtRWxlbWVudDowLEhUTUxTZWxlY3RFbGVtZW50OjAsTWVkaWFMaXN0OjAsTWltZVR5cGVBcnJheTowLE5hbWVkTm9kZU1hcDowLE5vZGVMaXN0OjEsUGFpbnRSZXF1ZXN0TGlzdDowLFBsdWdpbjowLFBsdWdpbkFycmF5OjAsU1ZHTGVuZ3RoTGlzdDowLFNWR051bWJlckxpc3Q6MCxTVkdQYXRoU2VnTGlzdDowLFNWR1BvaW50TGlzdDowLFNWR1N0cmluZ0xpc3Q6MCxTVkdUcmFuc2Zvcm1MaXN0OjAsU291cmNlQnVmZmVyTGlzdDowLFN0eWxlU2hlZXRMaXN0OjAsVGV4dFRyYWNrQ3VlTGlzdDowLFRleHRUcmFja0xpc3Q6MCxUb3VjaExpc3Q6MH19LDEzODpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7ZnJvbTpuKDEzOSl9KX0sMTM5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyMSksaT1uKDI2KSxvPW4oMTkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGEsYyx1PWFyZ3VtZW50cy5sZW5ndGgscz11PjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gcih0aGlzKSwodD12b2lkIDAhPT1zKSYmcihzKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KGE9MCxjPWkocyx1PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSxvKGUsKGZ1bmN0aW9uKGUpe24ucHVzaChjKGUsYSsrKSl9KSkpOm8oZSxuLnB1c2gse3RoYXQ6bn0pLG5ldyB0aGlzKG4pKX19LDE0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy51cGJqc30sd2luZG93LnVwYmpzPXdpbmRvdy51cGJqc3x8e30sd2luZG93LnVwYmpzLmNtZD13aW5kb3cudXBianMuY21kfHxbXSx3aW5kb3cudXBianMucXVlPXdpbmRvdy51cGJqcy5xdWV8fFtdLHdpbmRvdy5fcGJqc0dsb2JhbHM9d2luZG93Ll9wYmpzR2xvYmFsc3x8W10sd2luZG93Ll9wYmpzR2xvYmFscy5wdXNoKCJ1cGJqcyIpfSwxNDA6ZnVuY3Rpb24oZSx0LG4pe24oMTUpKHt0YXJnZXQ6IlNldCIsc3RhdDohMH0se29mOm4oMTQxKX0pfSwxNDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19LDE0MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE0Myk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHthZGRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9LDE0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTYpLGk9bigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXIodGhpcyksdD1pKGUuYWRkKSxuPTAsbz1hcmd1bWVudHMubGVuZ3RoO248bztuKyspdC5jYWxsKGUsYXJndW1lbnRzW25dKTtyZXR1cm4gZX19LDE0NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE0NSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkZWxldGVBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSl9LDE0NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTYpLGk9bigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9cih0aGlzKSxuPWkodC5kZWxldGUpLG89ITAsYT0wLGM9YXJndW1lbnRzLmxlbmd0aDthPGM7YSsrKWU9bi5jYWxsKHQsYXJndW1lbnRzW2FdKSxvPW8mJmU7cmV0dXJuISFvfX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyNiksYz1uKDM1KSx1PW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZXZlcnk6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIXUobiwoZnVuY3Rpb24oZSxuKXtpZighcihlLGUsdCkpcmV0dXJuIG4oKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE0NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDQxKSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZGlmZmVyZW5jZTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpLHI9YyhuLmRlbGV0ZSk7cmV0dXJuIHMoZSwoZnVuY3Rpb24oZSl7ci5jYWxsKG4sZSl9KSksbn19KX0sMTQ4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMjcpLGE9bigxNiksYz1uKDIxKSx1PW4oMjYpLHM9big0MSksZD1uKDM1KSxmPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZmlsdGVyOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7cihlLGUsdCkmJmwuY2FsbChpLGUpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyNiksYz1uKDM1KSx1PW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZmluZDpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4gdShuLChmdW5jdGlvbihlLG4pe2lmKHIoZSxlLHQpKXJldHVybiBuKGUpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkucmVzdWx0fX0pfSwxNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9bigxMDMpLmYsbz1uKDEwNSksYT1uKDQ5KSxjPW4oMjYpLHU9bigzMikscz1uKDMxKSxkPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixmLGwscCxnLGIsdix5LGg9ZS50YXJnZXQsbT1lLmdsb2JhbCxTPWUuc3RhdCxFPWUucHJvdG8sQT1tP3I6Uz9yW2hdOihyW2hdfHx7fSkucHJvdG90eXBlLFQ9bT9hOmFbaF18fChhW2hdPXt9KSxPPVQucHJvdG90eXBlO2ZvcihsIGluIHQpbj0hbyhtP2w6aCsoUz8iLiI6IiMiKStsLGUuZm9yY2VkKSYmQSYmcyhBLGwpLGc9VFtsXSxuJiYoYj1lLm5vVGFyZ2V0R2V0Pyh5PWkoQSxsKSkmJnkudmFsdWU6QVtsXSkscD1uJiZiP2I6dFtsXSxuJiZ0eXBlb2YgZz09dHlwZW9mIHB8fCh2PWUuYmluZCYmbj9jKHAscik6ZS53cmFwJiZuP2QocCk6RSYmImZ1bmN0aW9uIj09dHlwZW9mIHA/YyhGdW5jdGlvbi5jYWxsLHApOnAsKGUuc2hhbXx8cCYmcC5zaGFtfHxnJiZnLnNoYW0pJiZ1KHYsInNoYW0iLCEwKSxUW2xdPXYsRSYmKHMoYSxmPWgrIlByb3RvdHlwZSIpfHx1KGEsZix7fSksYVtmXVtsXT1wLGUucmVhbCYmTyYmIU9bbF0mJnUoTyxsLHApKSl9fSwxNTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigyNyksYT1uKDE2KSxjPW4oMjEpLHU9big0MSkscz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2ludGVyc2VjdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpLHI9Yyh0LmhhcyksaT1jKG4uYWRkKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwodCxlKSYmaS5jYWxsKG4sZSl9KSksbn19KX0sMTUxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyMSksYz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzRGlzam9pbnRGcm9tOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCEwPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDk1KSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdWJzZXRPZjpmdW5jdGlvbihlKXt2YXIgdD11KHRoaXMpLG49YShlKSxyPW4uaGFzO3JldHVybiJmdW5jdGlvbiIhPXR5cGVvZiByJiYobj1uZXcobygiU2V0IikpKGUpLHI9YyhuLmhhcykpLCFzKHQsKGZ1bmN0aW9uKGUsdCl7aWYoITE9PT1yLmNhbGwobixlKSlyZXR1cm4gdCgpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTUzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMTYpLGE9bigyMSksYz1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzU3VwZXJzZXRPZjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0Lmhhcyk7cmV0dXJuIWMoZSwoZnVuY3Rpb24oZSxyKXtpZighMT09PW4uY2FsbCh0LGUpKXJldHVybiByKCl9KSx7SU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNiksYT1uKDM1KSxjPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7am9pbjpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49YSh0KSxyPXZvaWQgMD09PWU/IiwiOlN0cmluZyhlKSxpPVtdO3JldHVybiBjKG4saS5wdXNoLHt0aGF0OmksSVNfSVRFUkFUT1I6ITB9KSxpLmpvaW4ocil9fSl9LDE1NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDI2KSxzPW4oNDEpLGQ9bigzNSksZj1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se21hcDpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49ZCh0KSxyPXUoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKSxpPW5ldyhzKHQsbygiU2V0IikpKSxsPWMoaS5hZGQpO3JldHVybiBmKG4sKGZ1bmN0aW9uKGUpe2wuY2FsbChpLHIoZSxlLHQpKX0pLHtJU19JVEVSQVRPUjohMH0pLGl9fSl9LDE1NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDE2KSxhPW4oMjEpLGM9bigzNSksdT1uKDE5KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWFyZ3VtZW50cy5sZW5ndGg8MixpPXI/dm9pZCAwOmFyZ3VtZW50c1sxXTtpZihhKGUpLHUobiwoZnVuY3Rpb24obil7cj8ocj0hMSxpPW4pOmk9ZShpLG4sbix0KX0pLHtJU19JVEVSQVRPUjohMH0pLHIpdGhyb3cgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgc2V0IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSIpO3JldHVybiBpfX0pfSwxNTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTcpLG89bigxNiksYT1uKDI2KSxjPW4oMzUpLHU9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzb21lOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oKX0pLHtJU19JVEVSQVRPUjohMCxJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxNyksbz1uKDI3KSxhPW4oMTYpLGM9bigyMSksdT1uKDQxKSxzPW4oMTkpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7c3ltbWV0cmljRGlmZmVyZW5jZTpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpLHI9YyhuLmRlbGV0ZSksaT1jKG4uYWRkKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKXx8aS5jYWxsKG4sZSl9KSksbn19KX0sMTU5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE3KSxvPW4oMjcpLGE9bigxNiksYz1uKDIxKSx1PW4oNDEpLHM9bigxOSk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHt1bmlvbjpmdW5jdGlvbihlKXt2YXIgdD1hKHRoaXMpLG49bmV3KHUodCxvKCJTZXQiKSkpKHQpO3JldHVybiBzKGUsYyhuLmFkZCkse3RoYXQ6bn0pLG59fSl9LDE2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gZX19LDE2MDpmdW5jdGlvbihlLHQsbil7big5NCksbigxNjEpO3ZhciByPW4oNDkpO2UuZXhwb3J0cz1yLkFycmF5LmZyb219LDE2MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNSksaT1uKDE2Mik7cih7dGFyZ2V0OiJBcnJheSIsc3RhdDohMCxmb3JjZWQ6IW4oMTY1KSgoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pKX0se2Zyb206aX0pfSwxNjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDI2KSxpPW4oNDgpLG89bigxNjMpLGE9big4NiksYz1uKDUwKSx1PW4oMTY0KSxzPW4oNjMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGQsZixsLHAsZz1pKGUpLGI9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXM/dGhpczpBcnJheSx2PWFyZ3VtZW50cy5sZW5ndGgseT12PjE/YXJndW1lbnRzWzFdOnZvaWQgMCxoPXZvaWQgMCE9PXksbT1zKGcpLFM9MDtpZihoJiYoeT1yKHksdj4yP2FyZ3VtZW50c1syXTp2b2lkIDAsMikpLG51bGw9PW18fGI9PUFycmF5JiZhKG0pKWZvcihuPW5ldyBiKHQ9YyhnLmxlbmd0aCkpO3Q+UztTKyspcD1oP3koZ1tTXSxTKTpnW1NdLHUobixTLHApO2Vsc2UgZm9yKGw9KGY9bS5jYWxsKGcpKS5uZXh0LG49bmV3IGI7IShkPWwuY2FsbChmKSkuZG9uZTtTKyspcD1oP28oZix5LFtkLnZhbHVlLFNdLCEwKTpkLnZhbHVlLHUobixTLHApO3JldHVybiBuLmxlbmd0aD1TLG59fSwxNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big4Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLG8pe3RyeXtyZXR1cm4gbz90KHIobilbMF0sblsxXSk6dChuKX1jYXRjaCh0KXt0aHJvdyBpKGUpLHR9fX0sMTY0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1OCksaT1uKDM0KSxvPW4oNDQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGE9cih0KTthIGluIGU/aS5mKGUsYSxvKDAsbikpOmVbYV09bn19LDE2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNCkoIml0ZXJhdG9yIiksaT0hMTt0cnl7dmFyIG89MCxhPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFvKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtpPSEwfX07YVtyXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGEsKGZ1bmN0aW9uKCl7dGhyb3cgMn0pKX1jYXRjaChlKXt9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFpKXJldHVybiExO3ZhciBuPSExO3RyeXt2YXIgbz17fTtvW3JdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTpuPSEwfX19fSxlKG8pfWNhdGNoKGUpe31yZXR1cm4gbn19LDE2NjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQpe3ZhciBuPUFycmF5LmlzQXJyYXkodCk/W106e307Zm9yKHZhciByIGluIHQpe3ZhciBpPXRbcl07bltyXT1pJiYib2JqZWN0Ij09dHlwZW9mIGk/ZShpKTppfXJldHVybiBufX0sMTY3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuLHIsaSl7Zm9yKHQ9dC5zcGxpdD90LnNwbGl0KCIuIik6dCxyPTA7cjx0Lmxlbmd0aDtyKyspZT1lP2VbdFtyXV06aTtyZXR1cm4gZT09PWk/bjplfX0sMTY4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCxuKXt0LnNwbGl0JiYodD10LnNwbGl0KCIuIikpO2Zvcih2YXIgcixpPTAsbz10Lmxlbmd0aCxhPWU7aTxvOysraSlyPWFbdFtpXV0sYT1hW3RbaV1dPWk9PT1vLTE/bjpudWxsIT1yP3I6IX50W2krMV0uaW5kZXhPZigiLiIpJiYrdFtpKzFdPi0xP1tdOnt9fX0sMTY5OmZ1bmN0aW9uKGUsdCl7Ci8qCiogQGxpY2Vuc2UgTUlUCiogRnVuIEhvb2tzIHYwLjkuMTAKKiAoYykgQHNuYXB3aWNoCiovCmMuU1lOQz0xLGMuQVNZTkM9MixjLlFVRVVFPTQ7dmFyIG49T2JqZWN0LmZyZWV6ZSh7dXNlUHJveHk6ITAscmVhZHk6MH0pLHI9bmV3IFdlYWtNYXAsaT0iMiwxLDAiPT09WzFdLnJlZHVjZSgoZnVuY3Rpb24oZSx0LG4pe3JldHVybltlLHQsbl19KSwyKS50b1N0cmluZygpP0FycmF5LnByb3RvdHlwZS5yZWR1Y2U6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPU9iamVjdCh0aGlzKSxpPXIubGVuZ3RoPj4+MCxvPTA7aWYodCluPXQ7ZWxzZXtmb3IoO288aSYmIShvIGluIHIpOylvKys7bj1yW28rK119Zm9yKDtvPGk7KW8gaW4gciYmKG49ZShuLHJbb10sbyxyKSksbysrO3JldHVybiBufTtmdW5jdGlvbiBvKGUsdCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsdCl9dmFyIGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChvKGFyZ3VtZW50cywxKSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10W25dfSkpLGV9KSxlKX07ZnVuY3Rpb24gYyhlKXt2YXIgdCx1PXt9LHM9W107ZnVuY3Rpb24gZChlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2cuY2FsbChudWxsLCJzeW5jIixlLHQpOiJzdHJpbmciPT10eXBlb2YgZSYmImZ1bmN0aW9uIj09dHlwZW9mIHQ/Zy5hcHBseShudWxsLGFyZ3VtZW50cyk6Im9iamVjdCI9PXR5cGVvZiBlP2YuYXBwbHkobnVsbCxhcmd1bWVudHMpOnZvaWQgMH1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgcj0hMDt2b2lkIDA9PT10JiYodD1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxyPSExKTt2YXIgaT17fSxvPVsiY29uc3RydWN0b3IiXTtkb3sodD10LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuISgiZnVuY3Rpb24iIT10eXBlb2YgZVt0XXx8LTEhPT1vLmluZGV4T2YodCl8fHQubWF0Y2goL15fLykpfSkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj10LnNwbGl0KCI6Iiksbz1yWzBdLGE9clsxXXx8InN5bmMiO2lmKCFpW29dKXt2YXIgYz1lW29dO2lbb109ZVtvXT1nKGEsYyxuP1tuLG9dOnZvaWQgMCl9fSkpLGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpfXdoaWxlKHImJmUpO3JldHVybiBpfWZ1bmN0aW9uIGwoZSl7dmFyIG49QXJyYXkuaXNBcnJheShlKT9lOmUuc3BsaXQoIi4iKTtyZXR1cm4gaS5jYWxsKG4sKGZ1bmN0aW9uKHIsaSxvKXt2YXIgYT1yW2ldLGM9ITE7cmV0dXJuIGF8fChvPT09bi5sZW5ndGgtMT8odHx8cy5wdXNoKChmdW5jdGlvbigpe2N8fGNvbnNvbGUud2FybigiZnVuLWhvb2tzOiByZWZlcmVuY2VkICciK2UrIicgYnV0IGl0IHdhcyBuZXZlciBjcmVhdGVkIil9KSkscltpXT1wKChmdW5jdGlvbihlKXtyW2ldPWUsYz0hMH0pKSk6cltpXT17fSl9KSx1KX1mdW5jdGlvbiBwKGUpe3ZhciB0PVtdLG49W10saT1mdW5jdGlvbigpe30sbz17YmVmb3JlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHUuY2FsbCh0aGlzLHQsImJlZm9yZSIsZSxuKX0sYWZ0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdS5jYWxsKHRoaXMsbiwiYWZ0ZXIiLGUsdCl9LGdldEhvb2tzOmZ1bmN0aW9uKGUpe3ZhciByPXQuY29uY2F0KG4pOyJvYmplY3QiPT10eXBlb2YgZSYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyhlKS5ldmVyeSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lW25dfSkpfSkpKTt0cnl7YShyLHtyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnJlbW92ZSgpfSkpLHRoaXN9fSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiZXJyb3IgYWRkaW5nIGByZW1vdmVgIHRvIGFycmF5LCBkaWQgeW91IG1vZGlmeSBBcnJheS5wcm90b3R5cGU/Iil9cmV0dXJuIHJ9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEhvb2tzKCkucmVtb3ZlKCl9fSxjPXtpbnN0YWxsOmZ1bmN0aW9uKHIsbyxhKXt0aGlzLnR5cGU9cixpPWEsYSh0LG4pLGUmJmUobyl9fTtyZXR1cm4gci5zZXQoby5hZnRlcixjKSxvO2Z1bmN0aW9uIHUoZSxyLG8sYSl7dmFyIGM9e2hvb2s6byx0eXBlOnIscHJpb3JpdHk6YXx8MTAscmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIHI9ZS5pbmRleE9mKGMpOy0xIT09ciYmKGUuc3BsaWNlKHIsMSksaSh0LG4pKX19O3JldHVybiBlLnB1c2goYyksZS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnByaW9yaXR5LWUucHJpb3JpdHl9KSksaSh0LG4pLHRoaXN9fWZ1bmN0aW9uIGcobixpLHUpe3ZhciBkPWkuYWZ0ZXImJnIuZ2V0KGkuYWZ0ZXIpO2lmKGQpe2lmKGQudHlwZSE9PW4pdGhyb3ciZnVuLWhvb2tzOiByZWNyZWF0ZWQgaG9va2FibGUgd2l0aCBkaWZmZXJlbnQgdHlwZSI7cmV0dXJuIGl9dmFyIGYsZyxiPXU/bCh1KTpwKCksdj17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGJbdF18fFJlZmxlY3QuZ2V0LmFwcGx5KFJlZmxlY3QsYXJndW1lbnRzKX19O3JldHVybiB0fHxzLnB1c2goeSksZS51c2VQcm94eSYmImZ1bmN0aW9uIj09dHlwZW9mIFByb3h5JiZQcm94eS5yZXZvY2FibGU/Zz1uZXcgUHJveHkoaSx2KTphKGc9ZnVuY3Rpb24oKXtyZXR1cm4gdi5hcHBseT92LmFwcGx5KGksdGhpcyxvKGFyZ3VtZW50cykpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiKSxyLmdldChnLmFmdGVyKS5pbnN0YWxsKG4sZywoZnVuY3Rpb24oZSx0KXt2YXIgcixpPVtdO2UubGVuZ3RofHx0Lmxlbmd0aD8oZS5mb3JFYWNoKGEpLHI9aS5wdXNoKHZvaWQgMCktMSx0LmZvckVhY2goYSksZj1mdW5jdGlvbihlLHQsYSl7dmFyIGMsdT0wLHM9ImFzeW5jIj09PW4mJiJmdW5jdGlvbiI9PXR5cGVvZiBhW2EubGVuZ3RoLTFdJiZhLnBvcCgpO2Z1bmN0aW9uIGQoZSl7InN5bmMiPT09bj9jPWU6cyYmcy5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZihlKXtpZihpW3VdKXt2YXIgcj1vKGFyZ3VtZW50cyk7cmV0dXJuIGYuYmFpbD1kLHIudW5zaGlmdChmKSxpW3UrK10uYXBwbHkodCxyKX0ic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1yZXR1cm4gaVtyXT1mdW5jdGlvbigpe3ZhciByPW8oYXJndW1lbnRzLDEpOyJhc3luYyI9PT1uJiZzJiYoZGVsZXRlIGYuYmFpbCxyLnB1c2goZikpO3ZhciBpPWUuYXBwbHkodCxyKTsic3luYyI9PT1uJiZmKGkpfSxmLmFwcGx5KG51bGwsYSksY30pOmY9dm9pZCAwO2Z1bmN0aW9uIGEoZSl7aS5wdXNoKGUuaG9vayl9eSgpfSkpLGc7ZnVuY3Rpb24geSgpeyF0JiYoInN5bmMiIT09bnx8ZS5yZWFkeSZjLlNZTkMpJiYoImFzeW5jIiE9PW58fGUucmVhZHkmYy5BU1lOQyk/InN5bmMiIT09biYmZS5yZWFkeSZjLlFVRVVFP3YuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7cy5wdXNoKChmdW5jdGlvbigpe2cuYXBwbHkoZVsxXSxlWzJdKX0pKX06di5hcHBseT1mdW5jdGlvbigpe3Rocm93ImZ1bi1ob29rczogaG9va2VkIGZ1bmN0aW9uIG5vdCByZWFkeSJ9OnYuYXBwbHk9Zn19cmV0dXJuKGU9YSh7fSxuLGUpKS5yZWFkeT9kLnJlYWR5PWZ1bmN0aW9uKCl7dD0hMCxmdW5jdGlvbihlKXtmb3IodmFyIHQ7dD1lLnNoaWZ0KCk7KXQoKX0ocyl9OnQ9ITAsZC5nZXQ9bCxkfWUuZXhwb3J0cz1jfSwxNzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sMTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9big4Niksbz1uKDUwKSxhPW4oMjYpLGM9big2MyksdT1uKDg3KSxzPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdG9wcGVkPWUsdGhpcy5yZXN1bHQ9dH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgZCxmLGwscCxnLGIsdix5PW4mJm4udGhhdCxoPSEoIW58fCFuLkFTX0VOVFJJRVMpLG09ISghbnx8IW4uSVNfSVRFUkFUT1IpLFM9ISghbnx8IW4uSU5URVJSVVBURUQpLEU9YSh0LHksMStoK1MpLEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGQmJnUoZCksbmV3IHMoITAsZSl9LFQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGg/KHIoZSksUz9FKGVbMF0sZVsxXSxBKTpFKGVbMF0sZVsxXSkpOlM/RShlLEEpOkUoZSl9O2lmKG0pZD1lO2Vsc2V7aWYoImZ1bmN0aW9uIiE9dHlwZW9mKGY9YyhlKSkpdGhyb3cgVHlwZUVycm9yKCJUYXJnZXQgaXMgbm90IGl0ZXJhYmxlIik7aWYoaShmKSl7Zm9yKGw9MCxwPW8oZS5sZW5ndGgpO3A+bDtsKyspaWYoKGc9VChlW2xdKSkmJmcgaW5zdGFuY2VvZiBzKXJldHVybiBnO3JldHVybiBuZXcgcyghMSl9ZD1mLmNhbGwoZSl9Zm9yKGI9ZC5uZXh0OyEodj1iLmNhbGwoZCkpLmRvbmU7KXt0cnl7Zz1UKHYudmFsdWUpfWNhdGNoKGUpe3Rocm93IHUoZCksZX1pZigib2JqZWN0Ij09dHlwZW9mIGcmJmcmJmcgaW5zdGFuY2VvZiBzKXJldHVybiBnfXJldHVybiBuZXcgcyghMSl9fSwyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiByfSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSxuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPSJuYXRpdmUiLGk9InZpZGVvIixvPSJiYW5uZXIiLGE9ImFkcG9kIn0sMjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHI9bigzKSxpPW4oMCk7dmFyIG89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1yLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIik7aWYodClyZXR1cm4gdDt0cnl7dmFyIG49ZS5xdWVyeVNlbGVjdG9yKCJsaW5rW3JlbD0nY2Fub25pY2FsJ10iKTtpZihudWxsIT09bilyZXR1cm4gbi5ocmVmfWNhdGNoKGUpe31yZXR1cm4gbnVsbH1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgbixvLGEsYz1bXSx1PWZ1bmN0aW9uKGUpe3RyeXtpZighZS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMpcmV0dXJuO3JldHVybiBlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc31jYXRjaChlKXt9fShlKSxzPXIuYi5nZXRDb25maWcoIm1heE5lc3RlZElmcmFtZXMiKSxkPSExLGY9MCxsPSExLHA9ITE7ZG97dmFyIGc9bixiPXAsdj12b2lkIDAseT0hMSxoPW51bGw7cD0hMSxuPW4/bi5wYXJlbnQ6ZTt0cnl7dj1uLmxvY2F0aW9uLmhyZWZ8fG51bGx9Y2F0Y2goZSl7eT0hMH1pZih5KWlmKGIpe3ZhciBtPWcuY29udGV4dDt0cnl7bz1oPW0uc291cmNlVXJsLGw9ITAsbj09PWUudG9wJiYoZD0hMCksbS5jYW5vbmljYWxVcmwmJihhPW0uY2Fub25pY2FsVXJsKX1jYXRjaChlKXt9fWVsc2V7T2JqZWN0KGkubG9nV2FybikoIlRyeWluZyB0byBhY2Nlc3MgY3Jvc3MgZG9tYWluIGlmcmFtZS4gQ29udGludWluZyB3aXRob3V0IHJlZmVycmVyIGFuZCBsb2NhdGlvbiIpO3RyeXt2YXIgUz1nLmRvY3VtZW50LnJlZmVycmVyO1MmJihoPVMsbj09PWUudG9wJiYoZD0hMCkpfWNhdGNoKGUpe30haCYmdSYmdVtmLTFdJiYoaD11W2YtMV0pLGgmJiFsJiYobz1oKX1lbHNle2lmKHYmJihvPWg9dixsPSExLG49PT1lLnRvcCkpe2Q9ITA7dmFyIEU9dChuLmRvY3VtZW50KTtFJiYoYT1FKX1uLmNvbnRleHQmJm4uY29udGV4dC5zb3VyY2VVcmwmJihwPSEwKX1jLnB1c2goaCksZisrfXdoaWxlKG4hPT1lLnRvcCYmZjxzKTtyZXR1cm4gYy5yZXZlcnNlKCkse3JlZmVyZXI6b3x8bnVsbCxyZWFjaGVkVG9wOmQsaXNBbXA6bCxudW1JZnJhbWVzOmYtMSxzdGFjazpjLGNhbm9uaWNhbFVybDphfHxudWxsfX19KHdpbmRvdyl9LDIxOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgYSBmdW5jdGlvbiIpO3JldHVybiBlfX0sMjEzOmZ1bmN0aW9uKGUsdCxuKXtuKDIxNCk7dmFyIHI9big1Mik7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZEluZGV4Iil9LDIxNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big1OSkuZmluZEluZGV4LG89big1MSksYT0iZmluZEluZGV4IixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZEluZGV4KChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwyMTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCwhMSl9O3ZhciByPW4oOSksaT1uLm4ociksbz1uKDM2KSxhPW4oNSksYz1uLm4oYSksdT1uKDApLHM9bigyMyksZD1uKDExKSxmPW4ubihkKSxsPW4oMTMpLHA9bigxMiksZz1uLm4ocCksYj1uKDMpLHY9Yy5hLkVWRU5UUy5CSURfV09OLHk9Yy5hLkVWRU5UUy5TVEFMRV9SRU5ERVI7ZnVuY3Rpb24gaChlKXt2YXIgdD1lLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIixuPXt9O3RyeXtuPUpTT04ucGFyc2UoZVt0XSl9Y2F0Y2goZSl7cmV0dXJufWlmKG4mJm4uYWRJZCl7dmFyIHI9ZigpKHMuYS5nZXRCaWRzUmVjZWl2ZWQoKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PW4uYWRJZH0pKTtpZihyJiYiUHJlYmlkIFJlcXVlc3QiPT09bi5tZXNzYWdlKXtpZihyLnN0YXR1cz09PWMuYS5CSURfU1RBVFVTLlJFTkRFUkVEJiYoT2JqZWN0KHUubG9nV2FybikoIkFkIGlkICIuY29uY2F0KHIuYWRJZCwiIGhhcyBiZWVuIHJlbmRlcmVkIGJlZm9yZSIpKSxpLmEuZW1pdCh5LHIpLE9iamVjdCh1LmRlZXBBY2Nlc3MpKGIuYi5nZXRDb25maWcoImF1Y3Rpb25PcHRpb25zIiksInN1cHByZXNzU3RhbGVSZW5kZXIiKSkpcmV0dXJuOyFmdW5jdGlvbihlLHQpe3ZhciBuPWUuYWRJZCxyPWUuYWQsaT1lLmFkVXJsLG89ZS53aWR0aCxhPWUuaGVpZ2h0LGM9ZS5yZW5kZXJlcixzPWUuY3BtO09iamVjdChsLmMpKGMpP09iamVjdChsLmIpKGMsZSk6biYmKG0oZSksdC5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoe21lc3NhZ2U6IlJlbmRlciBTZWN1cmUgQ3JlYXRpdmUiLGFkOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKHIscyksYWRVcmw6T2JqZWN0KHUucmVwbGFjZUF1Y3Rpb25QcmljZSkoaSxzKSxhZElkOm4sd2lkdGg6byxoZWlnaHQ6YX0pLHQub3JpZ2luKSl9KHIsZSkscy5hLmFkZFdpbm5pbmdCaWQociksaS5hLmVtaXQodixyKX1pZihyJiYiUHJlYmlkIE5hdGl2ZSI9PT1uLm1lc3NhZ2Upe2lmKCJhc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBhPU9iamVjdChvLmQpKG4scik7cmV0dXJuIHZvaWQgZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSksZS5vcmlnaW4pfWlmKCJhbGxBc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBkPU9iamVjdChvLmMpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZCksZS5vcmlnaW4pfWVsc2UicmVzaXplTmF0aXZlSGVpZ2h0Ij09PW4uYWN0aW9uJiYoci5oZWlnaHQ9bi5oZWlnaHQsci53aWR0aD1uLndpZHRoLG0ocikpO2lmKCJjbGljayI9PT1PYmplY3Qoby5iKShuLHIpKXJldHVybjtzLmEuYWRkV2lubmluZ0JpZChyKSxpLmEuZW1pdCh2LHIpfX19ZnVuY3Rpb24gbShlKXt2YXIgdD1lLmFkSWQsbj1lLmFkVW5pdENvZGUscj1lLndpZHRoLGk9ZS5oZWlnaHQ7WyJkaXYiLCJpZnJhbWUiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbz1mdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuO09iamVjdCh1LmlzR3B0UHViYWRzRGVmaW5lZCkoKSYmKG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZigpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSwoZnVuY3Rpb24odCl7cmV0dXJuIGYoKSh0LmdldFRhcmdldGluZ0tleXMoKSwoZnVuY3Rpb24obil7cmV0dXJuIGcoKSh0LmdldFRhcmdldGluZyhuKSxlKX0pKX0pKTtyZXR1cm4gdCYmdC5nZXRTbG90RWxlbWVudElkKCl9KGUpKTshbiYmT2JqZWN0KHUuaXNBcG5HZXRUYWdEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtyZXR1cm4gdCYmdC50YXJnZXRJZH0odCkpO258fChuPXQpO3JldHVybiBufSh0LG4pLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocik7cmV0dXJuIGkmJmkucXVlcnlTZWxlY3RvcihlKX0oZSsnOm5vdChbc3R5bGUqPSJkaXNwbGF5OiBub25lIl0pJyk7aWYobyl7dmFyIGE9by5zdHlsZTthLndpZHRoPXIrInB4IixhLmhlaWdodD1pKyJweCJ9ZWxzZSBPYmplY3QodS5sb2dXYXJuKSgiVW5hYmxlIHRvIGxvY2F0ZSBtYXRjaGluZyBwYWdlIGVsZW1lbnQgZm9yIGFkVW5pdENvZGUgIi5jb25jYXQobiwiLiAgQ2FuJ3QgcmVzaXplIGl0IHRvIGFkJ3MgZGltZW5zaW9ucy4gIFBsZWFzZSByZXZpZXcgc2V0dXAuIikpfSkpfX0sMjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpLGk9biYmT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpLG89aSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiY29udGV4dCIpO3JldHVybiBzKGUsbixpLG8pfSxuLmQodCwiYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7big4KTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9KG4ubihvKSxuKDEwKSksYz0ib3V0c3RyZWFtIix1PSJpbnN0cmVhbSI7dmFyIHM9T2JqZWN0KGEuYikoInN5bmMiLChmdW5jdGlvbihlLHQsbixvKXtyZXR1cm4hdHx8biYmbyE9PWM/aS5iLmdldENvbmZpZygiY2FjaGUudXJsIil8fCFlLnZhc3RYbWx8fGUudmFzdFVybD8hKCFlLnZhc3RVcmwmJiFlLnZhc3RYbWwpOihPYmplY3Qoci5sb2dFcnJvcikoJ1xuICAgICAgICBUaGlzIGJpZCBjb250YWlucyBvbmx5IHZhc3RYbWwgYW5kIHdpbGwgbm90IHdvcmsgd2hlbiBhIHByZWJpZCBjYWNoZSB1cmwgaXMgbm90IHNwZWNpZmllZC5cbiAgICAgICAgVHJ5IGVuYWJsaW5nIHByZWJpZCBjYWNoZSB3aXRoIHVwYmpzLnNldENvbmZpZyh7IGNhY2hlOiB7dXJsOiAiLi4uIn0gfSk7XG4gICAgICAnKSwhMSk6byE9PWN8fCEhKGUucmVuZGVyZXJ8fHQucmVuZGVyZXJ8fG4ucmVuZGVyZXIpfSksImNoZWNrVmlkZW9CaWRTZXR1cCIpfSwyMjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e2U9ZXx8d2luZG93LnNlc3Npb25TdG9yYWdlLHQ9SlNPTi5wYXJzZShlLmdldEl0ZW0odSkpfWNhdGNoKGUpe310JiZwKHQsITApfTt2YXIgcixpLG89bigzKSxhPW4oMCksYz1uKDI4KSx1PSJ1cGJqczpkZWJ1Z2dpbmciO2Z1bmN0aW9uIHMoZSl7T2JqZWN0KGEubG9nTWVzc2FnZSkoIkRFQlVHOiAiK2UpfWZ1bmN0aW9uIGQoZSl7T2JqZWN0KGEubG9nV2FybikoIkRFQlVHOiAiK2UpfWZ1bmN0aW9uIGYoZSl7cj15LmJpbmQoZSksYy5jLmJlZm9yZShyLDUpLGk9aC5iaW5kKGUpLGMuZS5iZWZvcmUoaSw1KX1mdW5jdGlvbiBsKCl7Yy5jLmdldEhvb2tzKHtob29rOnJ9KS5yZW1vdmUoKSxjLmUuZ2V0SG9va3Moe2hvb2s6aX0pLnJlbW92ZSgpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtvLmIuc2V0Q29uZmlnKHtkZWJ1ZzohMH0pLGwoKSxmKGUpLHMoImJpZGRlciBvdmVycmlkZXMgZW5hYmxlZCIuY29uY2F0KHQ/IiBmcm9tIHNlc3Npb24iOiIiKSl9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuISghZS5iaWRkZXJ8fGUuYmlkZGVyPT09dCl8fCEoIWUuYWRVbml0Q29kZXx8ZS5hZFVuaXRDb2RlPT09bil9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYtMT09PWUuaW5kZXhPZih0KX1mdW5jdGlvbiB2KGUsdCxuKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PVsiYWRVbml0Q29kZSIsImJpZGRlciJdLmluZGV4T2YoZSl9KSkucmVkdWNlKChmdW5jdGlvbih0LHIpe3JldHVybiBzKCJiaWRkZXIgb3ZlcnJpZGVzIGNoYW5nZWQgJyIuY29uY2F0KHQuYWRVbml0Q29kZSwiLyIpLmNvbmNhdCh0LmJpZGRlckNvZGUsIicgIikuY29uY2F0KG4sIi4iKS5jb25jYXQociwiIGZyb20gJyIpLmNvbmNhdCh0W3JdLCIuanMnIHRvICciKS5jb25jYXQoZVtyXSwiJyIpKSx0W3JdPWVbcl0sdH0pLHQpfWZ1bmN0aW9uIHkoZSx0LG4pe3ZhciByPXRoaXM7YihyLmJpZGRlcnMsbi5iaWRkZXJDb2RlKT9kKCJiaWRkZXIgJyIuY29uY2F0KG4uYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKTooQXJyYXkuaXNBcnJheShyLmJpZHMpJiZyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZyhlLG4uYmlkZGVyQ29kZSx0KXx8dihlLG4sImJpZGRlciIpfSkpLGUodCxuKSl9ZnVuY3Rpb24gaChlLHQpe3ZhciBuPXRoaXMscj10LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWIobi5iaWRkZXJzLGUuYmlkZGVyQ29kZSl8fChkKCJiaWRSZXF1ZXN0ICciLmNvbmNhdChlLmJpZGRlckNvZGUsIicgZXhjbHVkZWQgZnJvbSBhdWN0aW9uIGJ5IGJpZGRlciBvdmVycmlkZXMiKSksITEpfSkpO0FycmF5LmlzQXJyYXkobi5iaWRSZXF1ZXN0cykmJnIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5iaWRSZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7Zyh0LGUuYmlkZGVyQ29kZSxuLmFkVW5pdENvZGUpfHx2KHQsbiwiYmlkUmVxdWVzdCIpfSkpfSkpfSkpLGUocil9ZnVuY3Rpb24gbShlKXtpZihlLmVuYWJsZWQpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh1LEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt9cChlKX1lbHNle2woKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGRpc2FibGVkIik7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHUpfWNhdGNoKGUpe319fW8uYi5nZXRDb25maWcoImRlYnVnZ2luZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBtKGUuZGVidWdnaW5nKX0pKX0sMjM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIHI9bigwKSxpPW4oMjgpLG89bigxMSksYT1uLm4obyksYz1uKDUpO3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD17fTtyZXR1cm4gdC5hZGRXaW5uaW5nQmlkPWZ1bmN0aW9uKHQpe3ZhciBuPWEoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PXQuYXVjdGlvbklkfSkpO24/KHQuc3RhdHVzPWMuQklEX1NUQVRVUy5SRU5ERVJFRCxuLmFkZFdpbm5pbmdCaWQodCkpOk9iamVjdChyLmxvZ1dhcm4pKCJBdWN0aW9uIG5vdCBmb3VuZCB3aGVuIGFkZGluZyB3aW5uaW5nIGJpZCIpfSx0LmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRXaW5uaW5nQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZFJlcXVlc3RzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb0JpZHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRCaWRzUmVjZWl2ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe2lmKGUuZ2V0QXVjdGlvblN0YXR1cygpPT09aS5hKXJldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9LHQuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmFkVW5pdENvZGU9PT10fSkpfSx0LmdldEFkVW5pdHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEFkVW5pdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXRBZFVuaXRDb2Rlcz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0Q29kZXMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5maWx0ZXIoci51bmlxdWVzKX0sdC5jcmVhdGVBdWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuPXQuYWRVbml0cyxyPXQuYWRVbml0Q29kZXMsbz10LmNhbGxiYWNrLGE9dC5jYlRpbWVvdXQsYz10LmxhYmVscyx1PXQuYXVjdGlvbklkLHM9T2JqZWN0KGkuaykoe2FkVW5pdHM6bixhZFVuaXRDb2RlczpyLGNhbGxiYWNrOm8sY2JUaW1lb3V0OmEsbGFiZWxzOmMsYXVjdGlvbklkOnV9KTtyZXR1cm4gZnVuY3Rpb24odCl7ZS5wdXNoKHQpfShzKSxzfSx0LmZpbmRCaWRCeUFkSWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGEoKShlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10fSkpfSx0LmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkuaikoKVtjLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfSx0LnNldFN0YXR1c0ZvckJpZHM9ZnVuY3Rpb24obixyKXt2YXIgaT10LmZpbmRCaWRCeUFkSWQobik7aWYoaSYmKGkuc3RhdHVzPXIpLGkmJnI9PT1jLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpe3ZhciBvPWEoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PWkuYXVjdGlvbklkfSkpO28mJm8uc2V0QmlkVGFyZ2V0aW5nKGkpfX0sdC5nZXRMYXN0QXVjdGlvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIGUubGVuZ3RoJiZlW2UubGVuZ3RoLTFdLmdldEF1Y3Rpb25JZCgpfSx0LmNsZWFyQWxsQXVjdGlvbnM9ZnVuY3Rpb24oKXtlLmxlbmd0aD0wfSx0fSgpfSwyNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDgxKSxvPW4oMzEpLGE9big2MiksYz1uKDgyKSx1PW4oMTExKSxzPWkoIndrcyIpLGQ9ci5TeW1ib2wsZj11P2Q6ZCYmZC53aXRob3V0U2V0dGVyfHxhO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbyhzLGUpJiYoY3x8InN0cmluZyI9PXR5cGVvZiBzW2VdKXx8KGMmJm8oZCxlKT9zW2VdPWRbZV06c1tlXT1mKCJTeW1ib2wuIitlKSksc1tlXX19LDI1OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHQsbigzOSkpfSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZihyKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKG4pe2Nhc2UgMDpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5jYWxsKHQpfTtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlLmNhbGwodCxuKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBlLmNhbGwodCxuLHIpfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scixpKXtyZXR1cm4gZS5jYWxsKHQsbixyLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sMjc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDkpLGk9bigyNSksbz1mdW5jdGlvbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9lOnZvaWQgMH07ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg8Mj9vKHJbZV0pfHxvKGlbZV0pOnJbZV0mJnJbZV1bdF18fGlbZV0mJmlbZV1bdF19fSwyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEl9KSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLHM9ZS5hZFVuaXRzLGQ9ZS5hZFVuaXRDb2RlcyxmPWUuY2FsbGJhY2sscD1lLmNiVGltZW91dCx2PWUubGFiZWxzLFU9ZS5hdWN0aW9uSWQsaz1zLFA9dixxPWQsTT1bXSxXPVtdLEw9W10sRj1VfHxTLmdlbmVyYXRlVVVJRCgpLHo9ZixWPXAsSD1bXSxLPW5ldyBTZXQ7ZnVuY3Rpb24gSigpe3JldHVybnthdWN0aW9uSWQ6Rix0aW1lc3RhbXA6dCxhdWN0aW9uRW5kOm4sYXVjdGlvblN0YXR1czpvLGFkVW5pdHM6ayxhZFVuaXRDb2RlczpxLGxhYmVsczpQLGJpZGRlclJlcXVlc3RzOk0sbm9CaWRzOkwsYmlkc1JlY2VpdmVkOlcsd2lubmluZ0JpZHM6SCx0aW1lb3V0OlZ9fWZ1bmN0aW9uIFkoZSx0KXtpZih0JiZjbGVhclRpbWVvdXQoYSksdm9pZCAwPT09bil7dmFyIGk9W107ZSYmKFMubG9nTWVzc2FnZSgiQXVjdGlvbiAiLmNvbmNhdChGLCIgdGltZWRPdXQiKSksYz1LLChpPU0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRzfHxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hYy5oYXMoZS5iaWRkZXIpfSkpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2JpZElkOmUuYmlkSWQsYmlkZGVyOmUuYmlkZGVyLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLGF1Y3Rpb25JZDplLmF1Y3Rpb25JZH19KSkpLmxlbmd0aCYmQS5lbWl0KFQuRVZFTlRTLkJJRF9USU1FT1VULGkpKSxvPUksbj1EYXRlLm5vdygpLEEuZW1pdChULkVWRU5UUy5BVUNUSU9OX0VORCxKKCkpLEIoaywoZnVuY3Rpb24oKXt0cnl7aWYobnVsbCE9eil7dmFyIHQ9cSxuPVcuZmlsdGVyKFMuYmluZC5jYWxsKHIuYWRVbml0c0ZpbHRlcix0aGlzLHQpKS5yZWR1Y2UoRyx7fSk7ei5hcHBseSh1cGJqcyxbbixlLEZdKSx6PW51bGx9fWNhdGNoKGUpe1MubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmRS5jYWxsVGltZWRPdXRCaWRkZXJzKHMsaSxWKTt2YXIgbz11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtvLmVuYWJsZU92ZXJyaWRlfHxtKG8uc3luY0RlbGF5KX19KSl9dmFyIGN9ZnVuY3Rpb24gUSgpe3UuYi5yZXNldEJpZGRlcigpLFMubG9nSW5mbygiQmlkcyBSZWNlaXZlZCBmb3IgQXVjdGlvbiB3aXRoIGlkOiAiLmNvbmNhdChGKSxXKSxvPUksWSghMSwhMCl9ZnVuY3Rpb24gJChlKXtLLmFkZChlKX1mdW5jdGlvbiBYKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDt0PWUsTT1NLmNvbmNhdCh0KX0pKTt2YXIgbj17fSxzPXtiaWRSZXF1ZXN0czplLHJ1bjpmdW5jdGlvbigpe3ZhciBzLHA7cz1ZLmJpbmQobnVsbCwhMCkscD1zZXRUaW1lb3V0KHMsViksYT1wLG89TyxBLmVtaXQoVC5FVkVOVFMuQVVDVElPTl9JTklULEooKSk7dmFyIHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj0wLG89ITEsYT1uZXcgU2V0LHM9e307ZnVuY3Rpb24gZCgpe24tLSxvJiYwPT09biYmZSgpfWZ1bmN0aW9uIGYoZSxvKXt2YXIgYT10aGlzLGY9dC5nZXRCaWRSZXF1ZXN0cygpO2lmKG8uYWRkUmVxdWVzdE9ubHkmJmEuaXNEeW5hbWljJiYhZi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWQ9PT1hLmJpZGRlclJlcXVlc3RJZH0pKSlmLnB1c2goYSk7ZWxzZXtzW28ucmVxdWVzdElkXT0hMCxuKys7dmFyIHA9dC5nZXRBdWN0aW9uSWQoKSxnPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRVbml0Q29kZSxuPWUuYmlkLG89ZS5iaWRkZXJSZXF1ZXN0LGE9ZS5hdWN0aW9uSWQscz1vLnN0YXJ0LGQ9aCh7fSxuLHthdWN0aW9uSWQ6YSxyZXNwb25zZVRpbWVzdGFtcDpPYmplY3Qoci50aW1lc3RhbXApKCkscmVxdWVzdFRpbWVzdGFtcDpzLGNwbTpwYXJzZUZsb2F0KG4uY3BtKXx8MCxiaWRkZXI6bi5iaWRkZXJDb2RlLGFkVW5pdENvZGU6dH0pO2QudGltZVRvUmVzcG9uZD1kLnJlc3BvbnNlVGltZXN0YW1wLWQucmVxdWVzdFRpbWVzdGFtcCxBLmVtaXQoVC5FVkVOVFMuQklEX0FESlVTVE1FTlQsZCk7dmFyIGY9by5iaWRzJiZsKCkoby5iaWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT10JiZlLmJpZElkPT1kLnJlcXVlc3RJZH0pKSxwPWYmJmYucmVuZGVyZXIsZz1kLm1lZGlhVHlwZSxiPWYmJmYubWVkaWFUeXBlcyYmZi5tZWRpYVR5cGVzW2ddLHY9YiYmYi5yZW5kZXJlcixtPW51bGw7diYmdi51cmwmJnYucmVuZGVyJiYoITAhPT12LmJhY2t1cE9ubHl8fCFuLnJlbmRlcmVyKT9tPXY6cCYmcC51cmwmJnAucmVuZGVyJiYoITAhPT1wLmJhY2t1cE9ubHl8fCFuLnJlbmRlcmVyKSYmKG09cCk7bSYmKGQucmVuZGVyZXI9Yy5hLmluc3RhbGwoe3VybDptLnVybH0pLGQucmVuZGVyZXIuc2V0UmVuZGVyKG0ucmVuZGVyKSk7dmFyIFM9TihuLm1lZGlhVHlwZSxmLHUuYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSksRT1PYmplY3QoaS5hKShkLmNwbSwib2JqZWN0Ij09PXkoUyk/Uzp1LmIuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpLHUuYi5nZXRDb25maWcoImN1cnJlbmN5LmdyYW51bGFyaXR5TXVsdGlwbGllciIpKTtyZXR1cm4gZC5wYkxnPUUubG93LGQucGJNZz1FLm1lZCxkLnBiSGc9RS5oaWdoLGQucGJBZz1FLmF1dG8sZC5wYkRnPUUuZGVuc2UsZC5wYkNnPUUuY3VzdG9tLGR9KHthZFVuaXRDb2RlOmUsYmlkOm8sYmlkZGVyUmVxdWVzdDphLGF1Y3Rpb25JZDpwfSk7InZpZGVvIj09PWcubWVkaWFUeXBlP2Z1bmN0aW9uKGUsdCxuLGkpe3ZhciBvPSEwLGE9T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkodC5vcmlnaW5hbFJlcXVlc3RJZHx8dC5yZXF1ZXN0SWQsW25dKSxjPWEmJk9iamVjdChyLmRlZXBBY2Nlc3MpKGEsIm1lZGlhVHlwZXMudmlkZW8iKSxzPWMmJk9iamVjdChyLmRlZXBBY2Nlc3MpKGMsImNvbnRleHQiKTt1LmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSYmcyE9PWIuYiYmKCF0LnZpZGVvQ2FjaGVLZXl8fHUuYi5nZXRDb25maWcoImNhY2hlLmlnbm9yZUJpZGRlckNhY2hlS2V5Iik/KG89ITEsRChlLHQsaSxhKSk6dC52YXN0VXJsfHwoUy5sb2dFcnJvcigidmlkZW9DYWNoZUtleSBzcGVjaWZpZWQgYnV0IG5vdCByZXF1aXJlZCB2YXN0VXJsIGZvciB2aWRlbyBiaWQiKSxvPSExKSk7byYmKHgoZSx0KSxpKCkpfSh0LGcsYSxkKTooeCh0LGcpLGQoKSl9fWZ1bmN0aW9uIHAoKXt2YXIgcj10aGlzLGk9dC5nZXRCaWRSZXF1ZXN0cygpO2lmKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIhPT1yLmJpZGRlckNvZGUpe3ZhciBjPXUuYi5nZXRDb25maWcoImF1Y3Rpb25PcHRpb25zIik7aWYoYS5hZGQociksYyYmIVMuaXNFbXB0eShjKSl7dmFyIGQ9Yy5zZWNvbmRhcnlCaWRkZXJzO2QmJiFpLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZygpKGQsZS5iaWRkZXJDb2RlKX0pKSYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkoZCxlLmJpZGRlckNvZGUpfSkpKX1vPWkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pKSxyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlLmJpZElkXXx8KHQuYWRkTm9CaWQoZSksQS5lbWl0KFQuRVZFTlRTLk5PX0JJRCxlKSl9KSksbyYmMD09PW4mJmUoKX1lbHNle3ZhciBmPWkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWR9KSkuaW5kZXhPZihyLmJpZGRlclJlcXVlc3RJZCk7Zj4tMSYmaS5zcGxpY2UoZiwxKX19cmV0dXJue2FkZEJpZFJlc3BvbnNlOmYsYWRhcHRlckRvbmU6cH19KFEsdCk7RS5jYWxsQmlkcyhrLGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07Xy5hcHBseSh7ZGlzcGF0Y2g6di5hZGRCaWRSZXNwb25zZSxiaWRkZXJSZXF1ZXN0OnRoaXN9LHQpfSksdi5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2Yodyx0KSxmKG4sZSksQ1tlXXx8KENbZV09e1NSQTohMCxvcmlnaW46dH0pLG5bZV0+MSYmKENbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXt3W2VdLS0salswXSYmZChqWzBdKSYmai5zaGlmdCgpfX0sViwkKX19O2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ITAsbj11LmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHw0O3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPTEsaT12b2lkIDAhPT1lLnNyYyYmZS5zcmM9PT1ULlMyUy5TUkM/InMycyI6ZS5iaWRkZXJDb2RlO3JldHVybiBDW2ldJiYoITE9PT1DW2ldLlNSQSYmKHI9TWF0aC5taW4oZS5iaWRzLmxlbmd0aCxuKSksd1tDW2ldLm9yaWdpbl0rcj5uJiYodD0hMSkpLCF0fSkpLHQmJmUucnVuKCksdH1mdW5jdGlvbiBmKGUsdCl7dm9pZCAwPT09ZVt0XT9lW3RdPTE6ZVt0XSsrfWQocyl8fChTLmxvZ1dhcm4oInF1ZXVlaW5nIGF1Y3Rpb24gZHVlIHRvIGxpbWl0ZWQgZW5kcG9pbnQgY2FwYWNpdHkiKSxqLnB1c2gocykpfXJldHVybnthZGRCaWRSZWNlaXZlZDpmdW5jdGlvbihlKXtXPVcuY29uY2F0KGUpfSxhZGROb0JpZDpmdW5jdGlvbihlKXtMPUwuY29uY2F0KGUpfSxleGVjdXRlQ2FsbGJhY2s6WSxjYWxsQmlkczpmdW5jdGlvbigpe289InN0YXJ0ZWQiLHQ9RGF0ZS5ub3coKTt2YXIgZT1FLm1ha2VCaWRSZXF1ZXN0cyhrLHQsRixWLFApO1MubG9nSW5mbygiQmlkcyBSZXF1ZXN0ZWQgZm9yIEF1Y3Rpb24gd2l0aCBpZDogIi5jb25jYXQoRiksZSksZS5sZW5ndGg8MT8oUy5sb2dXYXJuKCJObyB2YWxpZCBiaWQgcmVxdWVzdHMgcmV0dXJuZWQgZm9yIGF1Y3Rpb24iKSxRKCkpOlIuY2FsbCh7ZGlzcGF0Y2g6WCxjb250ZXh0OnRoaXN9LGUpfSxhZGRXaW5uaW5nQmlkOmZ1bmN0aW9uKGUpe0g9SC5jb25jYXQoZSksRS5jYWxsQmlkV29uQmlkZGVyKGUuYmlkZGVyLGUscyl9LHNldEJpZFRhcmdldGluZzpmdW5jdGlvbihlKXtFLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXIoZS5iaWRkZXIsZSl9LGdldFdpbm5pbmdCaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIEh9LGdldFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVn0sZ2V0QXVjdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIEZ9LGdldEF1Y3Rpb25TdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0QWRVbml0czpmdW5jdGlvbigpe3JldHVybiBrfSxnZXRBZFVuaXRDb2RlczpmdW5jdGlvbigpe3JldHVybiBxfSxnZXRCaWRSZXF1ZXN0czpmdW5jdGlvbigpe3JldHVybiBNfSxnZXRCaWRzUmVjZWl2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gV30sZ2V0Tm9CaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIEx9fX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBffSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSx0Lmc9VSx0LmQ9eCxuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZCh0LCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gUH0pKSx0Lmo9cTt2YXIgcj1uKDApLGk9big0Myksbz1uKDM2KSxhPW4oOTgpLGM9bigxMyksdT1uKDMpLHM9big1NiksZD1uKDEwKSxmPW4oMTEpLGw9bi5uKGYpLHA9bigxMiksZz1uLm4ocCksYj1uKDIyKSx2PW4oMik7ZnVuY3Rpb24geShlKXtyZXR1cm4oeT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBtPXMuYS5zeW5jVXNlcnMsUz1uKDApLEU9big4KS5kZWZhdWx0LEE9big5KSxUPW4oNSksTz0iaW5Qcm9ncmVzcyIsST0iY29tcGxldGVkIjtBLm9uKFQuRVZFTlRTLkJJRF9BREpVU1RNRU5ULChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUscj1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7cj10KGUuY3BtLGgoe30sZSkpfWNhdGNoKGUpe1MubG9nRXJyb3IoIkVycm9yIGR1cmluZyBiaWQgYWRqdXN0bWVudCIsImJpZG1hbmFnZXIuanMiLGUpfXI+PTAmJihlLmNwbT1yKX0oZSl9KSk7dmFyIHc9e30sQz17fSxqPVtdO3ZhciBfPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuYmlkZGVyUmVxdWVzdCxlLHQpfSksImFkZEJpZFJlc3BvbnNlIiksUj1PYmplY3QoZC5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3RoaXMuZGlzcGF0Y2guY2FsbCh0aGlzLmNvbnRleHQsZSl9KSwiYWRkQmlkZGVyUmVxdWVzdHMiKSxCPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCl7dCYmdCgpfSksImJpZHNCYWNrQ2FsbGJhY2siKTtmdW5jdGlvbiBVKGUsdCl7dC50aW1lVG9SZXNwb25kPmUuZ2V0VGltZW91dCgpK3UuYi5nZXRDb25maWcoInRpbWVvdXRCdWZmZXIiKSYmZS5leGVjdXRlQ2FsbGJhY2soITApfWZ1bmN0aW9uIHgoZSx0KXt2YXIgbj1lLmdldEJpZFJlcXVlc3RzKCkscj1sKCkobiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZT09PXQuYmlkZGVyQ29kZX0pKTshZnVuY3Rpb24oZSx0KXt2YXIgbjtpZihlLmJpZGRlckNvZGUmJihlLmNwbT4wfHxlLmRlYWxJZCkpe3ZhciByPWwoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmFkVW5pdENvZGV9KSk7bj1mdW5jdGlvbihlLHQsbil7aWYoIXQpcmV0dXJue307dmFyIHI9e30saT11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihpKXtNKHIscSh0Lm1lZGlhVHlwZSxlLG4pLHQpLGUmJmlbZV0mJmlbZV1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXSYmKE0ocixpW2VdLHQpLHQuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nPWlbZV0uc2VuZFN0YW5kYXJkVGFyZ2V0aW5nKX10Lm5hdGl2ZSYmKHI9aCh7fSxyLE9iamVjdChvLmUpKHQsbikpKTtyZXR1cm4gcn0oZS5iaWRkZXJDb2RlLGUscil9ZS5hZHNlcnZlclRhcmdldGluZz1oKGUuYWRzZXJ2ZXJUYXJnZXRpbmd8fHt9LG4pfSh0LHIpLEEuZW1pdChULkVWRU5UUy5CSURfUkVTUE9OU0UsdCksZS5hZGRCaWRSZWNlaXZlZCh0KSxVKGUsdCl9dmFyIEQ9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0LG4scil7T2JqZWN0KGEuYikoW3RdLChmdW5jdGlvbihyLGkpe3I/KFMubG9nV2FybigiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChyLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksVShlLHQpKToiIj09PWlbMF0udXVpZD8oUy5sb2dXYXJuKCJTdXBwbGllZCB2aWRlbyBjYWNoZSBrZXkgd2FzIGFscmVhZHkgaW4gdXNlIGJ5IFByZWJpZCBDYWNoZTsgY2FjaGluZyBhdHRlbXB0IHdhcyByZWplY3RlZC4gVmlkZW8gYmlkIG11c3QgYmUgZGlzY2FyZGVkLiIpLFUoZSx0KSk6KHQudmlkZW9DYWNoZUtleT1pWzBdLnV1aWQsdC52YXN0VXJsfHwodC52YXN0VXJsPU9iamVjdChhLmEpKHQudmlkZW9DYWNoZUtleSkpLHgoZSx0KSxuKCkpfSkscil9KSwiY2FsbFByZWJpZENhY2hlIik7ZnVuY3Rpb24gTihlLHQsbil7aWYoZSYmbil7aWYoZT09PXYuZCl7dmFyIGk9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy4iLmNvbmNhdCh2LmQsIi5jb250ZXh0IiksImluc3RyZWFtIik7aWYoblsiIi5jb25jYXQodi5kLCItIikuY29uY2F0KGkpXSlyZXR1cm4gblsiIi5jb25jYXQodi5kLCItIikuY29uY2F0KGkpXX1yZXR1cm4gbltlXX19dmFyIGs9ZnVuY3Rpb24oZSx0KXt2YXIgbj1OKGUsdCx1LmIuZ2V0Q29uZmlnKCJtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5IikpO3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmbj8ic3RyaW5nIj09dHlwZW9mIG4/bjoiY3VzdG9tIjp1LmIuZ2V0Q29uZmlnKCJwcmljZUdyYW51bGFyaXR5Iil9LFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkFVVE8/dC5wYkFnOmU9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuREVOU0U/dC5wYkRnOmU9PT1ULkdSQU5VTEFSSVRZX09QVElPTlMuTE9XP3QucGJMZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLk1FRElVTT90LnBiTWc6ZT09PVQuR1JBTlVMQVJJVFlfT1BUSU9OUy5ISUdIP3QucGJIZzplPT09VC5HUkFOVUxBUklUWV9PUFRJT05TLkNVU1RPTT90LnBiQ2c6dm9pZCAwfX07ZnVuY3Rpb24gcShlLHQsbil7ZnVuY3Rpb24gaShlLHQpe3JldHVybntrZXk6ZSx2YWw6ImZ1bmN0aW9uIj09dHlwZW9mIHQ/ZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5nZXRWYWx1ZSkoZSx0KX19fXZhciBvPVQuVEFSR0VUSU5HX0tFWVMsYT1rKGUsbiksYz11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihjW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwoY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17fSksY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtULkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfHwoY1tULkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtULkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPVtpKG8uQklEREVSLCJiaWRkZXJDb2RlIiksaShvLkFEX0lELCJhZElkIiksaShvLlBSSUNFX0JVQ0tFVCxQKGEpKSxpKG8uU0laRSwic2l6ZSIpLGkoby5ERUFMLCJkZWFsSWQiKSxpKG8uU09VUkNFLCJzb3VyY2UiKSxpKG8uRk9STUFULCJtZWRpYVR5cGUiKSxpKG8uQURPTUFJTiwoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWV0YSYmZS5tZXRhLmFkdmVydGlzZXJEb21haW5zJiZlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMubGVuZ3RoPjA/ZS5tZXRhLmFkdmVydGlzZXJEb21haW5zWzBdOiIifSkpXSksInZpZGVvIj09PWUpe3ZhciBzPWNbVC5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF1bVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtpZihbby5VVUlELG8uQ0FDSEVfSURdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWwoKShzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5rZXk9PT1lfSkpJiZzLnB1c2goaShlLCJ2aWRlb0NhY2hlS2V5IikpfSkpLHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiYoIXR8fCExIT09Uy5kZWVwQWNjZXNzKGMsIiIuY29uY2F0KHQsIi5zZW5kU3RhbmRhcmRUYXJnZXRpbmciKSkpKXt2YXIgZD1PYmplY3Qoci5wYXJzZVVybCkodS5iLmdldENvbmZpZygiY2FjaGUudXJsIikpO3ZvaWQgMD09PWwoKShzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT1vLkNBQ0hFX0hPU1R9KSkmJnMucHVzaChpKG8uQ0FDSEVfSE9TVCwoZnVuY3Rpb24oZSl7cmV0dXJuIFMuZGVlcEFjY2VzcyhlLCJhZHNlcnZlclRhcmdldGluZy4iLmNvbmNhdChvLkNBQ0hFX0hPU1QpKT9lLmFkc2VydmVyVGFyZ2V0aW5nW28uQ0FDSEVfSE9TVF06ZC5ob3N0bmFtZX0pKSl9fXJldHVybiBjW1QuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIE0oZSx0LG4pe3ZhciByPXRbVC5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtyZXR1cm4gbi5zaXplPW4uZ2V0U2l6ZSgpLFMuX2VhY2gociwoZnVuY3Rpb24ocil7dmFyIGk9ci5rZXksbz1yLnZhbDtpZihlW2ldJiZTLmxvZ1dhcm4oIlRoZSBrZXk6ICIraSsiIGlzIGdldHRpbmcgb3Zld3JpdHRlbiIpLFMuaXNGbihvKSl0cnl7bz1vKG4pfWNhdGNoKGUpe1MubG9nRXJyb3IoImJpZG1hbmFnZXIiLCJFUlJPUiIsZSl9KHZvaWQgMD09PXQuc3VwcHJlc3NFbXB0eUtleXN8fCEwIT09dC5zdXBwcmVzc0VtcHR5S2V5cykmJmkhPT1ULlRBUkdFVElOR19LRVlTLkRFQUx8fCFTLmlzRW1wdHlTdHIobykmJm51bGwhPW8/ZVtpXT1vOlMubG9nSW5mbygic3VwcHJlc3NpbmcgZW1wdHkga2V5ICciK2krIicgZnJvbSBhZHNlcnZlciB0YXJnZXRpbmciKX0pKSxlfWZ1bmN0aW9uIEcoZSx0KXtyZXR1cm4gZVt0LmFkVW5pdENvZGVdfHwoZVt0LmFkVW5pdENvZGVdPXtiaWRzOltdfSksZVt0LmFkVW5pdENvZGVdLmJpZHMucHVzaCh0KSxlfX0sMjk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKGUpe3JldHVybiEwfX19LDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBJfSkpO3ZhciByPW4oNDMpLGk9bigxMSksbz1uLm4oaSksYT1uKDEyKSxjPW4ubihhKSx1PW4oODQpLHM9bi5uKHUpLGQ9bigwKSxmPVsiZnBkIl07ZnVuY3Rpb24gbChlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixyLGk9e30sbz1PYmplY3Qua2V5cyhlKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKW49b1tyXSx0LmluZGV4T2Yobik+PTB8fChpW25dPWVbbl0pO3JldHVybiBpfShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxuKSYmKGlbbl09ZVtuXSl9cmV0dXJuIGl9ZnVuY3Rpb24gcChlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gZyhlKXtyZXR1cm4oZz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB2PW4oOTYpLHk9bigwKSxoPW4oNSksbT0iVFJVRSI9PT15LmdldFBhcmFtZXRlckJ5TmFtZShoLkRFQlVHX01PREUpLnRvVXBwZXJDYXNlKCksUz13aW5kb3cubG9jYXRpb24ub3JpZ2luLEU9InJhbmRvbSIsQT17fTtBW0VdPSEwLEEuZml4ZWQ9ITA7dmFyIFQ9RSxPPXtMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifTt2YXIgST1mdW5jdGlvbigpe3ZhciBlLHQsbixpPVtdLGE9bnVsbDtmdW5jdGlvbiB1KCl7ZT17fTt2YXIgaT17X2RlYnVnOm0sZ2V0IGRlYnVnKCl7cmV0dXJuIHRoaXMuX2RlYnVnfSxzZXQgZGVidWcoZSl7dGhpcy5fZGVidWc9ZX0sX2JpZGRlclRpbWVvdXQ6M2UzLGdldCBiaWRkZXJUaW1lb3V0KCl7cmV0dXJuIHRoaXMuX2JpZGRlclRpbWVvdXR9LHNldCBiaWRkZXJUaW1lb3V0KGUpe3RoaXMuX2JpZGRlclRpbWVvdXQ9ZX0sX3B1Ymxpc2hlckRvbWFpbjpTLGdldCBwdWJsaXNoZXJEb21haW4oKXtyZXR1cm4gdGhpcy5fcHVibGlzaGVyRG9tYWlufSxzZXQgcHVibGlzaGVyRG9tYWluKGUpe3RoaXMuX3B1Ymxpc2hlckRvbWFpbj1lfSxfcHJpY2VHcmFudWxhcml0eTpPLk1FRElVTSxzZXQgcHJpY2VHcmFudWxhcml0eShlKXtjKGUpJiYoInN0cmluZyI9PXR5cGVvZiBlP3RoaXMuX3ByaWNlR3JhbnVsYXJpdHk9YShlKT9lOk8uTUVESVVNOnkuaXNQbGFpbk9iamVjdChlKSYmKHRoaXMuX2N1c3RvbVByaWNlQnVja2V0PWUsdGhpcy5fcHJpY2VHcmFudWxhcml0eT1PLkNVU1RPTSx5LmxvZ01lc3NhZ2UoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSIpKSl9LGdldCBwcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX3ByaWNlR3JhbnVsYXJpdHl9LF9jdXN0b21QcmljZUJ1Y2tldDp7fSxnZXQgY3VzdG9tUHJpY2VCdWNrZXQoKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJpY2VCdWNrZXR9LF9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5Ont9LGdldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHl9LHNldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KGUpe3ZhciB0PXRoaXM7dGhpcy5fbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eT1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGMoZVtyXSk/InN0cmluZyI9PXR5cGVvZiBlP25bcl09YShlW3JdKT9lW3JdOnQuX3ByaWNlR3JhbnVsYXJpdHk6eS5pc1BsYWluT2JqZWN0KGUpJiYobltyXT1lW3JdLHkubG9nTWVzc2FnZSgiVXNpbmcgY3VzdG9tIHByaWNlIGdyYW51bGFyaXR5IGZvciAiLmNvbmNhdChyKSkpOnkubG9nV2FybigiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQocikpLG59KSx7fSl9LF9zZW5kQWxsQmlkczp0cnVlLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTpmYWxzZSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfZGV2aWNlQWNjZXNzOnRydWUsZ2V0IGRldmljZUFjY2Vzcygpe3JldHVybiB0aGlzLl9kZXZpY2VBY2Nlc3N9LHNldCBkZXZpY2VBY2Nlc3MoZSl7dGhpcy5fZGV2aWNlQWNjZXNzPWV9LF9iaWRkZXJTZXF1ZW5jZTpULGdldCBiaWRkZXJTZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9iaWRkZXJTZXF1ZW5jZX0sc2V0IGJpZGRlclNlcXVlbmNlKGUpe0FbZV0/dGhpcy5fYmlkZGVyU2VxdWVuY2U9ZTp5LmxvZ1dhcm4oIkludmFsaWQgb3JkZXI6ICIuY29uY2F0KGUsIi4gQmlkZGVyIFNlcXVlbmNlIHdhcyBub3Qgc2V0LiIpKX0sX3RpbWVvdXRCdWZmZXI6NDAwLGdldCB0aW1lb3V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX3RpbWVvdXRCdWZmZXJ9LHNldCB0aW1lb3V0QnVmZmVyKGUpe3RoaXMuX3RpbWVvdXRCdWZmZXI9ZX0sX2Rpc2FibGVBamF4VGltZW91dDpmYWxzZSxnZXQgZGlzYWJsZUFqYXhUaW1lb3V0KCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBamF4VGltZW91dH0sc2V0IGRpc2FibGVBamF4VGltZW91dChlKXt0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXQ9ZX0sX21heE5lc3RlZElmcmFtZXM6MTAsZ2V0IG1heE5lc3RlZElmcmFtZXMoKXtyZXR1cm4gdGhpcy5fbWF4TmVzdGVkSWZyYW1lc30sc2V0IG1heE5lc3RlZElmcmFtZXMoZSl7dGhpcy5fbWF4TmVzdGVkSWZyYW1lcz1lfSxfYXVjdGlvbk9wdGlvbnM6e30sZ2V0IGF1Y3Rpb25PcHRpb25zKCl7cmV0dXJuIHRoaXMuX2F1Y3Rpb25PcHRpb25zfSxzZXQgYXVjdGlvbk9wdGlvbnMoZSl7KGZ1bmN0aW9uKGUpe2lmKCF5LmlzUGxhaW5PYmplY3QoZSkpcmV0dXJuIHkubG9nV2FybigiQXVjdGlvbiBPcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IiksITE7Zm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZigic2Vjb25kYXJ5QmlkZGVycyIhPT1yJiYic3VwcHJlc3NTdGFsZVJlbmRlciIhPT1yKXJldHVybiB5LmxvZ1dhcm4oIkF1Y3Rpb24gT3B0aW9ucyBnaXZlbiBhbiBpbmNvcnJlY3QgcGFyYW06ICIuY29uY2F0KHIpKSwhMTtpZigic2Vjb25kYXJ5QmlkZGVycyI9PT1yKXtpZigheS5pc0FycmF5KGVbcl0pKXJldHVybiB5LmxvZ1dhcm4oIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvZiB0eXBlIEFycmF5IikpLCExO2lmKCFlW3JdLmV2ZXJ5KHkuaXNTdHIpKXJldHVybiB5LmxvZ1dhcm4oIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvbmx5IHN0cmluZyIpKSwhMX1lbHNlIGlmKCJzdXBwcmVzc1N0YWxlUmVuZGVyIj09PXImJiF5LmlzQm9vbGVhbihlW3JdKSlyZXR1cm4geS5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBib29sZWFuIikpLCExfXJldHVybiEwfSkoZSkmJih0aGlzLl9hdWN0aW9uT3B0aW9ucz1lKX19O2Z1bmN0aW9uIGEoZSl7cmV0dXJuIG8oKShPYmplY3Qua2V5cyhPKSwoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT1PW3RdfSkpfWZ1bmN0aW9uIGMoZSl7aWYoIWUpcmV0dXJuIHkubG9nRXJyb3IoIlByZWJpZCBFcnJvcjogbm8gdmFsdWUgcGFzc2VkIHRvIGBzZXRQcmljZUdyYW51bGFyaXR5KClgIiksITE7aWYoInN0cmluZyI9PXR5cGVvZiBlKWEoZSl8fHkubG9nV2FybigiUHJlYmlkIFdhcm5pbmc6IHNldFByaWNlR3JhbnVsYXJpdHkgd2FzIGNhbGxlZCB3aXRoIGludmFsaWQgc2V0dGluZywgdXNpbmcgYG1lZGl1bWAgYXMgZGVmYXVsdC4iKTtlbHNlIGlmKHkuaXNQbGFpbk9iamVjdChlKSYmIU9iamVjdChyLmIpKGUpKXJldHVybiB5LmxvZ0Vycm9yKCJJbnZhbGlkIGN1c3RvbSBwcmljZSB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtyZXR1cm4hMH10JiZDKE9iamVjdC5rZXlzKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gdFtuXSE9PWlbbl0mJihlW25dPWlbbl18fHt9KSxlfSkse30pKSx0PWksbj17fX1mdW5jdGlvbiBoKCl7aWYoYSYmbiYmeS5pc1BsYWluT2JqZWN0KG5bYV0pKXt2YXIgZT1uW2FdLHI9bmV3IHMuYShPYmplY3Qua2V5cyh0KS5jb25jYXQoT2JqZWN0LmtleXMoZSkpKTtyZXR1cm4gdihyKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7cmV0dXJuIHZvaWQgMD09PWVbcl0/bltyXT10W3JdOnZvaWQgMD09PXRbcl0/bltyXT1lW3JdOnkuaXNQbGFpbk9iamVjdChlW3JdKT9uW3JdPU9iamVjdChkLm1lcmdlRGVlcCkoe30sdFtyXSxlW3JdKTpuW3JdPWVbcl0sbn0pLHt9KX1yZXR1cm4gYih7fSx0KX1mdW5jdGlvbiBFKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0iY29udGV4dCI9PT1uPyJzaXRlIjpuO3Rbcl09InNpdGUiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImRhdGEiPT09cj95Lm1lcmdlRGVlcCh0LHtleHQ6e2RhdGE6ZVtuXVtyXX19KTp5Lm1lcmdlRGVlcCh0LHAoe30scixlW25dW3JdKSksdH0pLHt9KTplW25dfSkpLHR9ZnVuY3Rpb24gSShlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iY29udGV4dCI9PT1lfSkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGVbbl0pLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJkYXRhIj09PXI/eS5tZXJnZURlZXAodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6Im9iamVjdCIhPT1nKGVbbl1bcl0pfHxBcnJheS5pc0FycmF5KGVbbl1bcl0pP3kubWVyZ2VEZWVwKHQse2V4dDp7ZGF0YTpwKHt9LHIudG9Mb3dlckNhc2UoKSxlW25dW3JdKX19KTpPYmplY3Qua2V5cyhlW25dW3JdKS5mb3JFYWNoKChmdW5jdGlvbihpKXt5Lm1lcmdlRGVlcCh0LHtleHQ6e2RhdGE6cCh7fSxyLnRvTG93ZXJDYXNlKCkscCh7fSxpLnRvTG93ZXJDYXNlKCksZVtuXVtyXVtpXSkpfX0pfSkpfSkpfSkpLHR9ZnVuY3Rpb24gdyhlLHQpe3ZhciBuPXQ7aWYoInN0cmluZyIhPXR5cGVvZiBlJiYobj1lLGU9IioiKSwiZnVuY3Rpb24iPT10eXBlb2Ygbil7dmFyIHI9e3RvcGljOmUsY2FsbGJhY2s6bn07cmV0dXJuIGkucHVzaChyKSxmdW5jdGlvbigpe2kuc3BsaWNlKGkuaW5kZXhPZihyKSwxKX19eS5sb2dFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gQyhlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKSh0LGUudG9waWMpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuY2FsbGJhY2socCh7fSx0LnRvcGljLGVbdC50b3BpY10pKX0pKSxpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsYmFjayhlKX0pKX1mdW5jdGlvbiBqKGUsdCl7YT1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7XygpfX1mdW5jdGlvbiBfKCl7YT1udWxsfXJldHVybiB1KCkse2dldEN1cnJlbnRCaWRkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYX0scmVzZXRCaWRkZXI6XyxnZXRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdO3JldHVybiBlP3kuZGVlcEFjY2VzcyhoKCksZSk6aCgpfXJldHVybiB3LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSxzZXRDb25maWc6ZnVuY3Rpb24obil7aWYoeS5pc1BsYWluT2JqZWN0KG4pKXt2YXIgcj1PYmplY3Qua2V5cyhuKSxpPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89ImZwZCI9PT1yPyJvcnRiMiI6cixhPSJmcGQiPT09cj9FKG5bcl0pOm5bcl07eS5pc1BsYWluT2JqZWN0KGVbb10pJiZ5LmlzUGxhaW5PYmplY3QoYSkmJihhPWIoe30sZVtvXSxhKSksaVtvXT10W29dPWF9KSksQyhpKX1lbHNlIHkubG9nRXJyb3IoInNldENvbmZpZyBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iil9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe3kuaXNQbGFpbk9iamVjdChlKT8oYihlLG4pLGIodCxuKSk6eS5sb2dFcnJvcigiZGVmYXVsdHMgbXVzdCBiZSBhbiBvYmplY3QiKX0scmVzZXRDb25maWc6dSxydW5XaXRoQmlkZGVyOmosY2FsbGJhY2tXaXRoQmlkZGVyOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgdCl7Zm9yKHZhciBuLHI9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShyKSxvPTA7bzxyO28rKylpW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4gaihlLChuPXkuYmluZCkuY2FsbC5hcHBseShuLFt0LHRoaXNdLmNvbmNhdChpKSkpfXkubG9nV2FybigiY29uZmlnLmNhbGxiYWNrV2l0aEJpZGRlciBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbiIpfX19LHNldEJpZGRlckNvbmZpZzpmdW5jdGlvbihlKXt0cnl7IWZ1bmN0aW9uKGUpe2lmKCF5LmlzUGxhaW5PYmplY3QoZSkpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IjtpZighQXJyYXkuaXNBcnJheShlLmJpZGRlcnMpfHwhZS5iaWRkZXJzLmxlbmd0aCl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgYmlkZGVycyBsaXN0IHdpdGggYXQgbGVhc3QgMSBiaWRkZXIiO2lmKCF5LmlzUGxhaW5PYmplY3QoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0oZSksZS5iaWRkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF18fChuW3RdPXt9KSxPYmplY3Qua2V5cyhlLmNvbmZpZykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ImZwZCI9PT1yPyJvcnRiMiI6cixvPSJmcGQiPT09cj9FKGUuY29uZmlnW3JdKTplLmNvbmZpZ1tyXTt5LmlzUGxhaW5PYmplY3Qobyk/blt0XVtpXT1iKHt9LG5bdF1baV18fHt9LG8pOm5bdF1baV09b30pKX0pKX1jYXRjaChlKXt5LmxvZ0Vycm9yKGUpfX0sZ2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGNvbnZlcnRBZFVuaXRGcGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5mcGQ/KGUub3J0YjJJbXA/eS5tZXJnZURlZXAoZS5vcnRiMkltcCxJKGUuZnBkKSk6ZS5vcnRiMkltcD1JKGUuZnBkKSx0LnB1c2goZnVuY3Rpb24oZSl7ZS5mcGQ7cmV0dXJuIGwoZSxmKX0oZSkpKTp0LnB1c2goZSl9KSksdH0sZ2V0TGVnYWN5RnBkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZyhlKSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPSJzaXRlIj09PW4/ImNvbnRleHQiOm47dFtyXT0iY29udGV4dCI9PT1yfHwidXNlciI9PT1yP09iamVjdC5rZXlzKGVbbl0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImV4dCI9PT1yP3kubWVyZ2VEZWVwKHQsZVtuXVtyXSk6eS5tZXJnZURlZXAodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fX0sZ2V0TGVnYWN5SW1wRnBkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZyhlKSl7dmFyIHQ9e307cmV0dXJuIHkuZGVlcEFjY2VzcyhlLCJleHQuZGF0YSIpJiZPYmplY3Qua2V5cyhlLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbihuKXsicGJhZHNsb3QiPT09bj95Lm1lcmdlRGVlcCh0LHtjb250ZXh0OntwYkFkU2xvdDplLmV4dC5kYXRhW25dfX0pOiJhZHNlcnZlciI9PT1uP3kubWVyZ2VEZWVwKHQse2NvbnRleHQ6e2FkU2VydmVyOmUuZXh0LmRhdGFbbl19fSk6eS5tZXJnZURlZXAodCx7Y29udGV4dDp7ZGF0YTpwKHt9LG4sZS5leHQuZGF0YVtuXSl9fSl9KSksdH19fX0oKX0sMzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNDgpLGk9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuY2FsbChyKGUpLHQpfX0sMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigzNCksbz1uKDQ0KTtlLmV4cG9ydHM9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LDMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9big3OSksbz1uKDE2KSxhPW4oNTgpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yP2M6ZnVuY3Rpb24oZSx0LG4pe2lmKG8oZSksdD1hKHQsITApLG8obiksaSl0cnl7cmV0dXJuIGMoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwzNDc6ZnVuY3Rpb24oZSx0LG4pe24oMzQ4KTt2YXIgcj1uKDUyKTtlLmV4cG9ydHM9cigiU3RyaW5nIiwiaW5jbHVkZXMiKX0sMzQ4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDM0OSksbz1uKDQ3KTtyKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOiFuKDM1MSkoImluY2x1ZGVzIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5TdHJpbmcobyh0aGlzKSkuaW5kZXhPZihpKGUpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sMzQ5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM1MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHIoZSkpdGhyb3cgVHlwZUVycm9yKCJUaGUgbWV0aG9kIGRvZXNuJ3QgYWNjZXB0IHJlZ3VsYXIgZXhwcmVzc2lvbnMiKTtyZXR1cm4gZX19LDM1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxpPW4oOTUpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7cmV0dXJuIFNldC5wcm90b3R5cGUudmFsdWVzLmNhbGwoZSl9fSwzNTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9big0Niksbz1uKDI0KSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIoZSkmJih2b2lkIDAhPT0odD1lW29dKT8hIXQ6IlJlZ0V4cCI9PWkoZSkpfX0sMzUxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9Ly4vO3RyeXsiLy4vIltlXSh0KX1jYXRjaChuKXt0cnl7cmV0dXJuIHRbcl09ITEsIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX19LDM2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImYiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSx0Lmg9ZnVuY3Rpb24oZSl7aWYoZSYmZS50eXBlJiZmdW5jdGlvbihlKXtpZighZXx8IW8oKShPYmplY3Qua2V5cyhwKSxlKSlyZXR1cm4gT2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdChlLCIgbmF0aXZlUGFyYW0gaXMgbm90IHN1cHBvcnRlZCIpKSwhMTtyZXR1cm4hMH0oZS50eXBlKSlyZXR1cm4gcFtlLnR5cGVdO3JldHVybiBlfSx0Lmc9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KShlLnJlcXVlc3RJZCx0KTtpZighbilyZXR1cm4hMTtpZighT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlLmNsaWNrVXJsIikpcmV0dXJuITE7dmFyIGk9bi5uYXRpdmVQYXJhbXM7aWYoIWkpcmV0dXJuITA7dmFyIGE9T2JqZWN0LmtleXMoaSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaVtlXS5yZXF1aXJlZH0pKSxjPU9iamVjdC5rZXlzKGUubmF0aXZlKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBlLm5hdGl2ZVt0XX0pKTtyZXR1cm4gYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIG8oKShjLGUpfSkpfSx0LmI9ZnVuY3Rpb24oZSx0KXt2YXIgbjsiY2xpY2siPT09ZS5hY3Rpb24/bj10Lm5hdGl2ZSYmdC5uYXRpdmUuY2xpY2tUcmFja2Vyczoobj10Lm5hdGl2ZSYmdC5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLHQubmF0aXZlJiZ0Lm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMmJk9iamVjdChyLmluc2VydEh0bWxJbnRvSWZyYW1lKSh0Lm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpKTtyZXR1cm4obnx8W10pLmZvckVhY2goci50cmlnZ2VyUGl4ZWwpLGUuYWN0aW9ufSx0LmU9ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMucmVuZGVyZXJVcmwiKT9lLm5hdGl2ZS5yZW5kZXJlclVybD1nKHQubmF0aXZlUGFyYW1zLnJlbmRlcmVyVXJsKTpPYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuYWRUZW1wbGF0ZSIpJiYoZS5uYXRpdmUuYWRUZW1wbGF0ZT1nKHQubmF0aXZlUGFyYW1zLmFkVGVtcGxhdGUpKTt2YXIgaT0hMSE9PU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5zZW5kVGFyZ2V0aW5nS2V5cyIpLG89ZnVuY3Rpb24oZSl7dmFyIHQ9e307T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibmF0aXZlUGFyYW1zLmV4dCIpJiZPYmplY3Qua2V5cyhlLm5hdGl2ZVBhcmFtcy5leHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZV09ImhiX25hdGl2ZV8iLmNvbmNhdChlKX0pKTtyZXR1cm4gdSh1KHt9LGQuTkFUSVZFX0tFWVMpLHQpfSh0KSxhPXUodSh7fSxlLm5hdGl2ZSksZS5uYXRpdmUuZXh0KTtyZXR1cm4gZGVsZXRlIGEuZXh0LE9iamVjdC5rZXlzKGEpLmZvckVhY2goKGZ1bmN0aW9uKGEpe3ZhciBjPW9bYV0sdT1nKGUubmF0aXZlW2FdKXx8ZyhPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmUuZXh0LiIuY29uY2F0KGEpKSk7aWYoImFkVGVtcGxhdGUiIT09YSYmYyYmdSl7dmFyIHM9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLiIuY29uY2F0KGEsIi5zZW5kSWQiKSk7aWYoImJvb2xlYW4iIT10eXBlb2YgcyYmKHM9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmV4dC4iLmNvbmNhdChhLCIuc2VuZElkIikpKSxzKXU9IiIuY29uY2F0KGMsIjoiKS5jb25jYXQoZS5hZElkKTt2YXIgZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuIi5jb25jYXQoYSwiLnNlbmRUYXJnZXRpbmdLZXlzIikpOyJib29sZWFuIiE9dHlwZW9mIGQmJihkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5leHQuIi5jb25jYXQoYSwiLnNlbmRUYXJnZXRpbmdLZXlzIikpKSwoImJvb2xlYW4iPT10eXBlb2YgZD9kOmkpJiYobltjXT11KX19KSksbn0sdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07dC5uYXRpdmUuaGFzT3duUHJvcGVydHkoImFkVGVtcGxhdGUiKSYmKG4uYWRUZW1wbGF0ZT1nKHQubmF0aXZlLmFkVGVtcGxhdGUpKTt0Lm5hdGl2ZS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXJVcmwiKSYmKG4ucmVuZGVyZXJVcmw9Zyh0Lm5hdGl2ZS5yZW5kZXJlclVybCkpO3JldHVybiBlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1PYmplY3Qoci5nZXRLZXlCeVZhbHVlKShkLk5BVElWRV9LRVlTLGUpLG89Zyh0Lm5hdGl2ZVtpXSk7bi5hc3NldHMucHVzaCh7a2V5OmksdmFsdWU6b30pfSkpLG59LHQuYz1mdW5jdGlvbihlLHQpe3ZhciBuPXttZXNzYWdlOiJhc3NldFJlc3BvbnNlIixhZElkOmUuYWRJZCxhc3NldHM6W119O3JldHVybiBPYmplY3Qua2V5cyh0Lm5hdGl2ZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXtpZigiYWRUZW1wbGF0ZSI9PT1lJiZ0Lm5hdGl2ZVtlXSluLmFkVGVtcGxhdGU9Zyh0Lm5hdGl2ZVtlXSk7ZWxzZSBpZigicmVuZGVyZXJVcmwiPT09ZSYmdC5uYXRpdmVbZV0pbi5yZW5kZXJlclVybD1nKHQubmF0aXZlW2VdKTtlbHNlIGlmKCJleHQiPT09ZSlPYmplY3Qua2V5cyh0Lm5hdGl2ZVtlXSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYodC5uYXRpdmVbZV1bcl0pe3ZhciBpPWcodC5uYXRpdmVbZV1bcl0pO24uYXNzZXRzLnB1c2goe2tleTpyLHZhbHVlOml9KX19KSk7ZWxzZSBpZih0Lm5hdGl2ZVtlXSYmZC5OQVRJVkVfS0VZUy5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIGk9Zyh0Lm5hdGl2ZVtlXSk7bi5hc3NldHMucHVzaCh7a2V5OmUsdmFsdWU6aX0pfX0pKSxufTt2YXIgcj1uKDApLGk9bigxMiksbz1uLm4oaSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4oYT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YyhPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3MoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOmMoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcyhlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9dmFyIGQ9big1KSxmPVtdLGw9T2JqZWN0LmtleXMoZC5OQVRJVkVfS0VZUykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZC5OQVRJVkVfS0VZU1tlXX0pKSxwPXtpbWFnZTp7aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4ib2JqZWN0Ij09PWEoZSkmJmUudXJsP2UudXJsOmV9fSwzNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7aWYoIXR8fCFlKXJldHVybiB2b2lkIG8ubG9nRXJyb3IoImNhbm5vdCBsb2FkIGV4dGVybmFsIHNjcmlwdCB3aXRob3V0IHVybCBhbmQgbW9kdWxlQ29kZSIpO2lmKGU9YS5jKGUpLCFpKCkodSx0KSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCIiLmNvbmNhdCh0LCIgbm90IHdoaXRlbGlzdGVkIGZvciBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSk7aWYoY1tlXSlyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIG4mJihjW2VdLmxvYWRlZD9uKCk6Y1tlXS5jYWxsYmFja3MucHVzaChuKSksY1tlXS50YWc7Y1tlXT17bG9hZGVkOiExLHRhZzpudWxsLGNhbGxiYWNrczpbXX0sbiYmImZ1bmN0aW9uIj09dHlwZW9mIG4mJmNbZV0uY2FsbGJhY2tzLnB1c2gobik7cmV0dXJuIG8ubG9nV2FybigibW9kdWxlICIuY29uY2F0KHQsIiBpcyBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSksZnVuY3Rpb24odCxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5hc3luYz0hMCxjW2VdLnRhZz1yLHIucmVhZHlTdGF0ZT9yLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyJsb2FkZWQiIT09ci5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT09ci5yZWFkeVN0YXRlfHwoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuKCkpfTpyLm9ubG9hZD1mdW5jdGlvbigpe24oKX07cmV0dXJuIHIuc3JjPXQsby5pbnNlcnRFbGVtZW50KHIpLHJ9KGUsKGZ1bmN0aW9uKCl7Y1tlXS5sb2FkZWQ9ITA7dHJ5e2Zvcih2YXIgdD0wO3Q8Y1tlXS5jYWxsYmFja3MubGVuZ3RoO3QrKyljW2VdLmNhbGxiYWNrc1t0XSgpfWNhdGNoKGUpe28ubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBjYWxsYmFjayIsImFkbG9hZGVyLmpzOmxvYWRFeHRlcm5hbFNjcmlwdCIsZSl9fSkpfTt2YXIgcj1uKDEyKSxpPW4ubihyKSxvPW4oMCksYT1uKDU1KSxjPXt9LHU9WyJhZGxvb3giLCJjcml0ZW8iLCJvdXRzdHJlYW0iLCJhZGFnaW8iLCJicm93c2kiXX0sMzg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQuYz1PLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMzYpLGE9bigyMyksYz1uKDk3KSx1PW4oMikscz1uKDEwKSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCk7ZnVuY3Rpb24gZygpe3JldHVybihnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4geShlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4geShlLHQpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGg9bigwKSxtPW4oNSksUz1bXSxFPU9iamVjdC5rZXlzKG0uVEFSR0VUSU5HX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG0uVEFSR0VUSU5HX0tFWVNbZV19KSksQT17aXNCaWROb3RFeHBpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3BvbnNlVGltZXN0YW1wKzFlMyplLnR0bC0xZTM+T2JqZWN0KHIudGltZXN0YW1wKSgpfSxpc1VudXNlZEJpZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuc3RhdHVzJiYhZigpKFttLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX19LFQ9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZighbyl7dmFyIGE9W10sYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuZGVhbFByaW9yaXRpemF0aW9uIiksdT1PYmplY3Qoci5ncm91cEJ5KShlLCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPVtdLG89T2JqZWN0KHIuZ3JvdXBCeSkodVtlXSwiYmlkZGVyQ29kZSIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2gob1tlXS5yZWR1Y2UodCkpfSkpLG4+MD8oaT1jP2kuc29ydChPKCEwKSk6aS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LmNwbS1lLmNwbX0pKSxhLnB1c2guYXBwbHkoYSx2KGkuc2xpY2UoMCxuKSkpKTphLnB1c2guYXBwbHkoYSx2KGkpKX0pKSxhfXJldHVybiBlfSkpO2Z1bmN0aW9uIE8oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMD09PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8tMTp2b2lkIDA9PT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMCE9PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8xOmU/bi5jcG0tdC5jcG06bi5hZHNlcnZlclRhcmdldGluZy5oYl9wYi10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX3BifX12YXIgST1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXt9O2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKGguaXNBcnJheSh0KSYmZigpKHQsZS5hZFVuaXRDb2RlKXx8InN0cmluZyI9PXR5cGVvZiB0JiZlLmFkVW5pdENvZGU9PT10KX1mdW5jdGlvbiBzKGUsdCl7aWYoITA9PT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbHdheXNJbmNsdWRlRGVhbHMiKSl7dmFyIG49RS5jb25jYXQoby5hKTtyZXR1cm4gVCh0LHIuZ2V0SGlnaGVzdENwbSkubWFwKChmdW5jdGlvbih0KXtpZih0LmRlYWxJZCYmYSh0LGUpKXJldHVybiBiKHt9LHQuYWRVbml0Q29kZSxEKHQsbi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nW2VdfSkpKSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX1yZXR1cm5bXX1mdW5jdGlvbiBkKGUsdCl7dmFyIG49Zyh7fSxtLlRBUkdFVElOR19LRVlTLG0uTkFUSVZFX0tFWVMpLGk9T2JqZWN0LmtleXMobiksbz17fTtPYmplY3Qoci5sb2dJbmZvKSgiYWxsb3dUYXJnZXRpbmdLZXlzIC0gYWxsb3dlZCBrZXlzIFsgIi5jb25jYXQodC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSkpLmpvaW4oIiwgIiksIiBdIikpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qua2V5cyhlKVswXSxhPWVbcl0uZmlsdGVyKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qua2V5cyhlKVswXSxhPTA9PT1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1yLmluZGV4T2YobltlXSl9KSkubGVuZ3RofHxwKCkodCwoZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtyZXR1cm4gMD09PXIuaW5kZXhPZih0KX0pKTtyZXR1cm4gb1tyXT0hYSxhfSkpO2Vbcl09YX0pKTt2YXIgYT1PYmplY3Qua2V5cyhvKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfSkpO3JldHVybiBPYmplY3Qoci5sb2dJbmZvKSgiYWxsb3dUYXJnZXRpbmdLZXlzIC0gcmVtb3ZlZCBrZXlzIFsgIi5jb25jYXQoYS5qb2luKCIsICIpLCIgXSIpKSxlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGVbT2JqZWN0LmtleXMoZSlbMF1dLmxlbmd0aD4wfSkpfWZ1bmN0aW9uIGwoZSx0KXt2YXIgbj1PYmplY3Qoci5kZWVwQ2xvbmUpKGUpO3JldHVybiBPYmplY3Qua2V5cyhuKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnthZFVuaXRDb2RlOmUsYWRzZXJ2ZXJUYXJnZXRpbmc6bltlXX19KSkuc29ydChPKCkpLnJlZHVjZSgoZnVuY3Rpb24oZSxpLG8sYSl7dmFyIGMsdT0oYz1pLmFkc2VydmVyVGFyZ2V0aW5nLE9iamVjdC5rZXlzKGMpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSsiIi5jb25jYXQodCwiJTNkIikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChjW3RdKSwiJTI2Iil9KSwiIikpO28rMT09PWEubGVuZ3RoJiYodT11LnNsaWNlKDAsLTMpKTt2YXIgcz1pLmFkVW5pdENvZGUsZD11Lmxlbmd0aDtyZXR1cm4gZDw9dD8odC09ZCxPYmplY3Qoci5sb2dJbmZvKSgiQWRVbml0ICciLmNvbmNhdChzLCInIGF1Y3Rpb24ga2V5cyBjb21wcmlzZWQgb2YgIikuY29uY2F0KGQsIiBjaGFyYWN0ZXJzLiAgRGVkdWN0ZWQgZnJvbSBydW5uaW5nIHRocmVzaG9sZDsgbmV3IGxpbWl0IGlzICIpLmNvbmNhdCh0KSxuW3NdKSxlW3NdPW5bc10pOk9iamVjdChyLmxvZ1dhcm4pKCJUaGUgZm9sbG93aW5nIGtleXMgZm9yIGFkVW5pdENvZGUgJyIuY29uY2F0KHMsIicgZXhjZWVkZWQgdGhlIGN1cnJlbnQgbGltaXQgb2YgdGhlICdhdWN0aW9uS2V5TWF4Q2hhcnMnIHNldHRpbmcuXG5UaGUga2V5LXNldCBzaXplIHdhcyAiKS5jb25jYXQoZCwiLCB0aGUgY3VycmVudCBhbGxvdHRlZCBhbW91bnQgd2FzICIpLmNvbmNhdCh0LCIuXG4iKSxuW3NdKSxvKzE9PT1hLmxlbmd0aCYmMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmT2JqZWN0KHIubG9nRXJyb3IpKCJObyBhdWN0aW9uIHRhcmdldGluZyBrZXlzIHdlcmUgcGVybWl0dGVkIGR1ZSB0byB0aGUgc2V0dGluZyBpbiBzZXRDb25maWcodGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzKS4gIFBsZWFzZSByZXZpZXcgc2V0dXAgYW5kIGNvbnNpZGVyIGFkanVzdGluZy4iKSxlfSkse30pfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYih7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLmpvaW4oIiwgIikpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZyh0LGUpfSkse30pKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0LmtleXModClbMF07cmV0dXJuIGVbbl09Zyh7fSxlW25dLHRbbl0pLGV9KSx7fSl9ZnVuY3Rpb24gSSh0KXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/W3RdOmguaXNBcnJheSh0KT90OmUuZ2V0QWRVbml0Q29kZXMoKXx8W119ZnVuY3Rpb24gdygpe3ZhciB0PWUuZ2V0Qmlkc1JlY2VpdmVkKCk7cmV0dXJuIGkuYi5nZXRDb25maWcoInVzZUJpZENhY2hlIil8fCh0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmFkVW5pdENvZGVdPT09ZS5hdWN0aW9uSWR9KSkpLHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ2aWRlby5jb250ZXh0IikhPT11LmF9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWUubWVkaWFUeXBlfHxPYmplY3QoYy5jKShbZS53aWR0aCxlLmhlaWdodF0pfSkpLmZpbHRlcihBLmlzVW51c2VkQmlkKS5maWx0ZXIoQS5pc0JpZE5vdEV4cGlyZWQpLFQodCxyLmdldE9sZGVzdEhpZ2hlc3RDcG1CaWQpfWZ1bmN0aW9uIEMoZSxuKXt2YXIgcj10LmdldFdpbm5pbmdCaWRzKGUsbiksaT1qKCk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1lLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09aS5pbmRleE9mKHQpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXt2YXIgcj1bZS5hZHNlcnZlclRhcmdldGluZ1tuXV0saT1iKHt9LG4uc3Vic3RyaW5nKDAsMjApLHIpO2lmKG49PT1tLlRBUkdFVElOR19LRVlTLkRFQUwpe3ZhciBvPWIoe30sIiIuY29uY2F0KG4sIl8iKS5jb25jYXQoZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCkscik7cmV0dXJuW10uY29uY2F0KHYodCksW2ksb10pfXJldHVybltdLmNvbmNhdCh2KHQpLFtpXSl9KSxbXSkpfSkpfWZ1bmN0aW9uIGooKXtyZXR1cm4gZS5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KSkuY29uY2F0KEUpLmZpbHRlcihyLnVuaXF1ZXMpfWZ1bmN0aW9uIF8oZSx0LG4saSl7cmV0dXJuIE9iamVjdC5rZXlzKHQuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UubGVuZ3RoJiZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZSYmbi5hZHNlcnZlclRhcmdldGluZ1tlXX19KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtoLmlzQXJyYXkobi5hZHNlcnZlclRhcmdldGluZ1tlXSl8fChuLmFkc2VydmVyVGFyZ2V0aW5nW2VdPVtuLmFkc2VydmVyVGFyZ2V0aW5nW2VdXSksbi5hZHNlcnZlclRhcmdldGluZ1tlXT1uLmFkc2VydmVyVGFyZ2V0aW5nW2VdLmNvbmNhdCh0LmFkc2VydmVyVGFyZ2V0aW5nW2VdKS5maWx0ZXIoci51bmlxdWVzKSxkZWxldGUgdC5hZHNlcnZlclRhcmdldGluZ1tlXX19KG4pKX0pKSxlLnB1c2godCksZX1mdW5jdGlvbiBSKCl7dmFyIGU9aigpLmNvbmNhdChvLmEpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4tMT09PWUuaW5kZXhPZih0KX19ZnVuY3Rpb24gQihlKXtyZXR1cm4gYih7fSxlLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoZS5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKFIoKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYih7fSx0LnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pfSkpKX1mdW5jdGlvbiBVKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZigpKGUsdC5hZFVuaXRDb2RlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBnKHt9LGUpfSkpLnJlZHVjZShfLFtdKS5tYXAoQikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX1mdW5jdGlvbiB4KGUsdCl7dmFyIG49RS5jb25jYXQoby5hKSxjPWkuYi5nZXRDb25maWcoInNlbmRCaWRzQ29udHJvbC5iaWRMaW1pdCIpLHU9VCh0LHIuZ2V0SGlnaGVzdENwbSxjKSxzPWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsbG93U2VuZEFsbEJpZHNUYXJnZXRpbmdLZXlzIiksZD1zP3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbS5UQVJHRVRJTkdfS0VZU1tlXX0pKTpuO3JldHVybiB1Lm1hcCgoZnVuY3Rpb24odCl7aWYoYSh0LGUpKXJldHVybiBiKHt9LHQuYWRVbml0Q29kZSxEKHQsbi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nW2VdJiYtMSE9PWQuaW5kZXhPZihlKX0pKSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9ZnVuY3Rpb24gRChlLHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGIoe30sIiIuY29uY2F0KHQsIl8iKS5jb25jYXQoZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCksW2UuYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dKX0pKX1mdW5jdGlvbiBOKHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsbS5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HKX1yZXR1cm4gZS5nZXRBZFVuaXRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKHQsZS5jb2RlKSYmbihlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LGUuY29kZSxmdW5jdGlvbihlKXt2YXIgdD1uKGUpO3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBoLmlzU3RyKHRbZV0pJiYodFtlXT10W2VdLnNwbGl0KCIsIikpLGguaXNBcnJheSh0W2VdKXx8KHRbZV09W3RbZV1dKSxiKHt9LGUsdFtlXSl9KSl9KGUpKX0pKX1yZXR1cm4gdC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0PWZ1bmN0aW9uKGUsdCl7bltlXT10fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nPWZ1bmN0aW9uKHQsbil7aWYoT2JqZWN0KHIuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgaT1JKHQpLG89ZS5nZXRBZFVuaXRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKGksZS5jb2RlKX0pKTt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9aC5pc0ZuKG4pJiZuKGUpO1MuZm9yRWFjaCgoZnVuY3Rpb24obil7by5mb3JFYWNoKChmdW5jdGlvbihyKXsoci5jb2RlPT09ZS5nZXRBZFVuaXRQYXRoKCl8fHIuY29kZT09PWUuZ2V0U2xvdEVsZW1lbnRJZCgpfHxoLmlzRm4odCkmJnQoci5jb2RlKSkmJmUuc2V0VGFyZ2V0aW5nKG4sbnVsbCl9KSl9KSl9KSl9fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nQVNUPWZ1bmN0aW9uKGUpe0koZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LmFwbnRhZy5nZXRUYWcoZSk7aWYodCYmdC5rZXl3b3Jkcyl7dmFyIG49T2JqZWN0LmtleXModC5rZXl3b3Jkcykscj17fTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YoKShTLGUudG9Mb3dlckNhc2UoKSl8fChyW2VdPXQua2V5d29yZHNbZV0pfSkpLHdpbmRvdy5hcG50YWcubW9kaWZ5VGFnKGUse2tleXdvcmRzOnJ9KX19KSl9LHQuZ2V0QWxsVGFyZ2V0aW5nPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp3KCksbj1JKGUpLG89QyhuLHQpLmNvbmNhdChVKG4sdCkpLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJlbmFibGVTZW5kQWxsQmlkcyIpP3gobix0KTpzKG4sdCkpLmNvbmNhdChOKG4pKTtvLm1hcCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtlW3RdLm1hcCgoZnVuY3Rpb24oZSl7LTE9PT1TLmluZGV4T2YoT2JqZWN0LmtleXMoZSlbMF0pJiYoUz1PYmplY3Qua2V5cyhlKS5jb25jYXQoUykpfSkpfSkpfSkpO3ZhciBhPU9iamVjdC5rZXlzKGcoe30sbS5ERUZBVUxUX1RBUkdFVElOR19LRVlTLG0uTkFUSVZFX0tFWVMpKSxjPWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsbG93VGFyZ2V0aW5nS2V5cyIpfHxhO0FycmF5LmlzQXJyYXkoYykmJmMubGVuZ3RoPjAmJihvPWQobyxjKSksbz15KG8pO3ZhciB1PWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycyIpO3JldHVybiB1JiYoT2JqZWN0KHIubG9nSW5mbykoIkRldGVjdGVkICd0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMnIHdhcyBhY3RpdmUgZm9yIHRoaXMgYXVjdGlvbjsgc2V0IHdpdGggYSBsaW1pdCBvZiAiLmNvbmNhdCh1LCIgY2hhcmFjdGVycy4gIFJ1bm5pbmcgY2hlY2tzIG9uIGF1Y3Rpb24ga2V5cy4uLiIpKSxvPWwobyx1KSksbi5mb3JFYWNoKChmdW5jdGlvbihlKXtvW2VdfHwob1tlXT17fSl9KSksb30sdC5zZXRUYXJnZXRpbmdGb3JHUFQ9ZnVuY3Rpb24oZSx0KXt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0LmtleXMoZSkuZmlsdGVyKHQ/dChuKTpPYmplY3Qoci5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3QpKG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXMoZVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ZVt0XVtyXTsic3RyaW5nIj09dHlwZW9mIGkmJihpPWkuc3BsaXQoIiwiKSksKGk9aS5sZW5ndGg+MT9baV06aSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gaC5sb2dNZXNzYWdlKCJBdHRlbXB0aW5nIHRvIHNldCBrZXkgdmFsdWUgZm9yIHNsb3Q6ICIuY29uY2F0KG4uZ2V0U2xvdEVsZW1lbnRJZCgpLCIga2V5OiAiKS5jb25jYXQociwiIHZhbHVlOiAiKS5jb25jYXQoZSkpLGV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5zZXRUYXJnZXRpbmcocixlKX0pKX0pKX0pKX0pKX0sdC5nZXRXaW5uaW5nQmlkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dygpLG49SShlKTtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmFkVW5pdENvZGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY3BtPjB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpLmZpbHRlcihyLnVuaXF1ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZT90Om51bGx9KSkucmVkdWNlKHIuZ2V0SGlnaGVzdENwbSl9KSl9LHQuc2V0VGFyZ2V0aW5nRm9yQXN0PWZ1bmN0aW9uKGUpe3ZhciBuPXQuZ2V0QWxsVGFyZ2V0aW5nKGUpO3RyeXt0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nQVNUKGUpfWNhdGNoKGUpe2gubG9nRXJyb3IoInVuYWJsZSB0byByZXNldCB0YXJnZXRpbmcgZm9yIEFTVCIrZSl9T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKGgubG9nTWVzc2FnZSgiQXR0ZW1wdGluZyB0byBzZXQgdGFyZ2V0aW5nIGZvciB0YXJnZXRJZDogIi5jb25jYXQoZSwiIGtleTogIikuY29uY2F0KHQsIiB2YWx1ZTogIikuY29uY2F0KG5bZV1bdF0pKSxoLmlzU3RyKG5bZV1bdF0pfHxoLmlzQXJyYXkobltlXVt0XSkpe3ZhciByPXt9O3Quc2VhcmNoKC9wdFswLTldLyk8MD9yW3QudG9VcHBlckNhc2UoKV09bltlXVt0XTpyW3RdPW5bZV1bdF0sd2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcyhlLHIse292ZXJyaWRlS2V5VmFsdWU6ITB9KX19KSl9KSl9LHQuaXNBcG50YWdEZWZpbmVkPWZ1bmN0aW9uKCl7aWYod2luZG93LmFwbnRhZyYmaC5pc0ZuKHdpbmRvdy5hcG50YWcuc2V0S2V5d29yZHMpKXJldHVybiEwfSx0fShhLmEpfSwzOTpmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSw0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLHQuYj1zO3ZhciByPW4oMyksaT1uKDU1KTtmdW5jdGlvbiBvKCl7cmV0dXJuKG89T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKGUpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGM9bigwKSx1PXMoKTtmdW5jdGlvbiBzKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjNlMyx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQucmVxdWVzdCx1PXQuZG9uZTtyZXR1cm4gZnVuY3Rpb24odCxzLGQpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fTt0cnl7dmFyIGwscD1mLm1ldGhvZHx8KGQ/IlBPU1QiOiJHRVQiKSxnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0PWkuYyh0KSxnLmhyZWY9dDt2YXIgYj0ib2JqZWN0Ij09PWEocykmJm51bGwhPT1zP3M6e3N1Y2Nlc3M6ZnVuY3Rpb24oKXtjLmxvZ01lc3NhZ2UoInhociBzdWNjZXNzIil9LGVycm9yOmZ1bmN0aW9uKGUpe2MubG9nRXJyb3IoInhociBlcnJvciIsbnVsbCxlKX19O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYoYi5zdWNjZXNzPXMpLChsPW5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1sLnJlYWR5U3RhdGUpeyJmdW5jdGlvbiI9PXR5cGVvZiB1JiZ1KGcub3JpZ2luKTt2YXIgZT1sLnN0YXR1cztlPj0yMDAmJmU8MzAwfHwzMDQ9PT1lP2Iuc3VjY2VzcyhsLnJlc3BvbnNlVGV4dCxsKTpiLmVycm9yKGwuc3RhdHVzVGV4dCxsKX19LHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtjLmxvZ0Vycm9yKCIgIHhociB0aW1lb3V0IGFmdGVyICIsbC50aW1lb3V0LCJtcyIpfSksIkdFVCI9PT1wJiZkKXt2YXIgdj1jLnBhcnNlVXJsKHQsZik7byh2LnNlYXJjaCxkKSx0PWMuYnVpbGRVcmwodil9bC5vcGVuKHAsdCwhMCksci5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChsLnRpbWVvdXQ9ZSksZi53aXRoQ3JlZGVudGlhbHMmJihsLndpdGhDcmVkZW50aWFscz0hMCksYy5fZWFjaChmLmN1c3RvbUhlYWRlcnMsKGZ1bmN0aW9uKGUsdCl7bC5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksZi5wcmVmbGlnaHQmJmwuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsIlhNTEh0dHBSZXF1ZXN0IiksbC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLGYuY29udGVudFR5cGV8fCJ0ZXh0L3BsYWluIiksImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4oZy5vcmlnaW4pLCJQT1NUIj09PXAmJmQ/bC5zZW5kKGQpOmwuc2VuZCgpfWNhdGNoKGUpe2MubG9nRXJyb3IoInhociBjb25zdHJ1Y3Rpb24iLGUpLCJvYmplY3QiPT09YShzKSYmbnVsbCE9PXMmJnMuZXJyb3IoZSl9fX19LDQwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSw0MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDIxKSxvPW4oMjQpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4sYT1yKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT0obj1yKGEpW29dKT90Omkobil9fSw0MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgaShlLHQpfTt2YXIgcj1uKDApO2Z1bmN0aW9uIGkoZSx0KXt2YXIgbj10JiZ0LnNyY3x8ImNsaWVudCIsaT1lfHwwO3RoaXMuYmlkZGVyQ29kZT10JiZ0LmJpZGRlcnx8IiIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5zdGF0dXNNZXNzYWdlPWZ1bmN0aW9uKCl7c3dpdGNoKGkpe2Nhc2UgMDpyZXR1cm4iUGVuZGluZyI7Y2FzZSAxOnJldHVybiJCaWQgYXZhaWxhYmxlIjtjYXNlIDI6cmV0dXJuIkJpZCByZXR1cm5lZCBlbXB0eSBvciBlcnJvciByZXNwb25zZSI7Y2FzZSAzOnJldHVybiJCaWQgdGltZWQgb3V0In19KCksdGhpcy5hZElkPXIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHRoaXMucmVxdWVzdElkPXQmJnQuYmlkSWQsdGhpcy5tZWRpYVR5cGU9ImJhbm5lciIsdGhpcy5zb3VyY2U9bix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrIngiK3RoaXMuaGVpZ2h0fX19LDQzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMCksYT17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouNX1dfSxjPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMX1dfSx1PXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XX0scz17YnVja2V0czpbe21heDozLGluY3JlbWVudDouMDF9LHttYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWF4OjIwLGluY3JlbWVudDouNX1dfSxkPXtidWNrZXRzOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21heDoxMCxpbmNyZW1lbnQ6LjF9LHttYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGYoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6bChlLGEsbiksbWVkOiIiPT09cj8iIjpsKGUsYyxuKSxoaWdoOiIiPT09cj8iIjpsKGUsdSxuKSxhdXRvOiIiPT09cj8iIjpsKGUsZCxuKSxkZW5zZToiIj09PXI/IiI6bChlLHMsbiksY3VzdG9tOiIiPT09cj8iIjpsKGUsdCxuKX19ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9IiI7aWYoIXAodCkpcmV0dXJuIHI7dmFyIG89dC5idWNrZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXg+dC5tYXg/ZTp0fSkse21heDowfSksYT0wLGM9aSgpKHQuYnVja2V0cywoZnVuY3Rpb24odCl7aWYoZT5vLm1heCpuKXt2YXIgaT10LnByZWNpc2lvbjt2b2lkIDA9PT1pJiYoaT0yKSxyPSh0Lm1heCpuKS50b0ZpeGVkKGkpfWVsc2V7aWYoZTw9dC5tYXgqbiYmZT49YSpuKXJldHVybiB0Lm1pbj1hLHQ7YT10Lm1heH19KSk7cmV0dXJuIGMmJihyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12b2lkIDAhPT10LnByZWNpc2lvbj90LnByZWNpc2lvbjoyLGk9dC5pbmNyZW1lbnQqbixvPXQubWluKm4sYT1NYXRoLnBvdygxMCxyKzIpLGM9KGUqYS1vKmEpLyhpKmEpLHU9TWF0aC5mbG9vcihjKSppK287cmV0dXJuKHU9TnVtYmVyKHUudG9GaXhlZCgxMCkpKS50b0ZpeGVkKHIpfShlLGMsbikpLHJ9ZnVuY3Rpb24gcChlKXtpZihvLmlzRW1wdHkoZSl8fCFlLmJ1Y2tldHN8fCFBcnJheS5pc0FycmF5KGUuYnVja2V0cykpcmV0dXJuITE7dmFyIHQ9ITA7cmV0dXJuIGUuYnVja2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pKSx0fX0sNDQ6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57ZW51bWVyYWJsZTohKDEmZSksY29uZmlndXJhYmxlOiEoMiZlKSx3cml0YWJsZTohKDQmZSksdmFsdWU6dH19fSw0NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big3OCksaT1uKDQ3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoaShlKSl9fSw0NjpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sNDc6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICIrZSk7cmV0dXJuIGV9fSw0ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0Nyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QocihlKSl9fSw0OTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17SlNPTl9NQVBQSU5HOntQTF9DT0RFOiJjb2RlIixQTF9TSVpFOiJzaXplcyIsUExfQklEUzoiYmlkcyIsQkRfQklEREVSOiJiaWRkZXIiLEJEX0lEOiJwYXJhbXNkIixCRF9QTF9JRDoicGxhY2VtZW50SWQiLEFEU0VSVkVSX1RBUkdFVElORzoiYWRzZXJ2ZXJUYXJnZXRpbmciLEJEX1NFVFRJTkdfU1RBTkRBUkQ6InN0YW5kYXJkIn0sREVCVUdfTU9ERToicGJqc19kZWJ1ZyIsU1RBVFVTOntHT09EOjEsTk9fQklEOjJ9LENCOntUWVBFOntBTExfQklEU19CQUNLOiJhbGxSZXF1ZXN0ZWRCaWRzQmFjayIsQURfVU5JVF9CSURTX0JBQ0s6ImFkVW5pdEJpZHNCYWNrIixCSURfV09OOiJiaWRXb24iLFJFUVVFU1RfQklEUzoicmVxdWVzdEJpZHMifX0sRVZFTlRTOntBVUNUSU9OX0lOSVQ6ImF1Y3Rpb25Jbml0IixBVUNUSU9OX0VORDoiYXVjdGlvbkVuZCIsQklEX0FESlVTVE1FTlQ6ImJpZEFkanVzdG1lbnQiLEJJRF9USU1FT1VUOiJiaWRUaW1lb3V0IixCSURfUkVRVUVTVEVEOiJiaWRSZXF1ZXN0ZWQiLEJJRF9SRVNQT05TRToiYmlkUmVzcG9uc2UiLE5PX0JJRDoibm9CaWQiLEJJRF9XT046ImJpZFdvbiIsQklEREVSX0RPTkU6ImJpZGRlckRvbmUiLFNFVF9UQVJHRVRJTkc6InNldFRhcmdldGluZyIsQkVGT1JFX1JFUVVFU1RfQklEUzoiYmVmb3JlUmVxdWVzdEJpZHMiLFJFUVVFU1RfQklEUzoicmVxdWVzdEJpZHMiLEFERF9BRF9VTklUUzoiYWRkQWRVbml0cyIsQURfUkVOREVSX0ZBSUxFRDoiYWRSZW5kZXJGYWlsZWQiLEFEX1JFTkRFUl9TVUNDRUVERUQ6ImFkUmVuZGVyU3VjY2VlZGVkIixUQ0YyX0VORk9SQ0VNRU5UOiJ0Y2YyRW5mb3JjZW1lbnQiLEFVQ1RJT05fREVCVUc6ImF1Y3Rpb25EZWJ1ZyIsQklEX1ZJRVdBQkxFOiJiaWRWaWV3YWJsZSIsU1RBTEVfUkVOREVSOiJzdGFsZVJlbmRlciJ9LEFEX1JFTkRFUl9GQUlMRURfUkVBU09OOntQUkVWRU5UX1dSSVRJTkdfT05fTUFJTl9ET0NVTUVOVDoicHJldmVudFdyaXRpbmdPbk1haW5Eb2N1bWVudCIsTk9fQUQ6Im5vQWQiLEVYQ0VQVElPTjoiZXhjZXB0aW9uIixDQU5OT1RfRklORF9BRDoiY2Fubm90RmluZEFkIixNSVNTSU5HX0RPQ19PUl9BRElEOiJtaXNzaW5nRG9jT3JBZGlkIn0sRVZFTlRfSURfUEFUSFM6e2JpZFdvbjoiYWRVbml0Q29kZSJ9LEdSQU5VTEFSSVRZX09QVElPTlM6e0xPVzoibG93IixNRURJVU06Im1lZGl1bSIsSElHSDoiaGlnaCIsQVVUTzoiYXV0byIsREVOU0U6ImRlbnNlIixDVVNUT006ImN1c3RvbSJ9LFRBUkdFVElOR19LRVlTOntCSURERVI6ImhiX2JpZGRlciIsQURfSUQ6ImhiX2FkaWQiLFBSSUNFX0JVQ0tFVDoiaGJfcGIiLFNJWkU6ImhiX3NpemUiLERFQUw6ImhiX2RlYWwiLFNPVVJDRToiaGJfc291cmNlIixGT1JNQVQ6ImhiX2Zvcm1hdCIsVVVJRDoiaGJfdXVpZCIsQ0FDSEVfSUQ6ImhiX2NhY2hlX2lkIixDQUNIRV9IT1NUOiJoYl9jYWNoZV9ob3N0IixBRE9NQUlOOiJoYl9hZG9tYWluIn0sREVGQVVMVF9UQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixGT1JNQVQ6ImhiX2Zvcm1hdCIsVVVJRDoiaGJfdXVpZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCJ9LE5BVElWRV9LRVlTOnt0aXRsZToiaGJfbmF0aXZlX3RpdGxlIixib2R5OiJoYl9uYXRpdmVfYm9keSIsYm9keTI6ImhiX25hdGl2ZV9ib2R5MiIscHJpdmFjeUxpbms6ImhiX25hdGl2ZV9wcml2YWN5Iixwcml2YWN5SWNvbjoiaGJfbmF0aXZlX3ByaXZpY29uIixzcG9uc29yZWRCeToiaGJfbmF0aXZlX2JyYW5kIixpbWFnZToiaGJfbmF0aXZlX2ltYWdlIixpY29uOiJoYl9uYXRpdmVfaWNvbiIsY2xpY2tVcmw6ImhiX25hdGl2ZV9saW5rdXJsIixkaXNwbGF5VXJsOiJoYl9uYXRpdmVfZGlzcGxheXVybCIsY3RhOiJoYl9uYXRpdmVfY3RhIixyYXRpbmc6ImhiX25hdGl2ZV9yYXRpbmciLGFkZHJlc3M6ImhiX25hdGl2ZV9hZGRyZXNzIixkb3dubG9hZHM6ImhiX25hdGl2ZV9kb3dubG9hZHMiLGxpa2VzOiJoYl9uYXRpdmVfbGlrZXMiLHBob25lOiJoYl9uYXRpdmVfcGhvbmUiLHByaWNlOiJoYl9uYXRpdmVfcHJpY2UiLHNhbGVQcmljZToiaGJfbmF0aXZlX3NhbGVwcmljZSIscmVuZGVyZXJVcmw6ImhiX3JlbmRlcmVyX3VybCIsYWRUZW1wbGF0ZToiaGJfYWRUZW1wbGF0ZSJ9LFMyUzp7U1JDOiJzMnMiLERFRkFVTFRfRU5EUE9JTlQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsU1lOQ0VEX0JJRERFUlNfS0VZOiJwYmpzU3luY3MifSxCSURfU1RBVFVTOntCSURfVEFSR0VUSU5HX1NFVDoidGFyZ2V0aW5nU2V0IixSRU5ERVJFRDoicmVuZGVyZWQiLEJJRF9SRUpFQ1RFRDoiYmlkUmVqZWN0ZWQifX19LDUwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDYwKSxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZT4wP2kocihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sNTE6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSw1MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyk7ZS5leHBvcnRzPXJ9LDUzOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSw1NDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9bigxMjApLGM9bigyNSksdT1uKDMwKSxzPW4oMzIpLGQ9bigzMSksZj1uKDYxKSxsPW4oNjcpLHA9big1MyksZz0iT2JqZWN0IGFscmVhZHkgaW5pdGlhbGl6ZWQiLGI9Yy5XZWFrTWFwO2lmKGF8fGYuc3RhdGUpe3ZhciB2PWYuc3RhdGV8fChmLnN0YXRlPW5ldyBiKSx5PXYuZ2V0LGg9di5oYXMsbT12LnNldDtyPWZ1bmN0aW9uKGUsdCl7aWYoaC5jYWxsKHYsZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihnKTtyZXR1cm4gdC5mYWNhZGU9ZSxtLmNhbGwodixlLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHkuY2FsbCh2LGUpfHx7fX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gaC5jYWxsKHYsZSl9fWVsc2V7dmFyIFM9bCgic3RhdGUiKTtwW1NdPSEwLHI9ZnVuY3Rpb24oZSx0KXtpZihkKGUsUykpdGhyb3cgbmV3IFR5cGVFcnJvcihnKTtyZXR1cm4gdC5mYWNhZGU9ZSxzKGUsUyx0KSx0fSxpPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsUyk/ZVtTXTp7fX0sbz1mdW5jdGlvbihlKXtyZXR1cm4gZChlLFMpfX1lLmV4cG9ydHM9e3NldDpyLGdldDppLGhhczpvLGVuZm9yY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSk/aShlKTpyKGUse30pfSxnZXR0ZXJGb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuO2lmKCF1KHQpfHwobj1pKHQpKS50eXBlIT09ZSl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIitlKyIgcmVxdWlyZWQiKTtyZXR1cm4gbn19fX0sNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpfSx0LmM9ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PWU7cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dD1lKHQpfSkpLHR9Y2F0Y2godCl7cmV0dXJuIGV9fSx0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gb30sdC5kPWZ1bmN0aW9uKGUpe3IoZSl9O3ZhciByLGk9W107dmFyIG89bmV3IFByb21pc2UoKGZ1bmN0aW9uKGUpe3I9ZX0pKX0sNTY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDEyKSxhPW4ubihvKSxjPW4oNyk7ZnVuY3Rpb24gdShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gcyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWkuYi5zZXREZWZhdWx0cyh7dXNlclN5bmM6ci5kZWVwQ2xvbmUoe3N5bmNFbmFibGVkOiEwLGZpbHRlclNldHRpbmdzOntpbWFnZTp7YmlkZGVyczoiKiIsZmlsdGVyOiJpbmNsdWRlIn19LHN5bmNzUGVyQmlkZGVyOjUsc3luY0RlbGF5OjNlMyxhdWN0aW9uRGVsYXk6MH0pfSk7dmFyIGY9T2JqZWN0KGMuYSkoInVzZXJzeW5jIik7dmFyIGw9IXIuaXNTYWZhcmlCcm93c2VyKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtyLmxvZ01lc3NhZ2UoIkludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksci50cmlnZ2VyUGl4ZWwoaSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxuPXRbMF0saT10WzFdO3IubG9nTWVzc2FnZSgiSW52b2tpbmcgaWZyYW1lIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksci5pbnNlcnRVc2VyU3luY0lmcmFtZShpKX0pKX0oKX1jYXRjaChlKXtyZXR1cm4gci5sb2dFcnJvcigiRXJyb3IgZmlyaW5nIHVzZXIgc3luY3MiLGUpfW49e2ltYWdlOltdLGlmcmFtZTpbXX19fWZ1bmN0aW9uIHAoZSx0KXtyLnNodWZmbGUoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiByLmxvZ1dhcm4oJ0RldGVjdGVkIHByZXNlbmNlIG9mIHRoZSAiZmlsdGVyU2V0dGluZ3MuYWxsIiBhbmQgImZpbHRlclNldHRpbmdzLicuY29uY2F0KHQsJyIgaW4gdXNlclN5bmMgY29uZmlnLiAgWW91IGNhbm5vdCBtaXggImFsbCIgd2l0aCAiaWZyYW1lL2ltYWdlIiBjb25maWdzOyB0aGV5IGFyZSBtdXR1YWxseSBleGNsdXNpdmUuJykpLCExO3ZhciBuPWUuYWxsP2UuYWxsOmVbdF0saT1lLmFsbD8iYWxsIjp0O2lmKCFuKXJldHVybiExO3ZhciBvPW4uZmlsdGVyLGE9bi5iaWRkZXJzO2lmKG8mJiJpbmNsdWRlIiE9PW8mJiJleGNsdWRlIiE9PW8pcmV0dXJuIHIubG9nV2FybignVXNlclN5bmMgImZpbHRlclNldHRpbmdzLicuY29uY2F0KGksIi5maWx0ZXJcIiBzZXR0aW5nICciKS5jb25jYXQobywiJyBpcyBub3QgYSB2YWxpZCBvcHRpb247IHVzZSBlaXRoZXIgJ2luY2x1ZGUnIG9yICdleGNsdWRlJy4iKSksITE7aWYoIioiIT09YSYmIShBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aD4wJiZhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gci5pc1N0cihlKSYmIioiIT09ZX0pKSkpcmV0dXJuIHIubG9nV2FybignRGV0ZWN0ZWQgYW4gaW52YWxpZCBzZXR1cCBpbiB1c2VyU3luYyAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQoaSwiLmJpZGRlcnNcIjsgdXNlIGVpdGhlciAnKicgKHRvIHJlcHJlc2VudCBhbGwgYmlkZGVycykgb3IgYW4gYXJyYXkgb2YgYmlkZGVycy4iKSksITE7cmV0dXJuITB9KG4sZSkpe3NbZV09ITA7dmFyIGk9bi5hbGw/bi5hbGw6bltlXSxvPSIqIj09PWkuYmlkZGVycz9bdF06aS5iaWRkZXJzO3JldHVybntpbmNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIWEoKShlLHQpfSxleGNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGEoKShlLHQpfX1baS5maWx0ZXJ8fCJpbmNsdWRlIl0obyx0KX1yZXR1cm4hc1tlXX1yZXR1cm4gaS5iLmdldENvbmZpZygidXNlclN5bmMiLChmdW5jdGlvbihlKXtpZihlLnVzZXJTeW5jKXt2YXIgdD1lLnVzZXJTeW5jLmZpbHRlclNldHRpbmdzO3IuaXNQbGFpbk9iamVjdCh0KSYmKHQuaW1hZ2V8fHQuYWxsfHwoZS51c2VyU3luYy5maWx0ZXJTZXR0aW5ncy5pbWFnZT17YmlkZGVyczoiKiIsZmlsdGVyOiJpbmNsdWRlIn0pKX1mPWQoZixlLnVzZXJTeW5jKX0pKSx0LnJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLGksYSl7cmV0dXJuIG8uaGFzKGkpP3IubG9nTWVzc2FnZSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJnIuaXNBcnJheShuW2VdKT9pPzAhPT1mLnN5bmNzUGVyQmlkZGVyJiZOdW1iZXIoY1tpXSk+PWYuc3luY3NQZXJCaWRkZXI/ci5sb2dXYXJuKCdOdW1iZXIgb2YgdXNlciBzeW5jcyBleGNlZWRlZCBmb3IgIicuY29uY2F0KGksJyInKSk6dC5jYW5CaWRkZXJSZWdpc3RlclN5bmMoZSxpKT8obltlXS5wdXNoKFtpLGFdKSx2b2lkKGM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT9lW3RdKz0xOmVbdF09MSxlfShjLGkpKSk6ci5sb2dXYXJuKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpyLmxvZ1dhcm4oIkJpZGRlciBpcyByZXF1aXJlZCBmb3IgcmVnaXN0ZXJpbmcgc3luYyIpOnIubG9nV2FybignVXNlciBzeW5jIHR5cGUgIicuY29uY2F0KGUsJyIgbm90IHN1cHBvcnRlZCcpKX0sdC5zeW5jVXNlcnM9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtpZihlKXJldHVybiBzZXRUaW1lb3V0KGwsTnVtYmVyKGUpKTtsKCl9LHQudHJpZ2dlclVzZXJTeW5jcz1mdW5jdGlvbigpe2YuZW5hYmxlT3ZlcnJpZGUmJnQuc3luY1VzZXJzKCl9LHQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWYuZmlsdGVyU2V0dGluZ3N8fCFnKGUsdCl9LHR9KHtjb25maWc6aS5iLmdldENvbmZpZygidXNlclN5bmMiKSxicm93c2VyU3VwcG9ydHNDb29raWVzOmx9KX0sNTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtvLmFkU2VydmVycz1vLmFkU2VydmVyc3x8e30sby5hZFNlcnZlcnNbZV09by5hZFNlcnZlcnNbZV18fHt9LE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe28uYWRTZXJ2ZXJzW2VdW25dP09iamVjdChpLmxvZ1dhcm4pKCJBdHRlbXB0aW5nIHRvIGFkZCBhbiBhbHJlYWR5IHJlZ2lzdGVyZWQgZnVuY3Rpb24gcHJvcGVydHkgIi5jb25jYXQobiwiIGZvciBBZFNlcnZlciAiKS5jb25jYXQoZSwiLiIpKTpvLmFkU2VydmVyc1tlXVtuXT10W25dfSkpfTt2YXIgcj1uKDE0KSxpPW4oMCksbz1PYmplY3Qoci5hKSgpfSw1ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXIoZSkpcmV0dXJuIGU7dmFyIG4saTtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIXIoaT1uLmNhbGwoZSkpKXJldHVybiBpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihuPWUudmFsdWVPZikmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sNTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpLGk9big3OCksbz1uKDQ4KSxhPW4oNTApLGM9bigxMDYpLHU9W10ucHVzaCxzPWZ1bmN0aW9uKGUpe3ZhciB0PTE9PWUsbj0yPT1lLHM9Mz09ZSxkPTQ9PWUsZj02PT1lLGw9Nz09ZSxwPTU9PWV8fGY7cmV0dXJuIGZ1bmN0aW9uKGcsYix2LHkpe2Zvcih2YXIgaCxtLFM9byhnKSxFPWkoUyksQT1yKGIsdiwzKSxUPWEoRS5sZW5ndGgpLE89MCxJPXl8fGMsdz10P0koZyxUKTpufHxsP0koZywwKTp2b2lkIDA7VD5PO08rKylpZigocHx8TyBpbiBFKSYmKG09QShoPUVbT10sTyxTKSxlKSlpZih0KXdbT109bTtlbHNlIGlmKG0pc3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIGg7Y2FzZSA2OnJldHVybiBPO2Nhc2UgMjp1LmNhbGwodyxoKX1lbHNlIHN3aXRjaChlKXtjYXNlIDQ6cmV0dXJuITE7Y2FzZSA3OnUuY2FsbCh3LGgpfXJldHVybiBmPy0xOnN8fGQ/ZDp3fX07ZS5leHBvcnRzPXtmb3JFYWNoOnMoMCksbWFwOnMoMSksZmlsdGVyOnMoMiksc29tZTpzKDMpLGV2ZXJ5OnMoNCksZmluZDpzKDUpLGZpbmRJbmRleDpzKDYpLGZpbHRlck91dDpzKDcpfX0sNjA6ZnVuY3Rpb24oZSx0KXt2YXIgbj1NYXRoLmNlaWwscj1NYXRoLmZsb29yO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaXNOYU4oZT0rZSk/MDooZT4wP3I6bikoZSl9fSw2MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDEwOCksbz0iX19jb3JlLWpzX3NoYXJlZF9fIixhPXJbb118fGkobyx7fSk7ZS5leHBvcnRzPWF9LDYyOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIitTdHJpbmcodm9pZCAwPT09ZT8iIjplKSsiKV8iKygrK24rcikudG9TdHJpbmcoMzYpfX0sNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjQpLGk9big0MCksbz1uKDI0KSgiaXRlcmF0b3IiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sNjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big0Niksbz1uKDI0KSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPXI/aTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDY1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyW24oMjQpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsZS5leHBvcnRzPSJbb2JqZWN0IHpdIj09PVN0cmluZyhyKX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9bigzNCkuZixvPW4oMzIpLGE9bigzMSksYz1uKDExOSksdT1uKDI0KSgidG9TdHJpbmdUYWciKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scyl7aWYoZSl7dmFyIGQ9bj9lOmUucHJvdG90eXBlO2EoZCx1KXx8aShkLHUse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSkscyYmIXImJm8oZCwidG9TdHJpbmciLGMpfX19LDY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDgxKSxpPW4oNjIpLG89cigia2V5cyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09aShlKSl9fSw2ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxMjgpLG89big5MyksYT1uKDEzMCksYz1uKDY2KSx1PW4oMzIpLHM9big5MSksZD1uKDI0KSxmPW4oMTcpLGw9big0MCkscD1uKDkyKSxnPXAuSXRlcmF0b3JQcm90b3R5cGUsYj1wLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsdj1kKCJpdGVyYXRvciIpLHk9ImtleXMiLGg9InZhbHVlcyIsbT0iZW50cmllcyIsUz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sZCxwLEUsQSl7aShuLHQsZCk7dmFyIFQsTyxJLHc9ZnVuY3Rpb24oZSl7aWYoZT09PXAmJkIpcmV0dXJuIEI7aWYoIWImJmUgaW4gXylyZXR1cm4gX1tlXTtzd2l0Y2goZSl7Y2FzZSB5OmNhc2UgaDpjYXNlIG06cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzKX19LEM9dCsiIEl0ZXJhdG9yIixqPSExLF89ZS5wcm90b3R5cGUsUj1fW3ZdfHxfWyJAQGl0ZXJhdG9yIl18fHAmJl9bcF0sQj0hYiYmUnx8dyhwKSxVPSJBcnJheSI9PXQmJl8uZW50cmllc3x8UjtpZihVJiYoVD1vKFUuY2FsbChuZXcgZSkpLGchPT1PYmplY3QucHJvdG90eXBlJiZULm5leHQmJihmfHxvKFQpPT09Z3x8KGE/YShULGcpOiJmdW5jdGlvbiIhPXR5cGVvZiBUW3ZdJiZ1KFQsdixTKSksYyhULEMsITAsITApLGYmJihsW0NdPVMpKSkscD09aCYmUiYmUi5uYW1lIT09aCYmKGo9ITAsQj1mdW5jdGlvbigpe3JldHVybiBSLmNhbGwodGhpcyl9KSxmJiYhQXx8X1t2XT09PUJ8fHUoXyx2LEIpLGxbdF09QixwKWlmKE89e3ZhbHVlczp3KGgpLGtleXM6RT9COncoeSksZW50cmllczp3KG0pfSxBKWZvcihJIGluIE8pKGJ8fGp8fCEoSSBpbiBfKSkmJnMoXyxJLE9bSV0pO2Vsc2Ugcih7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOmJ8fGp9LE8pO3JldHVybiBPfX0sNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSk7dmFyIHI9bigwKSxpPXt9O2Z1bmN0aW9uIG8oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG49aVtlXT1pW2VdfHx7YmlkZGVyczp7fX07cmV0dXJuIHQ/bi5iaWRkZXJzW3RdPW4uYmlkZGVyc1t0XXx8e306bn0oZSxuKTtyZXR1cm4gclt0XT0oclt0XXx8MCkrMSxyW3RdfXZhciBhPXtpbmNyZW1lbnRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZSwicmVxdWVzdHNDb3VudGVyIil9LGluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIsdCl9LGluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oZSwid2luc0NvdW50ZXIiLHQpfSxnZXRSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlclJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi53aW5zQ291bnRlciIpKXx8MH19fSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoe21vZHVsZU5hbWU6ZSxtb2R1bGVUeXBlOiJjb3JlIn0pfSx0LmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Z3ZsaWQ6ZSxtb2R1bGVOYW1lOnR9KX07dmFyIHI9bigxMCksaT1uKDApLG89bigxMiksYT1uLm4obyksYz1bImNvcmUiLCJwcmViaWQtbW9kdWxlIl0sdT1bXTtmdW5jdGlvbiBzKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5ndmxpZCxuPWUubW9kdWxlTmFtZSxyPWUubW9kdWxlVHlwZTtmdW5jdGlvbiBvKGUpe2lmKGEoKShjLHIpKXtyZXR1cm4gZSh7dmFsaWQ6ITB9KX12YXIgbztyZXR1cm4gZCh0LG4se2hhc0VuZm9yY2VtZW50SG9vazohMX0sKGZ1bmN0aW9uKHQpe2lmKHQmJnQuaGFzRW5mb3JjZW1lbnRIb29rKW89ZSh0KTtlbHNle3ZhciBuPXtoYXNFbmZvcmNlbWVudEhvb2s6ITEsdmFsaWQ6aS5oYXNEZXZpY2VBY2Nlc3MoKX07bz1lKG4pfX0pKSxvfXZhciBzPWZ1bmN0aW9uKGUsdCxuLHIsaSxhKXt2YXIgYz1mdW5jdGlvbihvKXtpZihvJiZvLnZhbGlkKXt2YXIgYT1pJiYiIiE9PWk/IiA7ZG9tYWluPSIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChpKSk6IiIsYz1uJiYiIiE9PW4/IiA7ZXhwaXJlcz0iLmNvbmNhdChuKToiIix1PW51bGwhPXImJiJub25lIj09ci50b0xvd2VyQ2FzZSgpPyI7IFNlY3VyZSI6IiI7ZG9jdW1lbnQuY29va2llPSIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkuY29uY2F0KGMsIjsgcGF0aD0vIikuY29uY2F0KGEpLmNvbmNhdChyPyI7IFNhbWVTaXRlPSIuY29uY2F0KHIpOiIiKS5jb25jYXQodSl9fTtpZighYXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGEpcmV0dXJuIG8oYyk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8oYyk7YShlKX0pKX0sZj1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKHQpe2lmKHQmJnQudmFsaWQpe3ZhciBuPXdpbmRvdy5kb2N1bWVudC5jb29raWUubWF0Y2goIihefDspXFxzKiIrZSsiXFxzKj1cXHMqKFteO10qKVxccyooO3wkKSIpO3JldHVybiBuP2RlY29kZVVSSUNvbXBvbmVudChuWzJdKTpudWxsfXJldHVybiBudWxsfTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX0sbD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe31maW5hbGx5e3RyeXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9fXJldHVybiExfTtpZighZXx8ImZ1bmN0aW9uIiE9dHlwZW9mIGUpcmV0dXJuIG8odCk7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBuPW8odCk7ZShuKX0pKX0scD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS52YWxpZCkmJighIWkuY2hlY2tDb29raWVTdXBwb3J0KCl8fCh3aW5kb3cuZG9jdW1lbnQuY29va2llPSJwcmViaWQuY29va2llVGVzdCIsLTEhPT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0IikpKX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKG4pe24mJm4udmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9O2lmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gbyhyKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhyKTtuKGUpfSkpfSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsaWQmJnkoKT93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt0JiZ0LnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe2kubG9nRXJyb3IoIkxvY2FsIHN0b3JhZ2UgYXBpIGRpc2FibGVkIil9cmV0dXJuITF9O2lmKCFlfHwiZnVuY3Rpb24iIT10eXBlb2YgZSlyZXR1cm4gbyh0KTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIG49byh0KTtlKG4pfSkpfSxoPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7aWYodCYmdC52YWxpZCl7dmFyIG49W107aWYoaS5oYXNEZXZpY2VBY2Nlc3MoKSlmb3IodmFyIHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iik7ci5sZW5ndGg7KXt2YXIgbz1yLnBvcCgpLGE9by5pbmRleE9mKCI9Iik7YT1hPDA/by5sZW5ndGg6YSxkZWNvZGVVUklDb21wb25lbnQoby5zbGljZSgwLGEpLnJlcGxhY2UoL15ccysvLCIiKSkuaW5kZXhPZihlKT49MCYmbi5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChvLnNsaWNlKGErMSkpKX1yZXR1cm4gbn19O2lmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gbyhuKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhuKTt0KGUpfSkpfTtyZXR1cm57c2V0Q29va2llOnMsZ2V0Q29va2llOmYsbG9jYWxTdG9yYWdlSXNFbmFibGVkOmwsY29va2llc0FyZUVuYWJsZWQ6cCxzZXREYXRhSW5Mb2NhbFN0b3JhZ2U6ZyxnZXREYXRhRnJvbUxvY2FsU3RvcmFnZTpiLHJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlOnYsaGFzTG9jYWxTdG9yYWdlOnksZmluZFNpbWlsYXJDb29raWVzOmh9fXZhciBkPU9iamVjdChyLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3Iobil9KSwidmFsaWRhdGVTdG9yYWdlRW5mb3JjZW1lbnQiKX0sNzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEzKTtlLmV4cG9ydHM9cn0sNzU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImFkVW5pdFNldHVwQ2hlY2tzIiwoZnVuY3Rpb24oKXtyZXR1cm4gWX0pKSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFF9KSksdC5leGVjdXRlQ2FsbGJhY2tzPWVlO3ZhciByPW4oMTQpLGk9bigwKSxvPW4oMjE5KSxhPW4oNTYpLGM9bigzKSx1PW4oMjMpLHM9bigzOCksZD1uKDEwKSxmPW4oMjIwKSxsPW4oMTIpLHA9bi5uKGwpLGc9big2OSksYj1uKDEzKSx2PW4oNDIpLHk9big3KSxoPW4oNTUpO2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIFMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIFMoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIFMoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gUyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIEUoKXtyZXR1cm4oRT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBBPU9iamVjdChyLmEpKCksVD1uKDUpLE89bigwKSxJPW4oOCkuZGVmYXVsdCx3PW4oOSksQz1hLmEudHJpZ2dlclVzZXJTeW5jcyxqPVQuRVZFTlRTLF89ai5BRERfQURfVU5JVFMsUj1qLkJJRF9XT04sQj1qLlJFUVVFU1RfQklEUyxVPWouU0VUX1RBUkdFVElORyx4PWouQURfUkVOREVSX0ZBSUxFRCxEPWouQURfUkVOREVSX1NVQ0NFRURFRCxOPWouU1RBTEVfUkVOREVSLGs9VC5BRF9SRU5ERVJfRkFJTEVEX1JFQVNPTixQPWsuUFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQscT1rLk5PX0FELE09ay5FWENFUFRJT04sRz1rLkNBTk5PVF9GSU5EX0FELFc9ay5NSVNTSU5HX0RPQ19PUl9BRElELEw9e2JpZFdvbjpmdW5jdGlvbihlKXt2YXIgdD11LmEuZ2V0Qmlkc1JlcXVlc3RlZCgpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSl9KSkucmVkdWNlKGkuZmxhdHRlbikuZmlsdGVyKGkudW5pcXVlcyk7aWYoIU8uY29udGFpbnModCxlKSlyZXR1cm4gdm9pZCBPLmxvZ0Vycm9yKCdUaGUgIicrZSsnIiBwbGFjZW1lbnQgaXMgbm90IGRlZmluZWQuJyk7cmV0dXJuITB9fTtmdW5jdGlvbiBGKGUsdCxuKXtlLmRlZmF1bHRWaWV3JiZlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCYmKGUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50LndpZHRoPXQsZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQuaGVpZ2h0PW4pfWZ1bmN0aW9uIHooZSx0KXt2YXIgbj1bXTtyZXR1cm4gTy5pc0FycmF5KGUpJiYodD9lLmxlbmd0aD09PXQ6ZS5sZW5ndGg+MCkmJihlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKX0pKT9uPWU6T2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKSYmbi5wdXNoKGUpKSxufWZ1bmN0aW9uIFYoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9eihuLnNpemVzKTtyZXR1cm4gci5sZW5ndGg+MD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KE8ubG9nRXJyb3IoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IHdpdGhvdXQgYSBwcm9wZXIgc2l6ZXMgZmllbGQuICBQbGVhc2UgZW5zdXJlIHRoZSBzaXplcyBhcmUgbGlzdGVkIGxpa2U6IFtbMzAwLCAyNTBdLCAuLi5dLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMuYmFubmVyKSx0fWZ1bmN0aW9uIEgoZSl7dmFyIHQ9Ty5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMudmlkZW87aWYobi5wbGF5ZXJTaXplKXt2YXIgcj0ibnVtYmVyIj09dHlwZW9mIG4ucGxheWVyU2l6ZVswXT8yOjEsaT16KG4ucGxheWVyU2l6ZSxyKTtpLmxlbmd0aD4wPygyPT09ciYmTy5sb2dJbmZvKCJUcmFuc2Zvcm1pbmcgdmlkZW8ucGxheWVyU2l6ZSBmcm9tIFs2NDAsNDgwXSB0byBbWzY0MCw0ODBdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpLG4ucGxheWVyU2l6ZT1pLHQuc2l6ZXM9aSk6KE8ubG9nRXJyb3IoIkRldGVjdGVkIGluY29ycmVjdCBjb25maWd1cmF0aW9uIG9mIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZS4gIFBsZWFzZSBzcGVjaWZ5IG9ubHkgb25lIHNldCBvZiBkaW1lbnNpb25zIGluIGEgZm9ybWF0IGxpa2U6IFtbNjQwLCA0ODBdXS4gUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9cmV0dXJuIHR9ZnVuY3Rpb24gSyhlKXt2YXIgdD1PLmRlZXBDbG9uZShlKSxuPXQubWVkaWFUeXBlcy5uYXRpdmU7cmV0dXJuIG4uaW1hZ2UmJm4uaW1hZ2Uuc2l6ZXMmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2Uuc2l6ZXMpJiYoTy5sb2dFcnJvcigiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLG4uaW1hZ2UmJm4uaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5hc3BlY3RfcmF0aW9zKSxuLmljb24mJm4uaWNvbi5zaXplcyYmIUFycmF5LmlzQXJyYXkobi5pY29uLnNpemVzKSYmKE8ubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pY29uLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgdC5tZWRpYVR5cGVzLm5hdGl2ZS5pY29uLnNpemVzKSx0fWZ1bmN0aW9uIEooZSx0KXt2YXIgbj1PLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh0LCIucG9zIikpO2lmKCFufHwhTy5pc051bWJlcihuKXx8IWlzRmluaXRlKG4pKXt2YXIgcj0iVmFsdWUgb2YgcHJvcGVydHkgJ3Bvcycgb24gYWQgdW5pdCAiLmNvbmNhdChlLmNvZGUsIiBzaG91bGQgYmUgb2YgdHlwZTogTnVtYmVyIik7Ty5sb2dXYXJuKHIpLHcuZW1pdChULkVWRU5UUy5BVUNUSU9OX0RFQlVHLHt0eXBlOiJXQVJOSU5HIixhcmd1bWVudHM6cn0pLGRlbGV0ZSBlLm1lZGlhVHlwZXNbdF0ucG9zfXJldHVybiBlfU9iamVjdChmLmEpKCksQS5iaWRkZXJTZXR0aW5ncz1BLmJpZGRlclNldHRpbmdzfHx7fSxBLmxpYkxvYWRlZD0hMCxBLnZlcnNpb249InY1LjExLjAiLE8ubG9nSW5mbygiUHJlYmlkLmpzIHY1LjExLjAgbG9hZGVkIiksQS5pbnN0YWxsZWRNb2R1bGVzPVsiY29uc2VudE1hbmFnZW1lbnQiLCJjb25zZW50TWFuYWdlbWVudFVzcCIsIjMzYWNyb3NzQmlkQWRhcHRlciIsImFtYXpvbkJpZEFkYXB0ZXIiLCJhZGZCaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwidW5kZXJkb2dtZWRpYUJpZEFkYXB0ZXIiLCJwdWJtYXRpY0JpZEFkYXB0ZXIiLCJwdWxzZXBvaW50QmlkQWRhcHRlciIsInJ1Ymljb25CaWRBZGFwdGVyIiwic29ub2JpQmlkQWRhcHRlciIsInNvdnJuQmlkQWRhcHRlciIsInNoYXJldGhyb3VnaEJpZEFkYXB0ZXIiLCJkaXN0cmljdG1ETVhCaWRBZGFwdGVyIiwibG9ja2VyZG9tZUJpZEFkYXB0ZXIiLCJyaHl0aG1vbmVCaWRBZGFwdGVyIiwiY3VycmVuY3kiLCJzY2hhaW4iLCJ1c2VySWQiLCJwdWJQcm92aWRlZElkU3lzdGVtIiwieWllbGRsYWJCaWRBZGFwdGVyIiwicHVic3RhY2tBbmFseXRpY3NBZGFwdGVyIiwibXVsdGliaWQiLCJub2JpZEJpZEFkYXB0ZXIiLCJzb3J0YWJsZUJpZEFkYXB0ZXIiLCJwcmViaWRTZXJ2ZXJCaWRBZGFwdGVyIiwiYnJpZ2h0Y29tQmlkQWRhcHRlciIsInRydXN0eEJpZEFkYXB0ZXIiXSxBLmFkVW5pdHM9QS5hZFVuaXRzfHxbXSxBLnNldENvb2tpZUZyYW1lPWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0Q29va2llRnJhbWUiLGFyZ3VtZW50cyksaC5kKGUpfSxBLm9uQmVmb3JlUmVxdWVzdD1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uQmVmb3JlUmVxdWVzdCIsYXJndW1lbnRzKSxoLmIoZSl9LEEudHJpZ2dlclVzZXJTeW5jcz1DO3ZhciBZPXt2YWxpZGF0ZUJhbm5lck1lZGlhVHlwZTpWLHZhbGlkYXRlVmlkZW9NZWRpYVR5cGU6SCx2YWxpZGF0ZU5hdGl2ZU1lZGlhVHlwZTpLLHZhbGlkYXRlU2l6ZXM6en0sUT1PYmplY3QoZC5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuLHIsaSxvPWUubWVkaWFUeXBlcyxhPWUuYmlkcztpZihhJiZPLmlzQXJyYXkoYSkpaWYobyYmMCE9PU9iamVjdC5rZXlzKG8pLmxlbmd0aCl7by5iYW5uZXImJihuPVYoZSksby5iYW5uZXIuaGFzT3duUHJvcGVydHkoInBvcyIpJiYobj1KKG4sImJhbm5lciIpKSksby52aWRlbyYmKHI9SChufHxlKSxvLnZpZGVvLmhhc093blByb3BlcnR5KCJwb3MiKSYmKHI9SihyLCJ2aWRlbyIpKSksby5uYXRpdmUmJihpPUsocnx8KG58fGUpKSk7dmFyIGM9RSh7fSxuLHIsaSk7dC5wdXNoKGMpfWVsc2UgTy5sb2dFcnJvcigiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgYSAnbWVkaWFUeXBlcycgb2JqZWN0IGRlZmluZWQuICBUaGlzIGlzIGEgcmVxdWlyZWQgZmllbGQgZm9yIHRoZSBhdWN0aW9uLCBzbyB0aGlzIGFkVW5pdCBoYXMgYmVlbiByZW1vdmVkLiIpKTtlbHNlIE8ubG9nRXJyb3IoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlICdhZFVuaXQuYmlkcycgZGVmaW5lZCBvciAnYWRVbml0LmJpZHMnIGlzIG5vdCBhbiBhcnJheS4gUmVtb3ZpbmcgYWRVbml0IGZyb20gYXVjdGlvbi4iKSl9KSksdH0pLCJjaGVja0FkVW5pdFNldHVwIik7ZnVuY3Rpb24gJChlKXt2YXIgdD11LmFbZV0oKS5maWx0ZXIoTy5iaW5kLmNhbGwoaS5hZFVuaXRzRmlsdGVyLHRoaXMsdS5hLmdldEFkVW5pdENvZGVzKCkpKSxuPXUuYS5nZXRMYXN0QXVjdGlvbklkKCk7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpLmZpbHRlcihpLnVuaXF1ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdWN0aW9uSWQ9PT1uJiZ0LmFkVW5pdENvZGU9PT1lfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbMF0mJmVbMF0uYWRVbml0Q29kZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0PXt9LG49ZVswXS5hZFVuaXRDb2RlLHI9e2JpZHM6ZX0sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdDt2YXIgdCxuLHJ9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBFKGUsdCl9KSx7fSl9ZnVuY3Rpb24gWChlKXt2YXIgdD1lLnJlYXNvbixuPWUubWVzc2FnZSxyPWUuYmlkLGk9ZS5pZCxvPXtyZWFzb246dCxtZXNzYWdlOm59O3ImJihvLmJpZD1yKSxpJiYoby5hZElkPWkpLE8ubG9nRXJyb3Iobiksdy5lbWl0KHgsbyl9ZnVuY3Rpb24gWihlKXt2YXIgdD1lLmRvYyxuPWUuYmlkLHI9ZS5pZCxpPXtkb2M6dH07biYmKGkuYmlkPW4pLHImJihpLmFkSWQ9ciksdy5lbWl0KEQsaSl9ZnVuY3Rpb24gZWUoZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfW4oeS5jKSxuKHRlKSxlLmNhbGwodGhpcyx0KX1BLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0cj1mdW5jdGlvbihlKXtpZihPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciIsYXJndW1lbnRzKSxlKXt2YXIgdD1BLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZShlKTtyZXR1cm4gTy50cmFuc2Zvcm1BZFNlcnZlclRhcmdldGluZ09iaih0KX1PLmxvZ01lc3NhZ2UoIk5lZWQgdG8gY2FsbCBnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIgd2l0aCBhZHVuaXRDb2RlIil9LEEuZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD11LmEuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGUoZSkuZmlsdGVyKHMuYS5pc1VudXNlZEJpZCkuZmlsdGVyKHMuYS5pc0JpZE5vdEV4cGlyZWQpO3JldHVybiB0Lmxlbmd0aD90LnJlZHVjZShpLmdldEhpZ2hlc3RDcG0pOnt9fU8ubG9nTWVzc2FnZSgiTmVlZCB0byBjYWxsIGdldEhpZ2hlc3RVbnVzZWRCaWRSZXNwb25zZUZvckFkVW5pdENvZGUgd2l0aCBhZHVuaXRDb2RlIil9LEEuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBBLmdldEFkc2VydmVyVGFyZ2V0aW5nKGUpW2VdfSxBLmdldEFkc2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmciLGFyZ3VtZW50cykscy5kLmdldEFsbFRhcmdldGluZyhlLHQpfSxBLmdldE5vQmlkcz1mdW5jdGlvbigpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldE5vQmlkcyIsYXJndW1lbnRzKSwkKCJnZXROb0JpZHMiKX0sQS5nZXROb0JpZHNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXROb0JpZHMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sQS5nZXRCaWRSZXNwb25zZXM9ZnVuY3Rpb24oKXtyZXR1cm4gTy5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRCaWRSZXNwb25zZXMiLGFyZ3VtZW50cyksJCgiZ2V0Qmlkc1JlY2VpdmVkIil9LEEuZ2V0QmlkUmVzcG9uc2VzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm57Ymlkczp1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKX19LEEuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oZSx0KXtpZihPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckdQVEFzeW5jIixhcmd1bWVudHMpLE9iamVjdChpLmlzR3B0UHViYWRzRGVmaW5lZCkoKSl7dmFyIG49cy5kLmdldEFsbFRhcmdldGluZyhlKTtzLmQucmVzZXRQcmVzZXRUYXJnZXRpbmcoZSx0KSxzLmQuc2V0VGFyZ2V0aW5nRm9yR1BUKG4sdCksT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMobltlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ImhiX2FkaWQiPT09dCYmdS5hLnNldFN0YXR1c0ZvckJpZHMobltlXVt0XSxULkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVQpfSkpfSkpLHcuZW1pdChVLG4pfWVsc2UgTy5sb2dFcnJvcigid2luZG93Lmdvb2dsZXRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxBLnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckFuIixhcmd1bWVudHMpLHMuZC5pc0FwbnRhZ0RlZmluZWQoKT8ocy5kLnNldFRhcmdldGluZ0ZvckFzdChlKSx3LmVtaXQoVSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKCkpKTpPLmxvZ0Vycm9yKCJ3aW5kb3cuYXBudGFnIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBwYWdlIil9LEEucmVuZGVyQWQ9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0LG4pe2lmKE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVuZGVyQWQiLGFyZ3VtZW50cyksTy5sb2dNZXNzYWdlKCJDYWxsaW5nIHJlbmRlckFkIHdpdGggYWRJZCA6Iit0KSxlJiZ0KXRyeXt2YXIgcj11LmEuZmluZEJpZEJ5QWRJZCh0KTtpZihyKXt2YXIgaT0hMDtpZihyJiZyLnN0YXR1cz09PVQuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE8ubG9nV2FybigiQWQgaWQgIi5jb25jYXQoci5hZElkLCIgaGFzIGJlZW4gcmVuZGVyZWQgYmVmb3JlIikpLHcuZW1pdChOLHIpLE8uZGVlcEFjY2VzcyhjLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikmJihpPSExKSksaSl7aWYoci5hZD1PLnJlcGxhY2VBdWN0aW9uUHJpY2Uoci5hZCxyLmNwbSksci5hZFVybD1PLnJlcGxhY2VBdWN0aW9uUHJpY2Uoci5hZFVybCxyLmNwbSksbiYmbi5jbGlja1Rocm91Z2gpe3ZhciBvPW4uY2xpY2tUaHJvdWdoO3IuYWQ9Ty5yZXBsYWNlQ2xpY2tUaHJvdWdoKHIuYWQsbyksci5hZFVybD1PLnJlcGxhY2VDbGlja1Rocm91Z2goci5hZFVybCxvKX11LmEuYWRkV2lubmluZ0JpZChyKSx3LmVtaXQoUixyKTt2YXIgYT1yLmhlaWdodCxzPXIud2lkdGgsZD1yLmFkLGY9ci5tZWRpYVR5cGUsbD1yLmFkVXJsLHA9ci5yZW5kZXJlcixnPWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIkNyZWF0aXZlICIuY29uY2F0KHIuY3JlYXRpdmVJZCwiIHNlcnZlZCBieSAiKS5jb25jYXQoci5iaWRkZXIsIiBQcmViaWQuanMgSGVhZGVyIEJpZGRpbmciKSk7aWYoT2JqZWN0KGIuYykocCkpT2JqZWN0KGIuYikocCxyKSxPLmluc2VydEVsZW1lbnQoZyxlLCJodG1sIiksWih7ZG9jOmUsYmlkOnIsaWQ6dH0pO2Vsc2UgaWYoZT09PWRvY3VtZW50JiYhTy5pbklmcmFtZSgpfHwidmlkZW8iPT09Zil7dmFyIHY9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQWQgcmVuZGVyIGNhbGwgYWQgaWQgIi5jb25jYXQodCwiIHdhcyBwcmV2ZW50ZWQgZnJvbSB3cml0aW5nIHRvIHRoZSBtYWluIGRvY3VtZW50LiIpO1goe3JlYXNvbjpQLG1lc3NhZ2U6dixiaWQ6cixpZDp0fSl9ZWxzZSBpZihkKXtpZihuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveC8iKT4tMSl7dmFyIHk9L2ZpcmVmb3hcLyhbXGRcLl0rKS8saD1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goeSlbMV07aCYmcGFyc2VJbnQoaCwxMCk8NjcmJmUub3BlbigidGV4dC9odG1sIiwicmVwbGFjZSIpfWUud3JpdGUoZCksZS5jbG9zZSgpLEYoZSxzLGEpLE8uaW5zZXJ0RWxlbWVudChnLGUsImh0bWwiKSxPLmNhbGxCdXJsKHIpLFooe2RvYzplLGJpZDpyLGlkOnR9KX1lbHNlIGlmKGwpe3ZhciBtPU8uY3JlYXRlSW52aXNpYmxlSWZyYW1lKCk7bS5oZWlnaHQ9YSxtLndpZHRoPXMsbS5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLG0uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsbS5zcmM9bCxPLmluc2VydEVsZW1lbnQobSxlLCJib2R5IiksRihlLHMsYSksTy5pbnNlcnRFbGVtZW50KGcsZSwiaHRtbCIpLE8uY2FsbEJ1cmwociksWih7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2V7dmFyIFM9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gTm8gYWQgZm9yIGJpZCByZXNwb25zZSBpZDogIi5jb25jYXQodCk7WCh7cmVhc29uOnEsbWVzc2FnZTpTLGJpZDpyLGlkOnR9KX19fWVsc2V7dmFyIEU9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQ2Fubm90IGZpbmQgYWQgYnkgZ2l2ZW4gaWQgOiAiLmNvbmNhdCh0KTtYKHtyZWFzb246RyxtZXNzYWdlOkUsaWQ6dH0pfX1jYXRjaChlKXt2YXIgQT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2U6IikuY29uY2F0KGUubWVzc2FnZSk7WCh7cmVhc29uOk0sbWVzc2FnZTpBLGlkOnR9KX1lbHNle3ZhciBJPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZS4gTWlzc2luZyBkb2N1bWVudCBvciBhZElkIik7WCh7cmVhc29uOlcsbWVzc2FnZTpJLGlkOnR9KX19KSksQS5yZW1vdmVBZFVuaXQ9ZnVuY3Rpb24oZSl7KE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVtb3ZlQWRVbml0Iixhcmd1bWVudHMpLGUpPyhPLmlzQXJyYXkoZSk/ZTpbZV0pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1BLmFkVW5pdHMubGVuZ3RoLTE7dD49MDt0LS0pQS5hZFVuaXRzW3RdLmNvZGU9PT1lJiZBLmFkVW5pdHMuc3BsaWNlKHQsMSl9KSk6QS5hZFVuaXRzPVtdfSxBLnJlcXVlc3RCaWRzPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5iaWRzQmFja0hhbmRsZXIsbj1lLnRpbWVvdXQscj1lLmFkVW5pdHMsaT1lLmFkVW5pdENvZGVzLG89ZS5sYWJlbHMsYT1lLmF1Y3Rpb25JZDt3LmVtaXQoQik7dmFyIGQ9bnx8Yy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpO3I9ciYmYy5iLmNvbnZlcnRBZFVuaXRGcGQoTy5pc0FycmF5KHIpP3I6W3JdKXx8QS5hZFVuaXRzLE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVxdWVzdEJpZHMiLGFyZ3VtZW50cyk7dmFyIGY9ci5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gTy5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpfSkpLGw9W10sYj1jLmIuZ2V0Q29uZmlnKCJzMnNDb25maWciKTtiJiYobD1BcnJheS5pc0FycmF5KGIpP2I6W2JdKTt2YXIgdj1bXTtpZihsLmZvckVhY2goKGZ1bmN0aW9uKGUpe2YmJmUuYmlkZGVycy5wdXNoKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIpLHYucHVzaC5hcHBseSh2LG0oZS5iaWRkZXJzKSl9KSkscj1RKHIpLGkmJmkubGVuZ3RoP3I9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoaSxlLmNvZGUpfSkpOmk9ciYmci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGV9KSksci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHtiYW5uZXI6ImJhbm5lciJ9KTshZS5iaWRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlcn0pKSYmdi5pbmNsdWRlcygiczJzQmlkZGVyUGxhY2Vob2xkZXIiKSYmTy5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpJiZlLmJpZHMucHVzaCh7YmlkZGVyOiJzMnNCaWRkZXJQbGFjZWhvbGRlciJ9KTt2YXIgbj1lLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSkscj1JLmJpZGRlclJlZ2lzdHJ5LGk9dj9uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXAoKSh2LGUpfSkpOm47ZS50cmFuc2FjdGlvbklkPU8uZ2VuZXJhdGVVVUlEKCksaS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1yW25dLG89aSYmaS5nZXRTcGVjJiZpLmdldFNwZWMoKSxhPW8mJm8uc3VwcG9ydGVkTWVkaWFUeXBlc3x8WyJiYW5uZXIiXTt0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoYSxlKX0pKT9nLmEuaW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyKGUuY29kZSxuKTooTy5sb2dXYXJuKE8udW5zdXBwb3J0ZWRCaWRkZXJNZXNzYWdlKGUsbikpLGUuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXIhPT1ufSkpKX0pKSxnLmEuaW5jcmVtZW50UmVxdWVzdHNDb3VudGVyKGUuY29kZSl9KSksciYmMCE9PXIubGVuZ3RoKXt2YXIgeT11LmEuY3JlYXRlQXVjdGlvbih7YWRVbml0czpyLGFkVW5pdENvZGVzOmksY2FsbGJhY2s6dCxjYlRpbWVvdXQ6ZCxsYWJlbHM6byxhdWN0aW9uSWQ6YX0pLGg9ci5sZW5ndGg7aD4xNSYmTy5sb2dJbmZvKCJDdXJyZW50IGF1Y3Rpb24gIi5jb25jYXQoeS5nZXRBdWN0aW9uSWQoKSwiIGNvbnRhaW5zICIpLmNvbmNhdChoLCIgYWRVbml0cy4iKSxyKSxpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBzLmQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdChlLHkuZ2V0QXVjdGlvbklkKCkpfSkpLHkuY2FsbEJpZHMoKX1lbHNlIGlmKE8ubG9nTWVzc2FnZSgiTm8gYWRVbml0cyBjb25maWd1cmVkLiBObyBiaWRzIHJlcXVlc3RlZC4iKSwiZnVuY3Rpb24iPT10eXBlb2YgdCl0cnl7dCgpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9fSkpLEEucmVxdWVzdEJpZHMuYmVmb3JlKGVlLDQ5KSxBLmFkZEFkVW5pdHM9ZnVuY3Rpb24oZSl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5hZGRBZFVuaXRzIixhcmd1bWVudHMpLEEuYWRVbml0cy5wdXNoLmFwcGx5KEEuYWRVbml0cyxjLmIuY29udmVydEFkVW5pdEZwZChPLmlzQXJyYXkoZSk/ZTpbZV0pKSx3LmVtaXQoXyl9LEEub25FdmVudD1mdW5jdGlvbihlLHQsbil7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5vbkV2ZW50Iixhcmd1bWVudHMpLE8uaXNGbih0KT8hbnx8TFtlXS5jYWxsKG51bGwsbik/dy5vbihlLHQsbik6Ty5sb2dFcnJvcignVGhlIGlkIHByb3ZpZGVkIGlzIG5vdCB2YWxpZCBmb3IgZXZlbnQgIicrZSsnIiBhbmQgbm8gaGFuZGxlciB3YXMgc2V0LicpOk8ubG9nRXJyb3IoJ1RoZSBldmVudCBoYW5kbGVyIHByb3ZpZGVkIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3YXMgbm90IHNldCBvbiBldmVudCAiJytlKyciLicpfSxBLm9mZkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9mZkV2ZW50Iixhcmd1bWVudHMpLG4mJiFMW2VdLmNhbGwobnVsbCxuKXx8dy5vZmYoZSx0LG4pfSxBLmdldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEV2ZW50cyIpLHcuZ2V0RXZlbnRzKCl9LEEucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7Ty5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0kucmVnaXN0ZXJCaWRBZGFwdGVyKGUoKSx0KX1jYXRjaChlKXtPLmxvZ0Vycm9yKCJFcnJvciByZWdpc3RlcmluZyBiaWRkZXIgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LEEucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe08ubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyIixhcmd1bWVudHMpO3RyeXtJLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcihlKX1jYXRjaChlKXtPLmxvZ0Vycm9yKCJFcnJvciByZWdpc3RlcmluZyBhbmFseXRpY3MgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LEEuY3JlYXRlQmlkPWZ1bmN0aW9uKGUpe3JldHVybiBPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmNyZWF0ZUJpZCIsYXJndW1lbnRzKSxPYmplY3Qodi5hKShlKX07dmFyIHRlPVtdLG5lPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUpe2UmJiFPLmlzRW1wdHkoZSk/KE8ubG9nSW5mbygiSW52b2tpbmcgdXBianMuZW5hYmxlQW5hbHl0aWNzIGZvcjogIixlKSxJLmVuYWJsZUFuYWx5dGljcyhlKSk6Ty5sb2dFcnJvcigidXBianMuZW5hYmxlQW5hbHl0aWNzIHNob3VsZCBiZSBjYWxsZWQgd2l0aCBvcHRpb24ge30iKX0pLCJlbmFibGVBbmFseXRpY3NDYiIpO2Z1bmN0aW9uIHJlKGUpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYodm9pZCAwPT09ZS5jYWxsZWQpdHJ5e2UuY2FsbCgpLGUuY2FsbGVkPSEwfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IiwicHJlYmlkLmpzIixlKX19KSl9QS5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7dGUucHVzaChuZS5iaW5kKHRoaXMsZSkpfSxBLmFsaWFzQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXtPLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFsaWFzQmlkZGVyIixhcmd1bWVudHMpLGUmJnQ/SS5hbGlhc0JpZEFkYXB0ZXIoZSx0LG4pOk8ubG9nRXJyb3IoImJpZGRlckNvZGUgYW5kIGFsaWFzIG11c3QgYmUgcGFzc2VkIGFzIGFyZ3VtZW50cyIsInVwYmpzLmFsaWFzQmlkZGVyIil9LEEuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hLmdldEFsbFdpbm5pbmdCaWRzKCl9LEEuZ2V0QWxsUHJlYmlkV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdHVzPT09VC5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUfSkpfSxBLmdldEhpZ2hlc3RDcG1CaWRzPWZ1bmN0aW9uKGUpe3JldHVybiBzLmQuZ2V0V2lubmluZ0JpZHMoZSl9LEEubWFya1dpbm5pbmdCaWRBc1VzZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107ZS5hZFVuaXRDb2RlJiZlLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkJiZ0LmFkVW5pdENvZGU9PT1lLmFkVW5pdENvZGV9KSk6ZS5hZFVuaXRDb2RlP3Q9cy5kLmdldFdpbm5pbmdCaWRzKGUuYWRVbml0Q29kZSk6ZS5hZElkP3Q9dS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRJZD09PWUuYWRJZH0pKTpPLmxvZ1dhcm4oIkltcHJvcGVyIHVzZSBvZiBtYXJrV2lubmluZ0JpZEFzVXNlZC4gSXQgbmVlZHMgYW4gYWRVbml0Q29kZSBvciBhbiBhZElkIHRvIGZ1bmN0aW9uLiIpLHQubGVuZ3RoPjAmJih0WzBdLnN0YXR1cz1ULkJJRF9TVEFUVVMuUkVOREVSRUQpfSxBLmdldENvbmZpZz1jLmIuZ2V0Q29uZmlnLEEuc2V0Q29uZmlnPWMuYi5zZXRDb25maWcsQS5zZXRCaWRkZXJDb25maWc9Yy5iLnNldEJpZGRlckNvbmZpZyxBLnF1ZS5wdXNoKChmdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5hKSgpfSkpLEEuY21kLnB1c2g9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpdHJ5e2UuY2FsbCgpfWNhdGNoKGUpe08ubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IixlLm1lc3NhZ2UsZS5zdGFjayl9ZWxzZSBPLmxvZ0Vycm9yKCJDb21tYW5kcyB3cml0dGVuIGludG8gdXBianMuY21kLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sQS5xdWUucHVzaD1BLmNtZC5wdXNoLEEucHJvY2Vzc1F1ZXVlPWZ1bmN0aW9uKCl7ZC5iLnJlYWR5KCkscmUoQS5xdWUpLHJlKEEuY21kKX0sdC5kZWZhdWx0PUF9LDc2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM0Nyk7ZS5leHBvcnRzPXJ9LDc3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2NhbGxCaWRzOmZ1bmN0aW9uKCl7fSxzZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKGUpe3Q9ZX0sZ2V0QmlkZGVyQ29kZTpmdW5jdGlvbigpe3JldHVybiB0fX19fSw3ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT1uKDQ2KSxvPSIiLnNwbGl0O2UuZXhwb3J0cz1yKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09aShlKT9vLmNhbGwoZSwiIik6T2JqZWN0KGUpfTpPYmplY3R9LDc5OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMjkpLG89big4MCk7ZS5leHBvcnRzPSFyJiYhaSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8oImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiZ2RwckRhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJjb3BwYURhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQodCwiY2xpZW50VGVzdEFkYXB0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4gRH0pKSxuLmQodCwiYWxsUzJTQmlkZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksdC5nZXRBbGxTMlNCaWRkZXJzPWssdC5zZXRTMlNUZXN0aW5nTW9kdWxlPWZ1bmN0aW9uKGUpe0U9ZX07dmFyIHI9bigwKSxpPW4oOTcpLG89bigzNiksYT1uKDEpLGM9big0KSx1PW4oMykscz1uKDEwKSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCksZz1uKDY5KSxiPW4oMjApO2Z1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxoKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBtKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBoKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/bShlLHQpOnZvaWQgMH19ZnVuY3Rpb24gbShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIFMoKXtyZXR1cm4oUz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBFLEE9bigwKSxUPW4oNSksTz1uKDkpLEk9e30sdz1JLmJpZGRlclJlZ2lzdHJ5PXt9LEM9SS5hbGlhc1JlZ2lzdHJ5PXt9LGo9W107dS5iLmdldENvbmZpZygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7ZSYmZS5zMnNDb25maWcmJihqPUFycmF5LmlzQXJyYXkoZS5zMnNDb25maWcpP2UuczJzQ29uZmlnOltlLnMyc0NvbmZpZ10pfSkpO3ZhciBfPXt9O3ZhciBSPU9iamVjdChzLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRkZXJDb2RlLG49ZS5hdWN0aW9uSWQsYT1lLmJpZGRlclJlcXVlc3RJZCxjPWUuYWRVbml0cyx1PWUubGFiZWxzLHM9ZS5zcmM7cmV0dXJuIGMucmVkdWNlKChmdW5jdGlvbihlLGMpe3ZhciBkPU9iamVjdChpLmIpKE9iamVjdChpLmEpKGMsdSksYy5tZWRpYVR5cGVzLGMuc2l6ZXMpLGY9ZC5hY3RpdmUsbD1kLm1lZGlhVHlwZXMscD1kLmZpbHRlclJlc3VsdHM7cmV0dXJuIGY/cCYmQS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJykscC5iZWZvcmUsInRvICIscC5hZnRlcik6QS5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZGlzYWJsZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyInKSksZiYmZS5wdXNoKGMuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXR9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBkPWMubmF0aXZlUGFyYW1zfHxBLmRlZXBBY2Nlc3MoYywibWVkaWFUeXBlcy5uYXRpdmUiKTtkJiYodD1TKHt9LHQse25hdGl2ZVBhcmFtczpPYmplY3Qoby5oKShkKX0pKSx0PVMoe30sdCxPYmplY3Qoci5nZXREZWZpbmVkUGFyYW1zKShjLFsib3J0YjJJbXAiLCJtZWRpYVR5cGUiLCJyZW5kZXJlciIsInN0b3JlZEF1Y3Rpb25SZXNwb25zZSJdKSk7dmFyIGY9T2JqZWN0KGkuYikoT2JqZWN0KGkuYSkodCx1KSxsKSxwPWYuYWN0aXZlLGI9Zi5tZWRpYVR5cGVzLHY9Zi5maWx0ZXJSZXN1bHRzO3JldHVybiBwP3YmJkEubG9nSW5mbygnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHYuYmVmb3JlLCJ0byAiLHYuYWZ0ZXIpOkEubG9nSW5mbygnU2l6ZSBtYXBwaW5nIGRlYWN0aXZhdGVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciJykpLEEuaXNWYWxpZE1lZGlhVHlwZXMoYik/dD1TKHt9LHQse21lZGlhVHlwZXM6Yn0pOkEubG9nRXJyb3IoIm1lZGlhVHlwZXMgaXMgbm90IGNvcnJlY3RseSBjb25maWd1cmVkIGZvciBhZHVuaXQgIi5jb25jYXQoYy5jb2RlKSkscCYmZS5wdXNoKFMoe30sdCx7YWRVbml0Q29kZTpjLmNvZGUsdHJhbnNhY3Rpb25JZDpjLnRyYW5zYWN0aW9uSWQsc2l6ZXM6QS5kZWVwQWNjZXNzKGIsImJhbm5lci5zaXplcyIpfHxBLmRlZXBBY2Nlc3MoYiwidmlkZW8ucGxheWVyU2l6ZSIpfHxbXSxiaWRJZDp0LmJpZF9pZHx8QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYmlkZGVyUmVxdWVzdElkOmEsYXVjdGlvbklkOm4sc3JjOnMsYmlkUmVxdWVzdHNDb3VudDpnLmEuZ2V0UmVxdWVzdHNDb3VudGVyKGMuY29kZSksYmlkZGVyUmVxdWVzdHNDb3VudDpnLmEuZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyKGMuY29kZSx0LmJpZGRlciksYmlkZGVyV2luc0NvdW50OmcuYS5nZXRCaWRkZXJXaW5zQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpfSkpLGV9KSxbXSkpLGV9KSxbXSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KSl9KSwiZ2V0QmlkcyIpO3ZhciBCPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe0IuY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gQi5jb25zZW50RGF0YX19LFU9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7VS5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBVLmNvbnNlbnREYXRhfX0seD17Z2V0Q29wcGE6ZnVuY3Rpb24oKXtyZXR1cm4hIXUuYi5nZXRDb25maWcoImNvcHBhIil9fSxEPVtdLE49W107ZnVuY3Rpb24gaygpe0kuczJTVGVzdGluZ0VuYWJsZWQ9ITEsai5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLmVuYWJsZWQmJmUuYmlkZGVycyYmZS5iaWRkZXJzLmxlbmd0aCYmTi5wdXNoLmFwcGx5KE4seShlLmJpZGRlcnMpKX0pKX1mdW5jdGlvbiBQKGUpe3JldHVybiBlJiZlLmVuYWJsZWQmJmUudGVzdGluZyYmRX1mdW5jdGlvbiBxKGUsdCxuKXt0cnl7dmFyIGk9d1tlXS5nZXRTcGVjKCk7aSYmaVt0XSYmImZ1bmN0aW9uIj09dHlwZW9mIGlbdF0mJihBLmxvZ0luZm8oIkludm9raW5nICIuY29uY2F0KGUsIi4iKS5jb25jYXQodCkpLHUuYi5ydW5XaXRoQmlkZGVyKGUsci5iaW5kLmNhbGwoaVt0XSxpLG4pKSl9Y2F0Y2gobil7QS5sb2dXYXJuKCJFcnJvciBjYWxsaW5nICIuY29uY2F0KHQsIiBvZiAiKS5jb25jYXQoZSkpfX1JLm1ha2VCaWRSZXF1ZXN0cz1PYmplY3Qocy5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCxuLGksbyl7Ty5lbWl0KFQuRVZFTlRTLkJFRk9SRV9SRVFVRVNUX0JJRFMsZSk7dmFyIGE9T2JqZWN0KHIuZ2V0QmlkZGVyQ29kZXMpKGUpO3UuYi5nZXRDb25maWcoImJpZGRlclNlcXVlbmNlIik9PT11LmEmJihhPU9iamVjdChyLnNodWZmbGUpKGEpKTt2YXIgYz1PYmplY3QoYi5hKSgpLHM9YSxkPVtdOzA9PT1OLmxlbmd0aCYmaygpLGouZm9yRWFjaCgoZnVuY3Rpb24odCl7dCYmdC5lbmFibGVkJiYoUCh0KSYmKEUuY2FsY3VsYXRlQmlkU291cmNlcyh0KSxFLmdldFNvdXJjZUJpZGRlck1hcChlLE4pW0UuQ0xJRU5UXS5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkoRCxlKXx8RC5wdXNoKGUpfSkpKSl9KSkscz1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWYoKShOLGUpfHxmKCkoRCxlKX0pKTt2YXIgbD1OO2ouZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYociYmci5lbmFibGVkKXsoZnVuY3Rpb24oZSl7cmV0dXJuIEJvb2xlYW4oUChlKSYmZS50ZXN0U2VydmVyT25seSl9KShyKSYmZnVuY3Rpb24oZSx0KXtyZXR1cm4gQm9vbGVhbihwKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShlLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybihlLmJpZFNvdXJjZXx8dC5iaWRkZXJDb250cm9sJiZ0LmJpZGRlckNvbnRyb2xbZS5iaWRkZXJdKSYmZS5maW5hbFNvdXJjZT09PUUuU0VSVkVSfSkpfSkpKX0oZSxyKSYmKEEubG9nV2FybigidGVzdFNlcnZlck9ubHk6IFRydWUuICBBbGwgY2xpZW50IHJlcXVlc3RzIHdpbGwgYmUgc3VwcHJlc3NlZC4iKSxzLmxlbmd0aD0wKTt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkZGVycyxyPUEuZGVlcENsb25lKGUpO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5iaWRkZXIpJiYoIVAodCl8fGUuZmluYWxTb3VyY2UhPT1FLkNMSUVOVCl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRfaWQ9QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksZX0pKX0pKSxyLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmJpZHMubGVuZ3RofSkpfShlLHIpLGE9QS5nZW5lcmF0ZVVVSUQoKTtsLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB1PUEuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHM9e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6dSx0aWQ6YSxiaWRzOlIoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6bixiaWRkZXJSZXF1ZXN0SWQ6dSxhZFVuaXRzOkEuZGVlcENsb25lKGkpLGxhYmVsczpvLHNyYzpULlMyUy5TUkN9KSxhdWN0aW9uU3RhcnQ6dCx0aW1lb3V0OnIudGltZW91dCxzcmM6VC5TMlMuU1JDLHJlZmVyZXJJbmZvOmN9OzAhPT1zLmJpZHMubGVuZ3RoJiZkLnB1c2gocyl9KSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKGQsKGZ1bmN0aW9uKHQpe3JldHVybiBwKCkodC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRJZD09PWUuYmlkX2lkfSkpfSkpfSkpO2UuYmlkcz10fSkpLGQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwPT09ZS5hZFVuaXRzUzJTQ29weSYmKGUuYWRVbml0c1MyU0NvcHk9aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubGVuZ3RoPjB9KSkpfSkpfX0pKTt2YXIgZz1mdW5jdGlvbihlKXt2YXIgdD1BLmRlZXBDbG9uZShlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIUQubGVuZ3RofHxlLmZpbmFsU291cmNlIT09RS5TRVJWRVJ9KSl9KSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSk7cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9QS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksYT17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpyLGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpyLGFkVW5pdHM6QS5kZWVwQ2xvbmUoZyksbGFiZWxzOm8sc3JjOiJjbGllbnQifSksYXVjdGlvblN0YXJ0OnQsdGltZW91dDppLHJlZmVyZXJJbmZvOmN9LHU9d1tlXTt1fHxBLmxvZ0Vycm9yKCJUcnlpbmcgdG8gbWFrZSBhIHJlcXVlc3QgZm9yIGJpZGRlciB0aGF0IGRvZXMgbm90IGV4aXN0OiAiLmNvbmNhdChlKSksdSYmYS5iaWRzJiYwIT09YS5iaWRzLmxlbmd0aCYmZC5wdXNoKGEpfSkpLEIuZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmdkcHJDb25zZW50PUIuZ2V0Q29uc2VudERhdGEoKX0pKSxVLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PVUuZ2V0Q29uc2VudERhdGEoKX0pKSxkfSksIm1ha2VCaWRSZXF1ZXN0cyIpLEkuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LG4saSxvLGEscyl7aWYodC5sZW5ndGgpe3ZhciBkPXYodC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbTnVtYmVyKHZvaWQgMCE9PXQuc3JjJiZ0LnNyYz09PVQuUzJTLlNSQyldLnB1c2godCksZX0pLFtbXSxbXV0pLDIpLGw9ZFswXSxwPWRbMV0sZz1bXTtwLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxuPTA7bjxnLmxlbmd0aDsrK24paWYoZS50aWQ9PT1nW25dLnRpZCl7dD1uO2JyZWFrfXQ8PS0xJiZnLnB1c2goZSl9KSk7dmFyIGI9MDtqLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUmJmdbYl0mJmYoKShlLmJpZGRlcnMsZ1tiXS5iaWRkZXJDb2RlKSl7dmFyIHQ9T2JqZWN0KGMuYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsInMycyIpLGRvbmU6by5kb25lfTp2b2lkIDApLHU9ZS5iaWRkZXJzLHM9d1tlLmFkYXB0ZXJdLGQ9Z1tiXS50aWQsbD1nW2JdLmFkVW5pdHNTMlNDb3B5LHY9cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpZD09PWR9KSk7aWYocyl7dmFyIHk9e3RpZDpkLGFkX3VuaXRzOmwsczJzQ29uZmlnOmV9O2lmKHkuYWRfdW5pdHMubGVuZ3RoKXt2YXIgaD12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpLGkuYmluZChlKX0pKSxtPXkuYWRfdW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJpZGRlcil9KSxbXSkpfSksW10pO0EubG9nTWVzc2FnZSgiQ0FMTElORyBTMlMgSEVBREVSIEJJRERFUlMgPT09PSAiLmNvbmNhdCh1LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGYoKShtLGUpfSkpLmpvaW4oIiwiKSkpLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Ty5lbWl0KFQuRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSkscy5jYWxsQmlkcyh5LHAsKGZ1bmN0aW9uKGUsdCl7dmFyIGk9T2JqZWN0KHIuZ2V0QmlkZGVyUmVxdWVzdCkocCx0LmJpZGRlckNvZGUsZSk7aSYmbi5jYWxsKGksZSx0KX0pLChmdW5jdGlvbigpe3AuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKGkuYmluZChlKSl9KSksaC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSkpfSksdCl9fWVsc2UgQS5sb2dFcnJvcigibWlzc2luZyAiK2UuYWRhcHRlcik7YisrfX0pKSxsLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpO3ZhciB0PXdbZS5iaWRkZXJDb2RlXTt1LmIucnVuV2l0aEJpZGRlcihlLmJpZGRlckNvZGUsKGZ1bmN0aW9uKCl7QS5sb2dNZXNzYWdlKCJDQUxMSU5HIEJJRERFUiIpLE8uZW1pdChULkVWRU5UUy5CSURfUkVRVUVTVEVELGUpfSkpO3ZhciBkPU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLGUuYmlkZGVyQ29kZSksZG9uZTpvLmRvbmV9OnZvaWQgMCksZj1pLmJpbmQoZSk7dHJ5e3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSxyLmJpbmQuY2FsbCh0LmNhbGxCaWRzLHQsZSxuLmJpbmQoZSksZixkLHMsdS5iLmNhbGxiYWNrV2l0aEJpZGRlcihlLmJpZGRlckNvZGUpKSl9Y2F0Y2godCl7QS5sb2dFcnJvcigiIi5jb25jYXQoZS5iaWRkZXJDb2RlLCIgQmlkIEFkYXB0ZXIgZW1pdHRlZCBhbiB1bmNhdWdodCBlcnJvciB3aGVuIHBhcnNpbmcgdGhlaXIgYmlkUmVxdWVzdCIpLHtlOnQsYmlkUmVxdWVzdDplfSksZigpfX0pKX1lbHNlIEEubG9nV2FybigiY2FsbEJpZHMgZXhlY3V0ZWQgd2l0aCBubyBiaWRSZXF1ZXN0cy4gIFdlcmUgdGhleSBmaWx0ZXJlZCBieSBsYWJlbHMgb3Igc2l6aW5nPyIpfSxJLnZpZGVvQWRhcHRlcnM9W10sSS5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30scj1uLnN1cHBvcnRlZE1lZGlhVHlwZXMsaT12b2lkIDA9PT1yP1tdOnI7ZSYmdD8iZnVuY3Rpb24iPT10eXBlb2YgZS5jYWxsQmlkcz8od1t0XT1lLGYoKShpLCJ2aWRlbyIpJiZJLnZpZGVvQWRhcHRlcnMucHVzaCh0KSxmKCkoaSwibmF0aXZlIikmJm8uZi5wdXNoKHQpKTpBLmxvZ0Vycm9yKCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6ICIrdCsiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvbiIpOkEubG9nRXJyb3IoImJpZEFkYXB0ZXIgb3IgYmlkZGVyQ29kZSBub3Qgc3BlY2lmaWVkIil9LEkuYWxpYXNCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT13W3RdKXt2YXIgcj13W2VdO2lmKHZvaWQgMD09PXIpe3ZhciBpPVtdO2ouZm9yRWFjaCgoZnVuY3Rpb24obil7aWYobi5iaWRkZXJzJiZuLmJpZGRlcnMubGVuZ3RoKXt2YXIgcj1uJiZuLmJpZGRlcnM7biYmZigpKHIsdCk/Q1t0XT1lOmkucHVzaChlKX19KSksaS5mb3JFYWNoKChmdW5jdGlvbihlKXtBLmxvZ0Vycm9yKCdiaWRkZXJDb2RlICInK2UrJyIgaXMgbm90IGFuIGV4aXN0aW5nIGJpZGRlci4nLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX0pKX1lbHNlIHRyeXt2YXIgYyx1PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBmKCkoSS52aWRlb0FkYXB0ZXJzLGUpJiZ0LnB1c2goInZpZGVvIiksZigpKG8uZixlKSYmdC5wdXNoKCJuYXRpdmUiKSx0fShlKTtpZihyLmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9T2JqZWN0LnByb3RvdHlwZSkoYz1uZXcgci5jb25zdHJ1Y3Rvcikuc2V0QmlkZGVyQ29kZSh0KTtlbHNle3ZhciBzPXIuZ2V0U3BlYygpLGQ9biYmbi5ndmxpZCxsPW4mJm4uc2tpcFBic0FsaWFzaW5nO2M9T2JqZWN0KGEubmV3QmlkZGVyKShTKHt9LHMse2NvZGU6dCxndmxpZDpkLHNraXBQYnNBbGlhc2luZzpsfSkpLENbdF09ZX1JLnJlZ2lzdGVyQmlkQWRhcHRlcihjLHQse3N1cHBvcnRlZE1lZGlhVHlwZXM6dX0pfWNhdGNoKHQpe0EubG9nRXJyb3IoZSsiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy4iLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX19ZWxzZSBBLmxvZ01lc3NhZ2UoJ2FsaWFzIG5hbWUgIicrdCsnIiBoYXMgYmVlbiBhbHJlYWR5IHNwZWNpZmllZC4nKX0sSS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZGFwdGVyLG49ZS5jb2RlLHI9ZS5ndmxpZDt0JiZuPyJmdW5jdGlvbiI9PXR5cGVvZiB0LmVuYWJsZUFuYWx5dGljcz8odC5jb2RlPW4sX1tuXT17YWRhcHRlcjp0LGd2bGlkOnJ9KTpBLmxvZ0Vycm9yKCdQcmViaWQgRXJyb3I6IEFuYWx5dGljcyBhZGFwdG9yIGVycm9yIGZvciBhbmFseXRpY3MgIicuY29uY2F0KG4sJyJcbiAgICAgICAgYW5hbHl0aWNzIGFkYXB0ZXIgbXVzdCBpbXBsZW1lbnQgYW4gZW5hYmxlQW5hbHl0aWNzKCkgZnVuY3Rpb24nKSk6QS5sb2dFcnJvcigiUHJlYmlkIEVycm9yOiBhbmFseXRpY3NBZGFwdGVyIG9yIGFuYWx5dGljc0NvZGUgbm90IHNwZWNpZmllZCIpfSxJLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtBLmlzQXJyYXkoZSl8fChlPVtlXSksQS5fZWFjaChlLChmdW5jdGlvbihlKXt2YXIgdD1fW2UucHJvdmlkZXJdLmFkYXB0ZXI7dD90LmVuYWJsZUFuYWx5dGljcyhlKTpBLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSkpfSxJLmdldEJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHdbZV19LEkuZ2V0QW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gX1tlXX0sSS5jYWxsVGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKGUsdCxuKXt0PXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXM9QS5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcyhlLHQuYWRVbml0Q29kZSx0LmJpZGRlciksdC50aW1lb3V0PW4sdH0pKSx0PUEuZ3JvdXBCeSh0LCJiaWRkZXIiKSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtxKGUsIm9uVGltZW91dCIsdFtlXSl9KSl9LEkuY2FsbEJpZFdvbkJpZGRlcj1mdW5jdGlvbihlLHQsbil7dC5wYXJhbXM9QS5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcyhuLHQuYWRVbml0Q29kZSx0LmJpZGRlciksZy5hLmluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyKHQuYWRVbml0Q29kZSx0LmJpZGRlcikscShlLCJvbkJpZFdvbiIsdCl9LEkuY2FsbFNldFRhcmdldGluZ0JpZGRlcj1mdW5jdGlvbihlLHQpe3EoZSwib25TZXRUYXJnZXRpbmciLHQpfSxJLmNhbGxCaWRWaWV3YWJsZUJpZGRlcj1mdW5jdGlvbihlLHQpe3EoZSwib25CaWRWaWV3YWJsZSIsdCl9LHQuZGVmYXVsdD1JfSw4MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDMwKSxvPXIuZG9jdW1lbnQsYT1pKG8pJiZpKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBhP28uY3JlYXRlRWxlbWVudChlKTp7fX19LDgxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE3KSxpPW4oNjEpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMTUuMSIsbW9kZTpyPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwOSksaT1uKDI5KTtlLmV4cG9ydHM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhaSgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hU3RyaW5nKGUpfHwhKE9iamVjdChlKWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZyJiZyPDQxfSkpfSw4MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0NSksaT1uKDUwKSxvPW4oMTE0KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4sYSl7dmFyIGMsdT1yKHQpLHM9aSh1Lmxlbmd0aCksZD1vKGEscyk7aWYoZSYmbiE9bil7Zm9yKDtzPmQ7KWlmKChjPXVbZCsrXSkhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3M+ZDtkKyspaWYoKGV8fGQgaW4gdSkmJnVbZF09PT1uKXJldHVybiBlfHxkfHwwO3JldHVybiFlJiYtMX19O2UuZXhwb3J0cz17aW5jbHVkZXM6YSghMCksaW5kZXhPZjphKCExKX19LDg0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDExNSk7bigxMzgpLG4oMTQwKSxuKDE0MiksbigxNDQpLG4oMTQ2KSxuKDE0NyksbigxNDgpLG4oMTQ5KSxuKDE1MCksbigxNTEpLG4oMTUyKSxuKDE1MyksbigxNTQpLG4oMTU1KSxuKDE1NiksbigxNTcpLG4oMTU4KSxuKDE1OSksZS5leHBvcnRzPXJ9LDg1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUzKSxpPW4oMzApLG89bigzMSksYT1uKDM0KS5mLGM9big2MiksdT1uKDExOCkscz1jKCJtZXRhIiksZD0wLGY9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbD1mdW5jdGlvbihlKXthKGUscyx7dmFsdWU6e29iamVjdElEOiJPIisgKytkLHdlYWtEYXRhOnt9fX0pfSxwPWUuZXhwb3J0cz17UkVRVUlSRUQ6ITEsZmFzdEtleTpmdW5jdGlvbihlLHQpe2lmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLHMpKXtpZighZihlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbc10ub2JqZWN0SUR9LGdldFdlYWtEYXRhOmZ1bmN0aW9uKGUsdCl7aWYoIW8oZSxzKSl7aWYoIWYoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtzXS53ZWFrRGF0YX0sb25GcmVlemU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuUkVRVUlSRUQmJmYoZSkmJiFvKGUscykmJmwoZSksZX19O3Jbc109ITB9LDg2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KSxpPW4oNDApLG89cigiaXRlcmF0b3IiKSxhPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihpLkFycmF5PT09ZXx8YVtvXT09PWUpfX0sODc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLnJldHVybjtpZih2b2lkIDAhPT10KXJldHVybiByKHQuY2FsbChlKSkudmFsdWV9fSw4NzY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDc1KX0sODg6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw4OTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1uKDE2KSxvPW4oMTIzKSxhPW4oOTApLGM9big1MyksdT1uKDEyNikscz1uKDgwKSxkPW4oNjcpLGY9ZCgiSUVfUFJPVE8iKSxsPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGUpe3JldHVybiI8c2NyaXB0PiIrZSsiPC8iKyJzY3JpcHQ+In0sZz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXZhciBlLHQ7Zz1yP2Z1bmN0aW9uKGUpe2Uud3JpdGUocCgiIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fShyKTooKHQ9cygiaWZyYW1lIikpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHUuYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKCJqYXZhc2NyaXB0OiIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUocCgiZG9jdW1lbnQuRj1PYmplY3QiKSksZS5jbG9zZSgpLGUuRik7Zm9yKHZhciBuPWEubGVuZ3RoO24tLTspZGVsZXRlIGcucHJvdG90eXBlW2Fbbl1dO3JldHVybiBnKCl9O2NbZl09ITAsZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG51bGwhPT1lPyhsLnByb3RvdHlwZT1pKGUpLG49bmV3IGwsbC5wcm90b3R5cGU9bnVsbCxuW2ZdPWUpOm49ZygpLHZvaWQgMD09PXQ/bjpvKG4sdCl9fSw5OmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuKHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaT1uKDApLG89big1KSxhPUFycmF5LnByb3RvdHlwZS5zbGljZSxjPUFycmF5LnByb3RvdHlwZS5wdXNoLHU9aS5fbWFwKG8uRVZFTlRTLChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSxzPW8uRVZFTlRfSURfUEFUSFMsZD1bXTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXt9O2Z1bmN0aW9uIG4odCxuKXtpLmxvZ01lc3NhZ2UoIkVtaXR0aW5nIGV2ZW50IGZvcjogIit0KTt2YXIgcj1uWzBdfHx7fSxvPXJbc1t0XV0sYT1lW3RdfHx7cXVlOltdfSx1PWkuX21hcChhLChmdW5jdGlvbihlLHQpe3JldHVybiB0fSkpLGY9W107ZC5wdXNoKHtldmVudFR5cGU6dCxhcmdzOnIsaWQ6byxlbGFwc2VkVGltZTppLmdldFBlcmZvcm1hbmNlTm93KCl9KSxvJiZpLmNvbnRhaW5zKHUsbykmJmMuYXBwbHkoZixhW29dLnF1ZSksYy5hcHBseShmLGEucXVlKSxpLl9lYWNoKGYsKGZ1bmN0aW9uKGUpe2lmKGUpdHJ5e2UuYXBwbHkobnVsbCxuKX1jYXRjaChlKXtpLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgaGFuZGxlcjoiLCJldmVudHMuanMiLGUpfX0pKX1yZXR1cm4gdC5vbj1mdW5jdGlvbih0LG4scil7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGkuY29udGFpbnModSxlKX0odCkpe3ZhciBvPWVbdF18fHtxdWU6W119O3I/KG9bcl09b1tyXXx8e3F1ZTpbXX0sb1tyXS5xdWUucHVzaChuKSk6by5xdWUucHVzaChuKSxlW3RdPW99ZWxzZSBpLmxvZ0Vycm9yKCJXcm9uZyBldmVudCBuYW1lIDogIit0KyIgVmFsaWQgZXZlbnQgbmFtZXMgOiIrdSl9LHQuZW1pdD1mdW5jdGlvbihlKXt2YXIgdD1hLmNhbGwoYXJndW1lbnRzLDEpO24oZSx0KX0sdC5vZmY9ZnVuY3Rpb24odCxuLHIpe3ZhciBvPWVbdF07aS5pc0VtcHR5KG8pfHxpLmlzRW1wdHkoby5xdWUpJiZpLmlzRW1wdHkob1tyXSl8fHImJihpLmlzRW1wdHkob1tyXSl8fGkuaXNFbXB0eShvW3JdLnF1ZSkpfHwocj9pLl9lYWNoKG9bcl0ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vW3JdLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpOmkuX2VhY2goby5xdWUsKGZ1bmN0aW9uKGUpe3ZhciB0PW8ucXVlO2U9PT1uJiZ0LnNwbGljZSh0LmluZGV4T2YoZSksMSl9KSksZVt0XT1vKX0sdC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sdC5nZXRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT1bXTtyZXR1cm4gaS5fZWFjaChkLChmdW5jdGlvbih0KXt2YXIgbj1yKHt9LHQpO2UucHVzaChuKX0pKSxlfSx0fSgpfSw5MDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1bImNvbnN0cnVjdG9yIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xvY2FsZVN0cmluZyIsInRvU3RyaW5nIiwidmFsdWVPZiJdfSw5MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe2kmJmkuZW51bWVyYWJsZT9lW3RdPW46cihlLHQsbil9fSw5MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLGksbyxhPW4oMjkpLGM9big5MyksdT1uKDMyKSxzPW4oMzEpLGQ9bigyNCksZj1uKDE3KSxsPWQoIml0ZXJhdG9yIikscD0hMTtbXS5rZXlzJiYoIm5leHQiaW4obz1bXS5rZXlzKCkpPyhpPWMoYyhvKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKHI9aSk6cD0hMCk7dmFyIGc9bnVsbD09cnx8YSgoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gcltsXS5jYWxsKGUpIT09ZX0pKTtnJiYocj17fSksZiYmIWd8fHMocixsKXx8dShyLGwsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5leHBvcnRzPXtJdGVyYXRvclByb3RvdHlwZTpyLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6cH19LDkzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNDgpLG89big2NyksYT1uKDEyOSksYz1vKCJJRV9QUk9UTyIpLHU9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9YT9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9aShlKSxyKGUsYyk/ZVtjXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD91Om51bGx9fSw5NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTM0KS5jaGFyQXQsaT1uKDU0KSxvPW4oNjgpLGE9IlN0cmluZyBJdGVyYXRvciIsYz1pLnNldCx1PWkuZ2V0dGVyRm9yKGEpO28oU3RyaW5nLCJTdHJpbmciLChmdW5jdGlvbihlKXtjKHRoaXMse3R5cGU6YSxzdHJpbmc6U3RyaW5nKGUpLGluZGV4OjB9KX0pLChmdW5jdGlvbigpe3ZhciBlLHQ9dSh0aGlzKSxuPXQuc3RyaW5nLGk9dC5pbmRleDtyZXR1cm4gaT49bi5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1yKG4saSksdC5pbmRleCs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSkpfSw5NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDYzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGl0ZXJhYmxlIik7cmV0dXJuIHIodC5jYWxsKGUpKX19LDk2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2MCk7ZS5leHBvcnRzPXJ9LDk3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxuPXModCk7aWYoIW4uc2hvdWxkRmlsdGVyKXJldHVybiEwO3JldHVybiEhbi5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLG89dm9pZCAwIT09ciYmcixjPWUuYWN0aXZlTGFiZWxzLGQ9dm9pZCAwPT09Yz9bXTpjLGY9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp1LGc9cyhwKTtmPU9iamVjdChpLmlzUGxhaW5PYmplY3QpKGYpP09iamVjdChpLmRlZXBDbG9uZSkoZik6bD97YmFubmVyOntzaXplczpsfX06e307dmFyIGI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzIik7Zy5zaG91bGRGaWx0ZXImJmImJihmLmJhbm5lci5zaXplcz1iLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcuc2l6ZXNTdXBwb3J0ZWRbZV19KSkpO3ZhciB2PU9iamVjdC5rZXlzKGYpLHk9e2FjdGl2ZTp2LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KSl8fHYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIik+MCYmKDA9PT1uLmxlbmd0aHx8IW8mJihuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxhYmVsc1tlXX0pKXx8bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYSgpKGQsZSl9KSkpfHxvJiZuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nLmxhYmVsc1t0XXx8YSgpKGQsdCk6ZX0pLCEwKSksbWVkaWFUeXBlczpmfTtiJiZiLmxlbmd0aCE9PWYuYmFubmVyLnNpemVzLmxlbmd0aCYmKHkuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmIsYWZ0ZXI6Zi5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4geX07dmFyIHI9bigzKSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9W107ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1jKHQpJiYic3RyaW5nIj09dHlwZW9mIHQubWVkaWFRdWVyeSYmdC5tZWRpYVF1ZXJ5Lmxlbmd0aD4wKXt2YXIgbj0hMTt0cnl7bj1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkubWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlVuZnJpZW5kbHkgaUZyYW1lIGJsb2NrcyBzaXplQ29uZmlnIGZyb20gYmVpbmcgY29ycmVjdGx5IGV2YWx1YXRlZCIpLG49bWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9biYmKEFycmF5LmlzQXJyYXkodC5zaXplc1N1cHBvcnRlZCkmJihlLnNob3VsZEZpbHRlcj0hMCksWyJsYWJlbHMiLCJzaXplc1N1cHBvcnRlZCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybih0W25dfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbbl1bdF09ITB9KSl9KSkpfWVsc2UgT2JqZWN0KGkubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBlfSkse2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3U9ZX0oZS5zaXplQ29uZmlnKX0pKX0sOTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSx0LG4pe3ZhciBvPXtwdXRzOmUubWFwKGEsbil9O09iamVjdChyLmEpKGkuYi5nZXRDb25maWcoImNhY2hlLnVybCIpLGZ1bmN0aW9uKGUpe3JldHVybntzdWNjZXNzOmZ1bmN0aW9uKHQpe3ZhciBuO3RyeXtuPUpTT04ucGFyc2UodCkucmVzcG9uc2VzfWNhdGNoKHQpe3JldHVybiB2b2lkIGUodCxbXSl9bj9lKG51bGwsbik6ZShuZXcgRXJyb3IoIlRoZSBjYWNoZSBzZXJ2ZXIgZGlkbid0IHJlc3BvbmQgd2l0aCBhIHJlc3BvbnNlcyBwcm9wZXJ0eS4iKSxbXSl9LGVycm9yOmZ1bmN0aW9uKHQsbil7ZShuZXcgRXJyb3IoIkVycm9yIHN0b3JpbmcgdmlkZW8gYWQgaW4gdGhlIGNhY2hlOiAiLmNvbmNhdCh0LCI6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShuKSkpLFtdKX19fSh0KSxKU09OLnN0cmluZ2lmeShvKSx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pfSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGkuYi5nZXRDb25maWcoImNhY2hlLnVybCIpLCI/dXVpZD0iKS5jb25jYXQoZSl9O3ZhciByPW4oNCksaT1uKDMpLG89bigwKTtmdW5jdGlvbiBhKGUpe3ZhciB0LG4scixhPXt0eXBlOiJ4bWwiLHZhbHVlOmUudmFzdFhtbD9lLnZhc3RYbWw6KHQ9ZS52YXN0VXJsLG49ZS52YXN0SW1wVXJsLHI9bj8iPCFbQ0RBVEFbIi5jb25jYXQobiwiXV0+Iik6IiIsJzxWQVNUIHZlcnNpb249IjMuMCI+XG4gICAgPEFkPlxuICAgICAgPFdyYXBwZXI+XG4gICAgICAgIDxBZFN5c3RlbT5wcmViaWQub3JnIHdyYXBwZXI8L0FkU3lzdGVtPlxuICAgICAgICA8VkFTVEFkVGFnVVJJPjwhW0NEQVRBWycuY29uY2F0KHQsIl1dPjwvVkFTVEFkVGFnVVJJPlxuICAgICAgICA8SW1wcmVzc2lvbj4iKS5jb25jYXQociwiPC9JbXByZXNzaW9uPlxuICAgICAgICA8Q3JlYXRpdmVzPjwvQ3JlYXRpdmVzPlxuICAgICAgPC9XcmFwcGVyPlxuICAgIDwvQWQ+XG4gIDwvVkFTVD4iKSksdHRsc2Vjb25kczpOdW1iZXIoZS50dGwpfTtyZXR1cm4gaS5iLmdldENvbmZpZygiY2FjaGUudmFzdHRyYWNrIikmJihhLmJpZGRlcj1lLmJpZGRlcixhLmJpZGlkPWUucmVxdWVzdElkLGEuYWlkPWUuYXVjdGlvbklkLG8uaXNQbGFpbk9iamVjdCh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihhLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoYS5rZXk9ZS5jdXN0b21DYWNoZUtleSksYX19fSk7CnVwYmpzQ2h1bmsoWzM0Nl0sezEwMDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSk7dmFyIG49cigxKSxpPXIoMyksbz1yKDApLGE9cigyKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBjKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2QoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpkKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHUoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBwPSIzM2Fjcm9zcyIsbD0iaHR0cHM6Ly9zc2MuMzNhY3Jvc3MuY29tL2FwaS92MS9oYiIsZj0iaHR0cHM6Ly9zc2MtY21zLjMzYWNyb3NzLmNvbS9wcy8/bT14Y2gmcnQ9aHRtbCZydT1kZWIiLG09L15bYS16QS1aMC05Xy1dezIyfSQvLGI9InNpYWIiLGc9ImludmlldyIsaD0iaW5zdHJlYW0iLHY9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJwbGFjZW1lbnQiLCJwcm90b2NvbHMiLCJzdGFydGRlbGF5Iiwic2tpcCIsInNraXBhZnRlciIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIiwiZGVsaXZlcnkiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsImxpbmVhcml0eSJdLHk9e3VuaXF1ZVNpdGVJZHM6W119LEE9Im5tIjtmdW5jdGlvbiB3KCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gcyh7fSxlLHtleHQ6cyh7fSxlLmV4dCx1KHt9LHQscikpfSl9ZnVuY3Rpb24geChlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX1mdW5jdGlvbiBJKGUpe3ZhciB0PWUucGFyYW1zLHI9ZS5tZWRpYVR5cGVzLG49ci5iYW5uZXIsaT1yLnZpZGVvO3JldHVybiBpJiYhbiYmImluc3RyZWFtIj09PWkuY29udGV4dD9oOnQucHJvZHVjdElkPT09Zz90LnByb2R1Y3RJZDpifWZ1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpyLHNpemU6W3Qudyx0LmhdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiYiVVNEIj09PW4uY3VycmVuY3kpcmV0dXJuIG4uZmxvb3J9ZnVuY3Rpb24gUyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10Lncsbj10LmgsaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89aS53aWR0aCxhPWkuaGVpZ2h0LHM9aS5sZWZ0LGQ9aS50b3AsYz1pLnJpZ2h0LHU9aS5ib3R0b207cmV0dXJuKDA9PT1vfHwwPT09YSkmJnImJm4mJihvPXIsYT1uLGM9cytyLHU9ZCtuKSx7d2lkdGg6byxoZWlnaHQ6YSxsZWZ0OnMsdG9wOmQscmlnaHQ6Yyxib3R0b206dX19ZnVuY3Rpb24gQyhlKXtmb3IodmFyIHQ9e2xlZnQ6ZVswXS5sZWZ0LHJpZ2h0OmVbMF0ucmlnaHQsdG9wOmVbMF0udG9wLGJvdHRvbTplWzBdLmJvdHRvbX0scj0xO3I8ZS5sZW5ndGg7KytyKXtpZih0LmxlZnQ9TWF0aC5tYXgodC5sZWZ0LGVbcl0ubGVmdCksdC5yaWdodD1NYXRoLm1pbih0LnJpZ2h0LGVbcl0ucmlnaHQpLHQubGVmdD49dC5yaWdodClyZXR1cm4gbnVsbDtpZih0LnRvcD1NYXRoLm1heCh0LnRvcCxlW3JdLnRvcCksdC5ib3R0b209TWF0aC5taW4odC5ib3R0b20sZVtyXS5ib3R0b20pLHQudG9wPj10LmJvdHRvbSlyZXR1cm4gbnVsbH1yZXR1cm4gdC53aWR0aD10LnJpZ2h0LXQubGVmdCx0LmhlaWdodD10LmJvdHRvbS10LnRvcCx0fWZ1bmN0aW9uIGooZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsaT1yLmgsbz1TKGUse3c6bixoOml9KSxhPUMoW3tsZWZ0OjAsdG9wOjAscmlnaHQ6dC5pbm5lcldpZHRoLGJvdHRvbTp0LmlubmVySGVpZ2h0fSxvXSk7cmV0dXJuIG51bGwhPT1hP2Eud2lkdGgqYS5oZWlnaHQvKG8ud2lkdGgqby5oZWlnaHQpKjEwMDowfXZhciBUPXtOT05fTUVBU1VSQUJMRTpBLGNvZGU6cCxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZS5iaWRkZXIhPT1wfHx2b2lkIDA9PT1lLnBhcmFtcylyZXR1cm4hMTtpZighZnVuY3Rpb24oZSl7aWYobnVsbD09PShvLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnNpdGVJZCIsIiIpfHwiIikudHJpbSgpLm1hdGNoKG0pKXJldHVybiExO3JldHVybiEwfShlKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkmJmZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5zaXplcykpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1vLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLHI9by5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIse30pO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplKSlyZXR1cm4hMTtpZighdC5jb250ZXh0KXJldHVybiExO3ZhciBuPWMoYyh7fSx0KSxyKTtpZighQXJyYXkuaXNBcnJheShuLm1pbWVzKXx8MD09PW4ubWltZXMubGVuZ3RoKXJldHVybiExO2lmKCFBcnJheS5pc0FycmF5KG4ucHJvdG9jb2xzKXx8MD09PW4ucHJvdG9jb2xzLmxlbmd0aClyZXR1cm4hMTtpZih2b2lkIDAhPT1uLnBsYWNlbWVudCYmIm51bWJlciIhPXR5cGVvZiBuLnBsYWNlbWVudClyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09dC5jb250ZXh0JiZ2b2lkIDAhPT1uLnN0YXJ0ZGVsYXkmJiJudW1iZXIiIT10eXBlb2Ygbi5zdGFydGRlbGF5KXJldHVybiExO3JldHVybiEwfShlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPXMoe2NvbnNlbnRTdHJpbmc6dm9pZCAwLGdkcHJBcHBsaWVzOiExfSx0JiZ0LmdkcHJDb25zZW50KSxuPXQmJnQudXNwQ29uc2VudCxkPXQmJnQucmVmZXJlckluZm8/dC5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMDtyZXR1cm4geS51bmlxdWVTaXRlSWRzPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuc2l0ZUlkfSkpLmZpbHRlcihvLnVuaXF1ZXMpLGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRSZXF1ZXN0LHI9ZS5nZHByQ29uc2VudCxuPXZvaWQgMD09PXI/e306cixkPWUudXNwQ29uc2VudCx1PWUucGFnZVVybCxwPXt9LGY9dC5wYXJhbXM7cC5pbXA9W3t9XSxvLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy5iYW5uZXIiKSYmKHAuaW1wWzBdLmJhbm5lcj1jKHt9LGZ1bmN0aW9uKGUpe3ZhciB0LHI9by5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIix7fSksbj0oZD1lLmFkVW5pdENvZGUsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZ1bmN0aW9uKGUpe2lmKG8uaXNHcHRQdWJhZHNEZWZpbmVkKCkpZm9yKHZhciB0PWdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLHI9by5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGUoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHIodFtuXSkpe3ZhciBpPXRbbl0uZ2V0U2xvdEVsZW1lbnRJZCgpO3JldHVybiBvLmxvZ0luZm8oIlszM0Fjcm9zcyBBZGFwdGVyXSBNYXAgYWQgdW5pdCBwYXRoIHRvIEhUTUwgZWxlbWVudCBpZDogJyIuY29uY2F0KGUsIicgLT4gIikuY29uY2F0KGkpKSxpfXJldHVybiBvLmxvZ1dhcm4oIlszM0Fjcm9zcyBBZGFwdGVyXSBVbmFibGUgdG8gbG9jYXRlIGVsZW1lbnQgZm9yIGFkIHVuaXQgY29kZTogJyIuY29uY2F0KGUsIiciKSksbnVsbH0oZCkpKSxpPWZ1bmN0aW9uKGUpe2lmKG8uaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiYhby5pc0FycmF5KGVbMF0pKXJldHVyblt4KGUpXTtyZXR1cm4gZS5tYXAoeCl9KHIuc2l6ZXMpO3ZhciBkO3Q9ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3I/aS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciByLG49TyhlLHQsYS5iKTtyZXR1cm4gbiYmKHI9e2V4dDp7dHR4OntiaWRmbG9vcnM6W25dfX19KSxzKHt9LHQscil9KSk6aTt2YXIgYz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9KGkpLHU9ZnVuY3Rpb24oZSl7cmV0dXJue3R0eDp7dmlld2FiaWxpdHk6e2Ftb3VudDppc05hTihlKT9lOk1hdGgucm91bmQoZSl9fX19KGZ1bmN0aW9uKGUpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gby5nZXRXaW5kb3dTZWxmKCkhPT1vLmdldFdpbmRvd1RvcCgpfWNhdGNoKGUpe3JldHVybiEwfX0oKSYmbnVsbCE9PWV9KG4pP2Z1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oO3JldHVybiJ2aXNpYmxlIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2ooZSx0LHt3Om4saDppfSk6MH0obixvLmdldFdpbmRvd1RvcCgpLGMpOkEpO3JldHVybntmb3JtYXQ6dCxleHQ6dX19KHQpKSk7by5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8iKSYmKHAuaW1wWzBdLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIix7fSkscj1vLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIix7fSksbj1jKGMoe30sdCksciksaT17fSxkPXgobi5wbGF5ZXJTaXplWzBdKSx1PWQudyxwPWQuaDtpLnc9dSxpLmg9cCx2LmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGFzT3duUHJvcGVydHkoZSkmJihpW2VdPW5bZV0pfSkpO3ZhciBsPUkoZSk7aS5wbGFjZW1lbnQ9aS5wbGFjZW1lbnR8fDIsbD09PWgmJihpLnN0YXJ0ZGVsYXk9aS5zdGFydGRlbGF5fHwwLGkucGxhY2VtZW50PTEpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgZj1PKGUse3c6aS53LGg6aS5ofSxhLmQpO2YmJnMoaSx7ZXh0Ont0dHg6e2JpZGZsb29yczpbZl19fX0pfXJldHVybiBpfSh0KSk7cC5pbXBbMF0uZXh0PXt0dHg6e3Byb2Q6SSh0KX19LHAuc2l0ZT17aWQ6Zi5zaXRlSWR9LHUmJihwLnNpdGUucGFnZT11KTtwLmlkPXQuYmlkSWQsbi5jb25zZW50U3RyaW5nJiYocC51c2VyPXcocC51c2VyLCJjb25zZW50IixuLmNvbnNlbnRTdHJpbmcpKTtBcnJheS5pc0FycmF5KHQudXNlcklkQXNFaWRzKSYmdC51c2VySWRBc0VpZHMubGVuZ3RoPjAmJihwLnVzZXI9dyhwLnVzZXIsImVpZHMiLHQudXNlcklkQXNFaWRzKSk7cC5yZWdzPXcocC5yZWdzLCJnZHByIixOdW1iZXIobi5nZHByQXBwbGllcykpLGQmJihwLnJlZ3M9dyhwLnJlZ3MsInVzX3ByaXZhY3kiLGQpKTtwLmV4dD17dHR4OntwcmViaWRTdGFydGVkQXQ6RGF0ZS5ub3coKSxjYWxsZXI6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4xMS4wIn1dfX0sdC5zY2hhaW4mJihwLnNvdXJjZT13KHAuc291cmNlLCJzY2hhaW4iLHQuc2NoYWluKSk7MT09PWYudGVzdCYmKHAudGVzdD0xKTt2YXIgbT17Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0sYj1pLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDpiJiZiLnVybHx8IiIuY29uY2F0KGwsIj9ndWlkPSIpLmNvbmNhdChmLnNpdGVJZCksZGF0YTpKU09OLnN0cmluZ2lmeShwKSxvcHRpb25zOm19fSh7YmlkUmVxdWVzdDplLGdkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHBhZ2VVcmw6ZH0pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBlLmJvZHkuc2VhdGJpZC5sZW5ndGg+MCYmZS5ib2R5LnNlYXRiaWRbMF0uYmlkLmxlbmd0aD4wJiZyLnB1c2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWluJiZlLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW4ubGVuZ3RoLHI9e3JlcXVlc3RJZDplLmlkLGJpZGRlckNvZGU6cCxjcG06ZS5zZWF0YmlkWzBdLmJpZFswXS5wcmljZSx3aWR0aDplLnNlYXRiaWRbMF0uYmlkWzBdLncsaGVpZ2h0OmUuc2VhdGJpZFswXS5iaWRbMF0uaCxhZDplLnNlYXRiaWRbMF0uYmlkWzBdLmFkbSx0dGw6ZS5zZWF0YmlkWzBdLmJpZFswXS50dGx8fDYwLGNyZWF0aXZlSWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5jcmlkLG1lZGlhVHlwZTpvLmRlZXBBY2Nlc3MoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC5tZWRpYVR5cGUiLGEuYiksY3VycmVuY3k6ZS5jdXIsbmV0UmV2ZW51ZTohMH07dCYmKHIubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWlufSk7aWYoci5tZWRpYVR5cGU9PT1hLmQpeyJ4bWwiPT09by5kZWVwQWNjZXNzKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgudmFzdFR5cGUiLCJ4bWwiKT9yLnZhc3RYbWw9ci5hZDpyLnZhc3RVcmw9ci5hZH1yZXR1cm4gcn0oZS5ib2R5KSkscn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWUuaWZyYW1lRW5hYmxlZD95LnVuaXF1ZVNpdGVJZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zaXRlSWQscj12b2lkIDA9PT10PyJ6enowMDAwMDAwMDAwMDN6enoiOnQsbj1lLmdkcHJDb25zZW50LG89dm9pZCAwPT09bj97fTpuLGE9ZS51c3BDb25zZW50LHM9aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKSxkPXMmJnMuc3luY1VybHx8ZixjPW8uY29uc2VudFN0cmluZyx1PW8uZ2RwckFwcGxpZXMscD17dHlwZToiaWZyYW1lIix1cmw6IiIuY29uY2F0KGQsIiZpZD0iKS5jb25jYXQociwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGMpLCImdXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGEpKX07ImJvb2xlYW4iPT10eXBlb2YgdSYmKHAudXJsKz0iJmdkcHI9Ii5jb25jYXQoTnVtYmVyKHUpKSk7cmV0dXJuIHB9KHtnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixzaXRlSWQ6ZX0pfSkpOltdO3JldHVybiB5LnVuaXF1ZVNpdGVJZHM9W10sb319O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShUKX0sOTk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDEwMCl9fSxbOTldKTsKdXBianNDaHVuayhbMzQwXSx7MTg2OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgxODcpfSwxODc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBuPXQoMSksaT10KDIpLGE9dCgwKSxvPXQoMyksZD10KDEzKTtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBjKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8cChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxhPVtdLG89ITAsZD0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEobz0obj10Lm5leHQoKSkuZG9uZSkmJihhLnB1c2gobi52YWx1ZSksIXJ8fGEubGVuZ3RoIT09cik7bz0hMCk7fWNhdGNoKGUpe2Q9ITAsaT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYoZCl0aHJvdyBpfX1yZXR1cm4gYX0oZSxyKXx8cChlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcChlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gYyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP2MoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIGMoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiBsKGUpe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIG09by5iLmdldENvbmZpZyxmPXswOiJ0aXRsZSIsMjoiaWNvbiIsMzoiaW1hZ2UiLDU6InNwb25zb3JlZEJ5Iiw0OiJib2R5IiwxOiJjdGEifSx5PXt0aXRsZTp7aWQ6MCxuYW1lOiJ0aXRsZSJ9LGljb246e2lkOjIsdHlwZToxLG5hbWU6ImltZyJ9LGltYWdlOntpZDozLHR5cGU6MyxuYW1lOiJpbWcifSxzcG9uc29yZWRCeTp7aWQ6NSxuYW1lOiJkYXRhIix0eXBlOjF9LGJvZHk6e2lkOjQsbmFtZToiZGF0YSIsdHlwZToyfSxjdGE6e2lkOjEsdHlwZToxMixuYW1lOiJkYXRhIn19LHY9e2NvZGU6ImFkZiIsYWxpYXNlczpbe2NvZGU6ImFkZm9ybU9wZW5SVEIiLGd2bGlkOjUwfSx7Y29kZToiYWRmb3JtIixndmxpZDo1MH1dLGd2bGlkOjUwLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYyxpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1pZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0LG4sbz1tKCJvcnRiMiIpfHx7fSxkPW8udXNlcjsib2JqZWN0Ij09PWwobSgiYXBwIikpPyh0PW0oImFwcCIpfHx7fSxvLmFwcCYmYS5tZXJnZURlZXAodCxvLmFwcCkpOihuPW0oInNpdGUiKXx8e30sby5zaXRlJiZhLm1lcmdlRGVlcChuLG8uc2l0ZSksbi5wYWdlfHwobi5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcikpO3ZhciBzPW0oImRldmljZSIpfHx7fTtzLnc9cy53fHx3aW5kb3cuaW5uZXJXaWR0aCxzLmg9cy5ofHx3aW5kb3cuaW5uZXJIZWlnaHQscy51YT1zLnVhfHxuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBwPWIoZSwicGFyYW1zLmFkeERvbWFpbiIpfHwiYWR4LmFkZm9ybS5uZXQiLGM9YihlLCJwYXJhbXMucHQiKXx8YihlLCJwYXJhbXMucHJpY2VUeXBlIil8fCJuZXQiLGY9ZVswXS50cmFuc2FjdGlvbklkLHY9YihlLCJwYXJhbXMudGVzdCIpLGc9bSgiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLHc9ZyYmW2ddLFM9YihlLCJ1c2VySWRBc0VpZHMiKSxUPWIoZSwic2NoYWluIiksQT1lLm1hcCgoZnVuY3Rpb24oZSxyKXtlLm5ldFJldmVudWU9Yzt2YXIgdD17aWQ6cisxLHRhZ2lkOmUucGFyYW1zLm1pZH0sbj1hLl9tYXAoZS5uYXRpdmVQYXJhbXMsKGZ1bmN0aW9uKGUscil7dmFyIHQ9eVtyXSxuPXtyZXF1aXJlZDoxJmUucmVxdWlyZWR9O2lmKHQpe3ZhciBpLGEsbyxkO24uaWQ9dC5pZDt2YXIgcz1lLmFzcGVjdF9yYXRpb3M7aWYocyYmc1swXSYmKGk9KHM9c1swXSkubWluX3dpZHRofHwwLGE9cy5yYXRpb19oZWlnaHQqaS9zLnJhdGlvX3dpZHRofDApLGUuc2l6ZXMpe3ZhciB1PWgoZS5zaXplcyk7bz11WzBdLGQ9dVsxXX1yZXR1cm4gblt0Lm5hbWVdPXtsZW46ZS5sZW4sdHlwZTp0LnR5cGUsd21pbjppLGhtaW46YSx3Om8saDpkfSxufX0pKS5maWx0ZXIoQm9vbGVhbik7aWYobi5sZW5ndGgpcmV0dXJuIHQubmF0aXZlPXtyZXF1ZXN0Onthc3NldHM6bn19LGUubWVkaWFUeXBlPWkuYyx0O3ZhciBvPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKG8mJm8uc2l6ZXMpe3ZhciBkPWEucGFyc2VTaXplc0lucHV0KG8uc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9dShlLnNwbGl0KCJ4IiksMiksdD1yWzBdLG49clsxXTtyZXR1cm57dzpwYXJzZUludCh0LDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTtyZXR1cm4gdC5iYW5uZXI9e2Zvcm1hdDpkfSxlLm1lZGlhVHlwZT1pLmIsdH12YXIgcz1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpO3JldHVybiBzPyh0LnZpZGVvPXMsZS5tZWRpYVR5cGU9aS5kLHQpOnZvaWQgMH0pKSxJPXtpZDpyLmF1Y3Rpb25JZCxzaXRlOm4sYXBwOnQsdXNlcjpkLGRldmljZTpzLHNvdXJjZTp7dGlkOmYsZmQ6MX0sZXh0OntwdDpjfSxjdXI6dyxpbXA6QX07cmV0dXJuIHYmJihJLmlzX2RlYnVnPSEhdixJLnRlc3Q9MSksdm9pZCAwIT09YS5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJihhLmRlZXBTZXRWYWx1ZShJLCJ1c2VyLmV4dC5jb25zZW50IixyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGEuZGVlcFNldFZhbHVlKEksInJlZ3MuZXh0LmdkcHIiLDEmci5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLHIudXNwQ29uc2VudCYmYS5kZWVwU2V0VmFsdWUoSSwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSxTJiZhLmRlZXBTZXRWYWx1ZShJLCJ1c2VyLmV4dC5laWRzIixTKSxUJiZhLmRlZXBTZXRWYWx1ZShJLCJzb3VyY2UuZXh0LnNjaGFpbiIsVCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIrcCsiL2FkeC9vcGVucnRiIixkYXRhOkpTT04uc3RyaW5naWZ5KEkpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIn0sYmlkczplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZHM7aWYoZS5ib2R5KXt2YXIgbj1lLmJvZHksbz1uLnNlYXRiaWQscz1uLmN1cix1PWgoby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZH0pKSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlW3IuaW1waWQtMV09cixlfSksW10pO3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSxyKXt2YXIgdD11W3JdO2lmKHQpe3ZhciBuPXtyZXF1ZXN0SWQ6ZS5iaWRJZCxjcG06dC5wcmljZSxjcmVhdGl2ZUlkOnQuY3JpZCx0dGw6MzYwLG5ldFJldmVudWU6Im5ldCI9PT1lLm5ldFJldmVudWUsY3VycmVuY3k6cyxtZWRpYVR5cGU6ZS5tZWRpYVR5cGUsd2lkdGg6dC53LGhlaWdodDp0LmgsZGVhbElkOnQuZGVhbGlkLG1ldGE6e21lZGlhVHlwZTplLm1lZGlhVHlwZSxhZHZlcnRpc2VyRG9tYWluczp0LmFkb21haW59fTtyZXR1cm4gdC5uYXRpdmU/bi5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5uYXRpdmUsdD1yLmFzc2V0cyxuPXIubGluayxpPXIuaW1wdHJhY2tlcnMsYT1yLmpzdHJhY2tlcixvPXtjbGlja1VybDpuLnVybCxjbGlja1RyYWNrZXJzOm4uY2xpY2t0cmFja2Vyc3x8dm9pZCAwLGltcHJlc3Npb25UcmFja2VyczppfHx2b2lkIDAsamF2YXNjcmlwdFRyYWNrZXJzOmE/W2FdOnZvaWQgMH07cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZltlLmlkXSx0PXImJmVbeVtyXS5uYW1lXTt0JiYob1tyXT10LnRleHR8fHQudmFsdWV8fHt1cmw6dC51cmwsd2lkdGg6dC53LGhlaWdodDp0Lmh9KX0pKSxvfSh0KTpuW2UubWVkaWFUeXBlPT09aS5kPyJ2YXN0WG1sIjoiYWQiXT10LmFkbSxlLnJlbmRlcmVyfHxlLm1lZGlhVHlwZSE9PWkuZHx8Im91dHN0cmVhbSIhPT1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil8fChuLnJlbmRlcmVyPWQuYS5pbnN0YWxsKHtpZDplLmJpZElkLHVybDoiaHR0cHM6Ly9zMi5hZGZvcm0ubmV0L2Jhbm5lcnMvc2NyaXB0cy92aWRlby9vdXRzdHJlYW0vcmVuZGVyLmpzIixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pLG4ucmVuZGVyZXIuc2V0UmVuZGVyKGcpKSxufX0pKS5maWx0ZXIoQm9vbGVhbil9fX07ZnVuY3Rpb24gYihlLHIpe2Zvcih2YXIgdCxuPTA7bjxlLmxlbmd0aDtuKyspaWYodD1hLmRlZXBBY2Nlc3MoZVtuXSxyKSlyZXR1cm4gdH1mdW5jdGlvbiBoKGUpe3ZhciByO3JldHVybihyPVtdKS5jb25jYXQuYXBwbHkocixzKGUpKX1mdW5jdGlvbiBnKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQWRmb3JtLnJlbmRlck91dHN0cmVhbShlKX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbMTg2XSk7CnVwYmpzQ2h1bmsoWzMxN10sezI0NzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMjQ4KX0sMjQ4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKTt2YXIgbj10KDApLGk9dCgxKSxhPXQoMyksbz10KDExKSxzPXQubihvKSxjPXQoMik7ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB1PSJVU0QiLGY9e2ltYWdlOntyZXF1aXJlZDohMH0sdGl0bGU6e3JlcXVpcmVkOiEwfSxzcG9uc29yZWRCeTp7cmVxdWlyZWQ6ITB9LGNsaWNrVXJsOntyZXF1aXJlZDohMH0sYm9keTp7cmVxdWlyZWQ6ITF9LGljb246e3JlcXVpcmVkOiExfSxjdGE6e3JlcXVpcmVkOiExfX0sbD17Y29kZToiYWR5b3VsaWtlIixzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmIsYy5jLGMuZF0sYWxpYXNlczpbImF5bCJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciByPWcoeShlKSksdD1yLndpZHRoPjAmJnIuaGVpZ2h0PjA7cmV0dXJuIGUucGFyYW1zJiZlLnBhcmFtcy5wbGFjZW1lbnQmJih0fHxlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5uYXRpdmUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9e1ZlcnNpb246IjEuMCIsQmlkczplLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgdD1mdW5jdGlvbihlKXtpZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiBjLmQ7aWYobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpcmV0dXJuIGMuYjtpZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5uYXRpdmUiKSlyZXR1cm4gYy5jfShyKSxpPXkociksYT1nKGkpO2lmKGVbci5iaWRJZF09e30sZVtyLmJpZElkXS5QbGFjZW1lbnRJRD1yLnBhcmFtcy5wbGFjZW1lbnQsZVtyLmJpZElkXS5UcmFuc2FjdGlvbklEPXIudHJhbnNhY3Rpb25JZCxlW3IuYmlkSWRdLldpZHRoPWEud2lkdGgsZVtyLmJpZElkXS5IZWlnaHQ9YS5oZWlnaHQsZVtyLmJpZElkXS5BdmFpbGFibGVTaXplcz1pLmpvaW4oIiwiKSwiZnVuY3Rpb24iPT10eXBlb2Ygci5nZXRGbG9vciYmKGVbci5iaWRJZF0uUHJpY2luZz1mdW5jdGlvbihlLHIsdCl7dmFyIG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6dSxtZWRpYVR5cGU6dCxzaXplOltyLndpZHRoLHIuaGVpZ2h0XX0pO2lmKCFpc05hTihuLmZsb29yKSYmbi5jdXJyZW5jeT09PXUpcmV0dXJuIG4uZmxvb3J9KHIsYSx0KSksdD09PWMuYyl7dmFyIG89ci5tZWRpYVR5cGVzLm5hdGl2ZTsiaW1hZ2UiPT09by50eXBlJiYobz1wKHt9LGYsbykpLG8uY2xpY2tVcmw9e3JlcXVpcmVkOiEwfSxlW3IuYmlkSWRdLk5hdGl2ZT1vfWlmKHQ9PT1jLmQpe2Vbci5iaWRJZF0uVmlkZW89ci5tZWRpYVR5cGVzLnZpZGVvO3ZhciBzPXIubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO0FycmF5LmlzQXJyYXkocykmJiFBcnJheS5pc0FycmF5KHNbMF0pJiYoZVtyLmJpZElkXS5WaWRlby5wbGF5ZXJTaXplPVtzXSl9cmV0dXJuIGV9KSx7fSksUGFnZVJlZnJlc2hlZDptKCl9O3ImJnIuZ2RwckNvbnNlbnQmJih0LmdkcHJDb25zZW50PXtjb25zZW50U3RyaW5nOnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcz9yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzOm51bGx9KSxyJiZyLnVzcENvbnNlbnQmJih0LnVzcENvbnNlbnQ9ci51c3BDb25zZW50KTt2YXIgaT1KU09OLnN0cmluZ2lmeSh0KTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6dihlLHIpLGRhdGE6aSxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITB9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxpPXt9O3RyeXtpPUpTT04ucGFyc2Uoci5kYXRhKS5CaWRzfWNhdGNoKGUpe31yZXR1cm4gZS5ib2R5LmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUscil7aWYoIWV8fCFlLkFkJiYhZS5OYXRpdmUmJiFlLlZhc3QpcmV0dXJuO3ZhciB0PXImJnJbZS5CaWRJRF07dCYmKGUuV2lkdGgmJiIwIiE9PWUuV2lkdGh8fChlLldpZHRoPXQuV2lkdGgpLGUuSGVpZ2h0JiYiMCIhPT1lLkhlaWdodHx8KGUuSGVpZ2h0PXQuSGVpZ2h0KSk7dmFyIGk9e3JlcXVlc3RJZDplLkJpZElELHR0bDozNjAwLGNyZWF0aXZlSWQ6ZS5DcmVhdGl2ZUlELGNwbTplLlByaWNlLG5ldFJldmVudWU6ITAsY3VycmVuY3k6dSxtZXRhOmUuTWV0YXx8e2FkdmVydGlzZXJEb21haW5zOltdfX07aWYodCYmdC5OYXRpdmUpaS5uYXRpdmU9ZnVuY3Rpb24oZSxyKXtpZigib2JqZWN0Ij09PWQoZS5OYXRpdmUpKXJldHVybiBlLk5hdGl2ZTt2YXIgdD17fSxpPXt9LGE9e307aWYoInN0cmluZyI9PXR5cGVvZiBlLkFkKXtpPUpTT04ucGFyc2UoZS5BZC5tYXRjaCgvXC9cKlBSRUJJRFwqXC8oLiopXC9cKlBSRUJJRFwqXC8vKVsxXSksYT1pLkNvbnRlbnQuUHJldmlldy5UZXh0O3ZhciBvPWkuVHJhY2tpbmdQcmVmaXgrIi9waXhlbD9ldmVudF9raW5kPUlNUFJFU1NJT04mYXR0ZW1wdD0iK2kuQXR0ZW1wdCxzPWkuVHJhY2tpbmdQcmVmaXgrIi9waXhlbD9ldmVudF9raW5kPUlOU0VSVElPTiZhdHRlbXB0PSIraS5BdHRlbXB0O2kuQ2FtcGFpZ24mJihvKz0iJmNhbXBhaWduPSIraS5DYW1wYWlnbixzKz0iJmNhbXBhaWduPSIraS5DYW1wYWlnbiksdC5jbGlja1VybD1pLlRyYWNraW5nUHJlZml4KyIvYXI/ZXZlbnRfa2luZD1DTElDSyZhdHRlbXB0PSIraS5BdHRlbXB0KyImY2FtcGFpZ249IitpLkNhbXBhaWduKyImdXJsPSIrZW5jb2RlVVJJQ29tcG9uZW50KGkuQ29udGVudC5MYW5kaW5nLlVybCksaS5PbkV2ZW50cz8odC5jbGlja1RyYWNrZXJzPUMoaS5PbkV2ZW50cy5DTElDSyksdC5pbXByZXNzaW9uVHJhY2tlcnM9QyhpLk9uRXZlbnRzLklNUFJFU1NJT04pLHQuamF2YXNjcmlwdFRyYWNrZXJzPUMoaS5PbkV2ZW50cy5JTVBSRVNTSU9OLCEwKSk6dC5pbXByZXNzaW9uVHJhY2tlcnM9W10sdC5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChvLHMpfXJldHVybiBPYmplY3Qua2V5cyhyKS5tYXAoKGZ1bmN0aW9uKG8scyl7c3dpdGNoKG8pe2Nhc2UidGl0bGUiOnRbb109YS5USVRMRTticmVhaztjYXNlImJvZHkiOnRbb109YS5ERVNDUklQVElPTjticmVhaztjYXNlImN0YSI6dFtvXT1hLkNBTExUT0FDVElPTjticmVhaztjYXNlInNwb25zb3JlZEJ5Ijp0W29dPWkuQ29udGVudC5QcmV2aWV3LlNwb25zb3IuTmFtZTticmVhaztjYXNlImltYWdlIjp2YXIgYz1yLmltYWdlLnNpemVzfHxbXTtjLmxlbmd0aHx8KGNbMF09ZS5XaWR0aHx8MzAwLGNbMV09ZS5IZWlnaHR8fDI1MCk7dmFyIGQ9SShpLG4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuVGh1bWJuYWlsLkltYWdlIiksY1swXSxjWzFdKTtkJiYodFtvXT17dXJsOmQsd2lkdGg6Y1swXSxoZWlnaHQ6Y1sxXX0pO2JyZWFrO2Nhc2UiaWNvbiI6dmFyIHA9ci5pY29uLnNpemVzfHxbXTtwLmxlbmd0aHx8KHBbMF09NTAscFsxXT01MCk7dmFyIHU9SShpLG4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuU3BvbnNvci5Mb2dvLlJlc291cmNlIikscFswXSxwWzFdKTtkJiYodFtvXT17dXJsOnUsd2lkdGg6cFswXSxoZWlnaHQ6cFsxXX0pO2JyZWFrO2Nhc2UicHJpdmFjeUljb24iOnRbb109SShpLG4uZGVlcEFjY2VzcyhpLCJDb250ZW50LlByZXZpZXcuQ3JlZGl0LkxvZ28uUmVzb3VyY2UiKSwyNSwyNSk7YnJlYWs7Y2FzZSJwcml2YWN5TGluayI6dFtvXT1uLmRlZXBBY2Nlc3MoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5VcmwiKX19KSksdH0oZSx0Lk5hdGl2ZSksaS5tZWRpYVR5cGU9Im5hdGl2ZSI7ZWxzZSBpZih0JiZ0LlZpZGVvKXt2YXIgYT1lLlZhc3R8fGZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZClyZXR1cm4gcj1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLG4uZGVlcEFjY2VzcyhyLCJDb250ZW50Lk1haW5WaWRlby5WYXN0Iil9KGUpO2kudmFzdFhtbD1hP3dpbmRvdy5hdG9iKGEpOiIiLGkubWVkaWFUeXBlPSJ2aWRlbyJ9ZWxzZSBpLndpZHRoPWUuV2lkdGgsaS5oZWlnaHQ9ZS5IZWlnaHQsaS5hZD1lLkFkO3JldHVybiBpfShlLGkpO3ImJnQucHVzaChyKX0pKSx0fX07ZnVuY3Rpb24gbSgpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciByPXMoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuREN9KSk7cmV0dXJuIHI/Ii0iK3IucGFyYW1zLkRDOiIifShlKTtyZXR1cm4gbi5idWlsZFVybCh7cHJvdG9jb2w6Imh0dHBzIixob3N0OiIiLmNvbmNhdCgiaGItYXBpIikuY29uY2F0KHQsIi5vbW5pdGFnanMuY29tIikscGF0aG5hbWU6Ii9oYi1hcGkvcHJlYmlkL3YxIixzZWFyY2g6aChyKX0pfWZ1bmN0aW9uIGgoZSl7dmFyIHI9e307aWYoZSl7dmFyIHQ9ZS5yZWZlcmVySW5mbzt0JiYoci5SZWZlcmVyVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0LnJlZmVyZXIpLHQubnVtSWZyYW1lcz4wJiYoci5TYWZlRnJhbWU9ITApKX12YXIgbj1mdW5jdGlvbigpe3ZhciBlO2lmKHdpbmRvdy5zZWxmIT09d2luZG93LnRvcCl0cnl7ZT13aW5kb3cudG9wLmRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyl9Y2F0Y2goZSl7fWVsc2UgZT1kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXVtocmVmXScpO3JldHVybiBlP2UuaHJlZjoiIn0oKTtuJiYoci5DYW5vbmljYWxVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KG4pKTt2YXIgaT1hLmIuZ2V0Q29uZmlnKCJwdWJsaXNoZXJEb21haW4iKTtyZXR1cm4gaSYmKHIuUHVibGlzaGVyRG9tYWluPWVuY29kZVVSSUNvbXBvbmVudChpKSkscn1mdW5jdGlvbiB5KGUpe3ZhciByPWUuc2l6ZXN8fFtdO3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fFtdKSxlLnBhcmFtcyYmQXJyYXkuaXNBcnJheShlLnBhcmFtcy5zaXplKSYmKHI9ZS5wYXJhbXMuc2l6ZSxBcnJheS5pc0FycmF5KHJbMF0pfHwocj1bcl0pKSxuLnBhcnNlU2l6ZXNJbnB1dChyKX1mdW5jdGlvbiBnKGUpe3ZhciByPXt9LHQ9ZVswXTtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIHI7dmFyIG49dC50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksaT1wYXJzZUludChuWzBdLDEwKTtpJiYoci53aWR0aD1pKTt2YXIgYT1wYXJzZUludChuWzFdLDEwKTtyZXR1cm4gYSYmKHIuaGVpZ2h0PWEpLHJ9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZT8iaHR0cHM6Ly9ibG9icy5vbW5pdGFnanMuY29tL2Jsb2JzLyIrZS5zdWJzdHIoMTYsMikrIi8iK2Uuc3Vic3RyKDE2KSsiLyIrZToiIn1mdW5jdGlvbiBJKGUscix0LG4pe3ZhciBpPSIiO2lmKHImJnIuS2luZClzd2l0Y2goci5LaW5kKXtjYXNlIklOVEVSTkFMIjppPWIoci5EYXRhLkludGVybmFsLkJsb2JSZWZlcmVuY2UuVWlkKTticmVhaztjYXNlIkVYVEVSTkFMIjp2YXIgYT1lLkR5bmFtaWNQcmVmaXgsbz1yLkRhdGEuRXh0ZXJuYWwuVXJsO2lmKChvPShvPW8ucmVwbGFjZSgvXFtoZWlnaHRcXS9pLCIiK24pKS5yZXBsYWNlKC9cW3dpZHRoXF0vaSwiIit0KSkuaW5kZXhPZihhKT49MCl7dmFyIHM9Ly4qdXJsPShbXiZdKikvZ20uZXhlYyhvKTsoaT1zP3NbMV06IiIpfHwoaT1iKC8uKmtleT0oW14mXSopL2dtLmV4ZWMobylbMV0pKX1lbHNlIGk9b31yZXR1cm4gaX1mdW5jdGlvbiBDKGUscil7dmFyIHQ9W107cmV0dXJuIGU/KGUubWFwKChmdW5jdGlvbihlLG4peyhyJiYiSkFWQVNDUklQVF9VUkwiPT09ZS5LaW5kfHwhciYmIlBJWEVMX1VSTCI9PT1lLktpbmQpJiZ0LnB1c2goZS5VcmwpfSkpLHQpOnR9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGwpfX0sWzI0N10pOwp1cGJqc0NodW5rKFszMTNdLHsyNTU6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDI1Nil9LDI1NjpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwiQklEREVSX0NPREUiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLGUuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGUuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSx0LnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtjPSExfTtlKDApO3ZhciByPWUoMSksYT1lKDIpO2Z1bmN0aW9uIGkobix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBvPSJhbWF6b24iLHM9Imh0dHBzOi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2JpZCIsZD1bXSxjPSExLG09WyJodHRwczovL2FheC1ldS5hbWF6b24tYWRzeXN0ZW0uY29tL3MvaXUzP2NtM3BwZD0xJmQ9ZHRiLXB1YiZjc2lmPXQiXTt2YXIgcD17Y29kZTpvLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24obix0KXtpZighd2luZG93LmFwc3RhZylyZXR1cm5bXTtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtkLnB1c2gocil9dmFyIGEsbz1bXTtyZXR1cm4gYT1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZSxyPVtdLGE9dCYmdC5nZHByQ29uc2VudCxvPTA7bzxuLmxlbmd0aDtvKyspe2Zvcih2YXIgcz17fSxkPW5bb10uc2l6ZXMsYz1bXSxtPTA7bTxkLmxlbmd0aDttKyspYy5wdXNoKGRbbV1bMF0rIngiK2RbbV1bMV0pO3Muc2Q9dS50b1N0cmluZygpLHMucz1jLHMuc249bltvXS5wYXJhbXMuYWRVbml0R1BUUGF0aCxyLnB1c2gocyksdSsrfXZhciBwPW5bMF0ucGFyYW1zLnB1YklELmluZGV4T2YoIi0iKT4tMSxsPShpKGU9e30sInNyYyIscD8iNjAwIjpuWzBdLnBhcmFtcy5wdWJJRCksaShlLCJwdWJpZCIsblswXS5wYXJhbXMucHViSUQpLGkoZSwidSIsd2luZG93LmxvY2F0aW9uLmhyZWYpLGkoZSwicGlkIixmdW5jdGlvbihuKXtmb3IodmFyIHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IixlPW5ldyBBcnJheShuKSxyPTA7cjxuO3IrKyllW3JdPXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQubGVuZ3RoKV07cmV0dXJuIGUuam9pbigiIil9KDEzKSksaShlLCJwciIsZG9jdW1lbnQucmVmZXJyZXIpLGkoZSwiY2IiLDApLGkoZSwid3MiLCh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSsieCIrKHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKSxpKGUsInYiLCI3LjQ3LjAwIiksaShlLCJzbG90cyIsSlNPTi5zdHJpbmdpZnkocikpLGkoZSwidCIsM2UzKSxlKTthJiYic3RyaW5nIj09dHlwZW9mIGEuY29uc2VudFN0cmluZyYmIiIhPT1hLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2YgYS5nZHByQXBwbGllcz8obC5nZHByZT0iMSIsbC5nZHByYz0iIi5jb25jYXQoYS5jb25zZW50U3RyaW5nKSxsLmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6bC5nZHBybD1KU09OLnN0cmluZ2lmeShpKHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6bC5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIGx9KG4sdCksby5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTphfSksb30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxyPW5ldyBSZWdFeHAoImFwc3RhZ1xcLlxcdytcXCgoLio/KVxcKSIsImdtIiksYT1uLmJvZHksaT1yLmV4ZWMoYSk7aWYoaSYmaS5sZW5ndGg+MCl0cnl7dmFyIG8scz1KU09OLnBhcnNlKGlbMV0pO2lmKHMuY21wLCFzLnNsb3RzKXJldHVybiBlO289cy5ob3N0O2Zvcih2YXIgYz1zLnNsb3RzLG09MDttPGMubGVuZ3RoO20rKyl7Zm9yKHZhciBwPXZvaWQgMCx1PWNbbV0sbD0wO2w8ZC5sZW5ndGg7bCsrKWlmKGwudG9TdHJpbmcoKT09PXUuc2xvdElEKXtwPWRbbF07YnJlYWt9aWYodm9pZCAwIT09cCl7dmFyIGc9MCxmPSIiK01hdGgucm91bmQoMWUxMipNYXRoLnJhbmRvbSgpKStEYXRlLm5vdygpLGg9bysiL2UvZHRiL2FkbWk/Yj0iK3UuYW16bmlpZCsiJnJuZD0iK2YrIiZwcD0iK3UuYW16bmJpZCsiJnA9Iit1LmFtem5wKyImY3JpZD0iK3UuY3JpZDt3aW5kb3cudXBvX2Ftem4mJndpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydCYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W3UuYW16bmJpZF0mJihnPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFt1LmFtem5iaWRdKSxlLnB1c2goe3JlcXVlc3RJZDpwLmJpZElkLGNwbTpnLHdpZHRoOnUuYW16bnN6LnNwbGl0KCJ4IilbMF0saGVpZ2h0OnUuYW16bnN6LnNwbGl0KCJ4IilbMV0sYWRUYXJnZXRpbmc6J3siYW16bmlpZCI6IicrdS5hbXpuaWlkKyciLCJhbXpucCI6IicrdS5hbXpucCsnIiwiYW16bmJpZCI6IicrdS5hbXpuYmlkKyciLCJhbXpuc3oiOiInK3UuYW16bnN6KycifScsYWQ6IiIsYWRIdG1sOic8Ym9keSBsZWZ0bWFyZ2luPSIwIiB0b3BtYXJnaW49IjAiIG1hcmdpbndpZHRoPSIwIiBtYXJnaW5oZWlnaHQ9IjAiPjxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiIHNjcm9sbGluZz0ibm8iIHdpZHRoPSInK3UuYW16bnN6LnNwbGl0KCJ4IilbMF0rJ3B4IiBoZWlnaHQ9IicrdS5hbXpuc3ouc3BsaXQoIngiKVsxXSsncHgiIGlkPSJhbXpuYWQ3MDM1MiIgc2FuZGJveD0iYWxsb3ctZm9ybXMgYWxsb3ctcG9pbnRlci1sb2NrIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb24iIHNyYz0iJytoKyciPjwvaWZyYW1lPjxzY3JpcHQ+dmFyIGFteiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Ftei5zcmMgPSAiLy9jLmFtYXpvbi1hZHN5c3RlbS5jb20vYmFvLWNzbS9kaXJlY3QvY3NtLmpzIjthbXouYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXt2YXIgY3NtRnVuYyA9IG51bGw7IGlmKHdpbmRvdy5hbXpuY3NtICYmIHdpbmRvdy5hbXpuY3NtLnJtRCl7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtLnJtRDt9IGVsc2UgaWYgKHdpbmRvdy5hbXpuY3NtKSB7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtW09iamVjdC5rZXlzKHdpbmRvdy5hbXpuY3NtKVswXV19OyB2YXIgYWRJZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwnaWZyYW1lW3NyYyo9ImFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYWRtaVwnKTtjc21GdW5jKGFkSWZyYW1lLCAiJyt1LmFtem5paWQrJyIsIHdpbmRvdywgZG9jdW1lbnQsICInK3AucGFyYW1zLnB1YklEKyciKTt9KTsoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChhbXopOzxcL3NjcmlwdD48L2JvZHk+JyxhZFVybDpoLHR0bDo5MDAsY3JlYXRpdmVJZDp1LmNyaWQsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeToiVVNEIn0pfX19Y2F0Y2gobil7fXJldHVybiBlfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24obix0LGUpe2lmKCFjKXtlJiYic3RyaW5nIj09dHlwZW9mIGUuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIGUuZ2RwckFwcGxpZXM/Ij9nZHByPSIuY29uY2F0KE51bWJlcihlLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZS5jb25zZW50U3RyaW5nKToiP2dkcHJfY29uc2VudD0iLmNvbmNhdChlLmNvbnNlbnRTdHJpbmcpKSxjPSEwO2Zvcih2YXIgcj1bXSxhPTA7YTxtLmxlbmd0aDthKyspci5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDptW2FdfSk7cmV0dXJuIHJ9fX07dmFyIHU9MDtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikocCl9fSxbMjU1XSk7CnVwYmpzQ2h1bmsoWzMwOV0sezI2MzpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMjY0KX0sMjY0OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gTX0pKTt2YXIgbixpLGEsbz1yKDApLHM9cigxKSxjPXIoMik7ZnVuY3Rpb24gdSgpe3JldHVybih1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gdHx8KHQ9ZS5zbGljZSgwKSksT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfXZhciBsPSJhb2wiLG09InZlcml6b24iLGY9Im9uZW1vYmlsZSIsYj0ib25lZGlzcGxheSIsaD17R0VUOiJkaXNwbGF5LWdldCJ9LHY9e0dFVDoibW9iaWxlLWdldCIsUE9TVDoibW9iaWxlLXBvc3QifSxnPXtUQUc6ImlmcmFtZSIsVFlQRToiaWZyYW1lIn0seT17VEFHOiJpbWciLFRZUEU6ImltYWdlIn0sTz1bImFkc2VydmVyLm9yZyIsImNyaXRlby5jb20iLCJpZDUtc3luYy5jb20iLCJpbnRlbnRpcS5jb20iLCJsaXZlaW50ZW50LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ2ZXJpem9ubWVkaWEuY29tIiwibGl2ZXJhbXAuY29tIl0sUD1JKG58fChuPXAoWyIiLCIvcHViYXBpLzMuMC8iLCIvIiwiLyIsIi8iLCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPSIsIjttaXNjPSIsIjsiLCIiXSkpLCJob3N0IiwibmV0d29yayIsInBsYWNlbWVudCIsInBhZ2VpZCIsInNpemVpZCIsImFsaWFzIiwibWlzYyIsImR5bmFtaWNQYXJhbXMiKSxFPUkoaXx8KGk9cChbIiIsIi9iaWRSZXF1ZXN0PyJdKSksImhvc3QiKSxTPUkoYXx8KGE9cChbImRjbj0iLCImcG9zPSIsIiZjbWQ9YmlkIiwiIl0pKSwiZGNuIiwicG9zIiwiZHluYW1pY1BhcmFtcyIpLFQ9e3VzOiJhZHNlcnZlci11cy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixldToiYWRzZXJ2ZXItZXUuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsYXM6ImFkc2VydmVyLWFzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20ifSx4PSJodHRwcyIsQz0xO2Z1bmN0aW9uIEkoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylyW24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09YXJndW1lbnRzW2ldO3ZhciBhPW5bbi5sZW5ndGgtMV18fHt9LHM9W2VbMF1dO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIGk9by5pc0ludGVnZXIodCk/blt0XTphW3RdO3MucHVzaChpLGVbcisxXSl9KSkscy5qb2luKCIiKX19ZnVuY3Rpb24gUihlKXtyZXR1cm4gZT09PWx8fGU9PT1tfHxlPT09Zn1mdW5jdGlvbiB3KGUpe2lmKFIoZS5iaWRkZXIpJiZlLnBhcmFtcy5pZCYmZS5wYXJhbXMuaW1wJiZlLnBhcmFtcy5pbXBbMF0pe3ZhciB0PWUucGFyYW1zLmltcFswXTtyZXR1cm4gdC5pZCYmdC50YWdpZCYmdC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh9fWZ1bmN0aW9uIFUoZSl7cmV0dXJuIFIoZS5iaWRkZXIpJiZlLnBhcmFtcy5kY24mJmUucGFyYW1zLnBvc31mdW5jdGlvbiBrKGUpe3JldHVybigodD1lLmJpZGRlcik9PT1sfHx0PT09bXx8dD09PWIpJiZlLnBhcmFtcy5wbGFjZW1lbnQmJmUucGFyYW1zLm5ldHdvcms7dmFyIHR9ZnVuY3Rpb24gcShlKXtyZXR1cm4gZS51c2VySWRBc0VpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PU8uaW5kZXhPZihlLnNvdXJjZSl9KSl9dmFyIE09e2NvZGU6bCxndmxpZDoyNSxhbGlhc2VzOltmLGIsbV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gayhlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSl8fHcoZSl9KGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXt9O3JldHVybiB0JiYobi5nZHByPXQuZ2RwckNvbnNlbnQsbi51c3BDb25zZW50PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe3JldHVybiBVKGUpP3YuR0VUOncoZSk/di5QT1NUOmsoZSk/aC5HRVQ6dm9pZCAwfShlKTtpZih0KXJldHVybiByLmZvcm1hdEJpZFJlcXVlc3QodCxlLG4pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtpZihyKXt2YXIgbj10aGlzLl9wYXJzZUJpZFJlc3BvbnNlKHIsdCk7aWYobilyZXR1cm4gbn1lbHNlIG8ubG9nRXJyb3IoIkVtcHR5IGJpZCByZXNwb25zZSIsdC5iaWRkZXJDb2RlLHIpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hby5pc0VtcHR5KHQpJiZ0WzBdLmJvZHk7cmV0dXJuIHImJnIuZXh0JiZyLmV4dC5waXhlbHM/dGhpcy5wYXJzZVBpeGVsSXRlbXMoci5leHQucGl4ZWxzKTpbXX0sZm9ybWF0QmlkUmVxdWVzdDpmdW5jdGlvbihlLHQscil7dmFyIG47c3dpdGNoKGUpe2Nhc2UgaC5HRVQ6bj17dXJsOnRoaXMuYnVpbGRNYXJrZXRwbGFjZVVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6NjB9O2JyZWFrO2Nhc2Ugdi5HRVQ6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVHZXRVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjM2MDB9O2JyZWFrO2Nhc2Ugdi5QT1NUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybCh0KSxtZXRob2Q6IlBPU1QiLHR0bDozNjAwLGRhdGE6dGhpcy5idWlsZE9wZW5SdGJSZXF1ZXN0RGF0YSh0LHIpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjIifX19fXJldHVybiBuLmJpZGRlckNvZGU9dC5iaWRkZXIsbi5iaWRJZD10LmJpZElkLG4udXNlclN5bmNPbj10LnBhcmFtcy51c2VyU3luY09uLG59LGJ1aWxkTWFya2V0cGxhY2VVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPWUucGFyYW1zLGk9bi5zZXJ2ZXIsYT1uLnJlZ2lvbnx8InVzIjtyZXR1cm4gVC5oYXNPd25Qcm9wZXJ0eShhKXx8KG8ubG9nV2FybigiVW5rbm93biByZWdpb24gJyIuY29uY2F0KGEsIicgZm9yIEFPTCBiaWRkZXIuIikpLGE9InVzIikscj1pfHxUW2FdLG4ucmVnaW9uPWEsdGhpcy5hcHBseVByb3RvY29sKFAoe2hvc3Q6cixuZXR3b3JrOm4ubmV0d29yayxwbGFjZW1lbnQ6cGFyc2VJbnQobi5wbGFjZW1lbnQpLHBhZ2VpZDpuLnBhZ2VJZHx8MCxzaXplaWQ6bi5zaXplSWR8fDAsYWxpYXM6bi5hbGlhc3x8by5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksbWlzYzoobmV3IERhdGUpLmdldFRpbWUoKSxkeW5hbWljUGFyYW1zOnRoaXMuZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zKG4sdCl9KSl9LGJ1aWxkT25lTW9iaWxlR2V0VXJsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wYXJhbXMsbj1yLmRjbixpPXIucG9zLGE9ci5leHQ7Im9iamVjdCI9PT1kKGUudXNlcklkKSYmKGE9YXx8e30scShlKS5mb3JFYWNoKChmdW5jdGlvbihlKXthWyJlaWQiK2Uuc291cmNlXT1lLnVpZHNbMF0uaWR9KSkpO3ZhciBvPXRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKGUpO2lmKG4mJmkpe3ZhciBzPXRoaXMuZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtcyhhLHQpO28rPVMoe2RjbjpuLHBvczppLGR5bmFtaWNQYXJhbXM6c30pfXJldHVybiBvfSxidWlsZE9uZU1vYmlsZUJhc2VVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlQcm90b2NvbChFKHtob3N0OmUucGFyYW1zLmhvc3R8fCJjMnNoYi5zc3AueWFob28uY29tIn0pKX0sYXBwbHlQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXmh0dHBzPzpcL1wvL2kudGVzdChlKT9lOjA9PT1lLmluZGV4T2YoIi8vIik/IiIuY29uY2F0KHgsIjoiKS5jb25jYXQoZSk6IiIuY29uY2F0KHgsIjovLyIpLmNvbmNhdChlKX0sZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e307dShyLHRoaXMuZm9ybWF0S2V5VmFsdWVzKGUua2V5VmFsdWVzKSksdShyLHRoaXMuZm9ybWF0Q29uc2VudERhdGEodCkpO3ZhciBuPSIiO3JldHVybiBvLl9lYWNoKHIsKGZ1bmN0aW9uKGUsdCl7bis9IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpLCI7Iil9KSksbn0sZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmlzU2VjdXJlUHJvdG9jb2woKSYmKGUuc2VjdXJlPUMpLHUoZSx0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgcj0iIjtyZXR1cm4gby5fZWFjaChlLChmdW5jdGlvbihlLHQpe3IrPSImIi5jb25jYXQodCwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSkpfSkpLHJ9LGJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXtpZDplLnBhcmFtcy5pZCxpbXA6ZS5wYXJhbXMuaW1wfTtpZih0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQodCkmJihvLmRlZXBTZXRWYWx1ZShyLCJyZWdzLmV4dC5nZHByIixDKSx0LmdkcHIuY29uc2VudFN0cmluZyYmby5kZWVwU2V0VmFsdWUociwidXNlci5leHQuY29uc2VudCIsdC5nZHByLmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJm8uZGVlcFNldFZhbHVlKHIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksIm9iamVjdCI9PT1kKGUudXNlcklkKSl7ci51c2VyPXIudXNlcnx8e30sci51c2VyLmV4dD1yLnVzZXIuZXh0fHx7fTt2YXIgbj1xKGUpO24ubGVuZ3RoPjAmJihyLnVzZXIuZXh0LmVpZHM9bil9cmV0dXJuIHJ9LGlzRVVDb25zZW50UmVxdWlyZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5nZHByJiZlLmdkcHIuZ2RwckFwcGxpZXMpfSxmb3JtYXRLZXlWYWx1ZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIG8uX2VhY2goZSwoZnVuY3Rpb24oZSxyKXt0WyJrdiIuY29uY2F0KHIpXT1lfSkpLHR9LGZvcm1hdENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQoZSkmJih0LmdkcHI9QyxlLmdkcHIuY29uc2VudFN0cmluZyYmKHQuZXVjb25zZW50PWUuZ2Rwci5jb25zZW50U3RyaW5nKSksZS51c3BDb25zZW50JiYodC51c19wcml2YWN5PWUudXNwQ29uc2VudCksdH0scGFyc2VQaXhlbEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciB0PS9cdyooPz1ccykvLHI9L3NyYz0oInwnKSguKj8pXDEvLG49W107aWYoZSl7dmFyIGk9ZS5tYXRjaCgvKGltZ3xpZnJhbWUpW1xzXFNdKj9zcmNccyo9XHMqKCJ8JykoLio/KVwyL2dpKTtpJiZpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWUubWF0Y2godClbMF0sYT1lLm1hdGNoKHIpWzJdO2kmJmEmJm4ucHVzaCh7dHlwZTppPT09eS5UQUc/eS5UWVBFOmcuVFlQRSx1cmw6YX0pfSkpfXJldHVybiBufSxfcGFyc2VCaWRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByLG47dHJ5e3I9ZS5zZWF0YmlkWzBdLmJpZFswXX1jYXRjaChlKXtyZXR1cm59aWYoci5leHQmJnIuZXh0LmVuY3Apbj1yLmV4dC5lbmNwO2Vsc2UgaWYobnVsbD09PShuPXIucHJpY2UpfHxpc05hTihuKSlyZXR1cm4gdm9pZCBvLmxvZ0Vycm9yKCJJbnZhbGlkIHByaWNlIGluIGJpZCByZXNwb25zZSIsbCxyKTtyZXR1cm57YmlkZGVyQ29kZTp0LmJpZGRlckNvZGUscmVxdWVzdElkOnQuYmlkSWQsYWQ6ci5hZG0sY3BtOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsY3JlYXRpdmVJZDpyLmNyaWR8fDAscHViYXBpSWQ6ZS5pZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsZGVhbElkOnIuZGVhbGlkLG5ldFJldmVudWU6ITAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ciYmci5hZG9tYWluP3IuYWRvbWFpbjpbXX0sdHRsOnQudHRsfX0saXNPbmVNb2JpbGVCaWRkZXI6Uixpc1NlY3VyZVByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19O09iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShNKX19LFsyNjNdKTsKdXBianNDaHVuayhbMzA2XSx7MjczOmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSgyNzQpfSwyNzQ6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBSfSkpO3ZhciB0PWEoMTMpLG49YSgwKSxpPWEoMykscz1hKDEpLG89YSgyKSxkPWEoMjMpLHA9YSgxMSksYz1hLm4ocCksdT1hKDEyKSxsPWEubih1KSxtPWEoMjIpLGY9YSg3KTtmdW5jdGlvbiB2KGUpe3JldHVybih2PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geSgpe3JldHVybih5PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBhPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0KSYmKGVbdF09YVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZyhlLHIpO3ZhciBhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PWEmJmUuY29uc3RydWN0b3ImJihhPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1hfHwiU2V0Ij09PWEpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1hfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChhKSlyZXR1cm4gZyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciBhPTAsdD1uZXcgQXJyYXkocik7YTxyO2ErKyl0W2FdPWVbYV07cmV0dXJuIHR9dmFyIGg9ImFwcG5leHVzIixfPSJodHRwczovL2liLmFkbnhzLmNvbS91dC92My9wcmViaWQiLGs9Imh0dHBzOi8vaWIuYWRueHMtc2ltcGxlLmNvbS91dC92My9wcmViaWQiLEk9WyJpZCIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwcGFibGUiLCJwbGF5YmFja19tZXRob2QiLCJmcmFtZXdvcmtzIiwiY29udGV4dCIsInNraXBvZmZzZXQiXSxBPVsibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInNraXAiLCJza2lwYWZ0ZXIiLCJwbGF5YmFja21ldGhvZCIsImFwaSJdLHc9WyJhZ2UiLCJleHRlcm5hbFVpZCIsInNlZ21lbnRzIiwiZ2VuZGVyIiwiZG50IiwibGFuZ3VhZ2UiXSx4PVsiZ2VvIiwiZGV2aWNlX2lkIl0sQz1bImVuYWJsZWQiLCJkb25nbGUiLCJtZW1iZXJfaWQiLCJkZWJ1Z190aW1lb3V0Il0sUz17cGxheWJhY2tfbWV0aG9kOnt1bmtub3duOjAsYXV0b19wbGF5X3NvdW5kX29uOjEsYXV0b19wbGF5X3NvdW5kX29mZjoyLGNsaWNrX3RvX3BsYXk6Myxtb3VzZV9vdmVyOjQsYXV0b19wbGF5X3NvdW5kX3Vua25vd246NX0sY29udGV4dDp7dW5rbm93bjowLHByZV9yb2xsOjEsbWlkX3JvbGw6Mixwb3N0X3JvbGw6MyxvdXRzdHJlYW06NCwiaW4tYmFubmVyIjo1fX0sVD17Ym9keToiZGVzY3JpcHRpb24iLGJvZHkyOiJkZXNjMiIsY3RhOiJjdGF0ZXh0IixpbWFnZTp7c2VydmVyTmFtZToibWFpbl9pbWFnZSIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0saWNvbjp7c2VydmVyTmFtZToiaWNvbiIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0sc3BvbnNvcmVkQnk6InNwb25zb3JlZF9ieSIscHJpdmFjeUxpbms6InByaXZhY3lfbGluayIsc2FsZVByaWNlOiJzYWxlcHJpY2UiLGRpc3BsYXlVcmw6ImRpc3BsYXl1cmwifSxFPS9cL1wvY2RuXC5hZG54c1wuY29tXC92fFwvXC9jZG5cLmFkbnhzXC1zaW1wbGVcLmNvbVwvdi8sTz1PYmplY3QoZi5iKSgzMixoKSxSPXtjb2RlOmgsZ3ZsaWQ6MzIsYWxpYXNlczpbe2NvZGU6ImFwcG5leHVzQXN0IixndmxpZDozMn0se2NvZGU6ImJyZWFsdGltZSJ9LHtjb2RlOiJlbXhkaWdpdGFsIixndmxpZDoxODN9LHtjb2RlOiJwYWdlc2NpZW5jZSJ9LHtjb2RlOiJkZWZ5bWVkaWEifSx7Y29kZToiZ291cm1ldGFkcyJ9LHtjb2RlOiJtYXRvbXkifSx7Y29kZToiZmVhdHVyZWZvcndhcmQifSx7Y29kZToib2Z0bWVkaWEifSx7Y29kZToiZGlzdHJpY3RtIixndmxpZDoxNDR9LHtjb2RlOiJhZGFzdGEifSx7Y29kZToiYmVpbnRvbyIsZ3ZsaWQ6NjE4fV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uZCxvLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5tZW1iZXImJmUucGFyYW1zLmludkNvZGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGE9ZS5tYXAocSksdD1jKCkoZSxNKSxzPXt9OyEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKSYmKHM9e2NvcHBhOiEwfSksdCYmT2JqZWN0LmtleXModC5wYXJhbXMudXNlcikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKHcsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9bi5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUoZSk7aWYoInNlZ21lbnRzIj09PWUmJm4uaXNBcnJheSh0LnBhcmFtcy51c2VyW2VdKSl7dmFyIGE9W107dC5wYXJhbXMudXNlcltlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmlzTnVtYmVyKGUpP2EucHVzaCh7aWQ6ZX0pOm4uaXNQbGFpbk9iamVjdChlKSYmYS5wdXNoKGUpfSkpLHNbcl09YX1lbHNlInNlZ21lbnRzIiE9PWUmJihzW3JdPXQucGFyYW1zLnVzZXJbZV0pfSkpO3ZhciBvLGQ9YygpKGUsQik7ZCYmZC5wYXJhbXMmJmQucGFyYW1zLmFwcCYmKG89e30sT2JqZWN0LmtleXMoZC5wYXJhbXMuYXBwKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoeCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXT1kLnBhcmFtcy5hcHBbZV19KSkpO3ZhciBwLHU9YygpKGUsRik7dSYmdS5wYXJhbXMmJmQucGFyYW1zLmFwcCYmZC5wYXJhbXMuYXBwLmlkJiYocD17YXBwaWQ6dS5wYXJhbXMuYXBwLmlkfSk7dmFyIG09e30sZj17fSx2PU8uZ2V0Q29va2llKCJhcG5fcHJlYmlkX2RlYnVnIil8fG51bGw7aWYodil0cnl7bT1KU09OLnBhcnNlKHYpfWNhdGNoKGUpe24ubG9nRXJyb3IoIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gQ29va2llIEVycm9yOlxuXG4iK2UpfWVsc2V7dmFyIHk9YygpKGUsVik7eSYmeS5kZWJ1ZyYmKG09eS5kZWJ1Zyl9bSYmbS5lbmFibGVkJiZPYmplY3Qua2V5cyhtKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoQyxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmW2VdPW1bZV19KSk7dmFyIGc9YygpKGUsRCksaD1nP3BhcnNlSW50KGcucGFyYW1zLm1lbWJlciwxMCk6MCxJPWVbMF0uc2NoYWluLEE9YygpKGUsVyksUz17dGFnczpiKGEpLHVzZXI6cyxzZGs6e3NvdXJjZToicGJqcyIsdmVyc2lvbjoiNS4xMS4wIn0sc2NoYWluOkl9O2lmKEEmJihTLmlhYl9zdXBwb3J0PXtvbWlkcG46IkFwcG5leHVzIixvbWlkcHY6IjUuMTEuMCJ9KSxoPjAmJihTLm1lbWJlcl9pZD1oKSxkJiYoUy5kZXZpY2U9byksdSYmKFMuYXBwPXApLGkuYi5nZXRDb25maWcoImFkcG9kLmJyYW5kQ2F0ZWdvcnlFeGNsdXNpb24iKSYmKFMuYnJhbmRfY2F0ZWdvcnlfdW5pcXVlbmVzcz0hMCksZi5lbmFibGVkJiYoUy5kZWJ1Zz1mLG4ubG9nSW5mbygiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBTZXR0aW5nczpcblxuIitKU09OLnN0cmluZ2lmeShmLG51bGwsNCkpKSxyJiZyLmdkcHJDb25zZW50JiYoUy5nZHByX2NvbnNlbnQ9e2NvbnNlbnRfc3RyaW5nOnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50X3JlcXVpcmVkOnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9LHIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYtMSE9PXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LmluZGV4T2YoIn4iKSkpe3ZhciBUPXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LEU9VC5zdWJzdHJpbmcoVC5pbmRleE9mKCJ+IikrMSk7Uy5nZHByX2NvbnNlbnQuYWRkdGxfY29uc2VudD1FLnNwbGl0KCIuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KSl9aWYociYmci51c3BDb25zZW50JiYoUy51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyl7dmFyIFI9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpLmpvaW4oIiwiKX07Uy5yZWZlcnJlcl9kZXRlY3Rpb249Un1pZihjKCkoZSxKKSYmZS5maWx0ZXIoSikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXt2YXIgYT1yLm1lZGlhVHlwZXMudmlkZW8sdD1hLmR1cmF0aW9uUmFuZ2VTZWMsaT1hLnJlcXVpcmVFeGFjdER1cmF0aW9uLHM9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFBvZER1cmF0aW9uU2VjLGE9ZS5kdXJhdGlvblJhbmdlU2VjLHQ9ZS5yZXF1aXJlRXhhY3REdXJhdGlvbixpPW4uZ2V0TWluVmFsdWVGcm9tQXJyYXkoYSkscz1NYXRoLmZsb29yKHIvaSk7cmV0dXJuIHQ/TWF0aC5tYXgocyxhLmxlbmd0aCk6c30oci5tZWRpYVR5cGVzLnZpZGVvKSxvPW4uZ2V0TWF4VmFsdWVGcm9tQXJyYXkodCksZD1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZD09PXIuYmlkSWR9KSkscD1uLmZpbGwuYXBwbHkobixiKGQpLmNvbmNhdChbc10pKTtpZihpKXt2YXIgYz1NYXRoLmNlaWwocy90Lmxlbmd0aCksdT1uLmNodW5rKHAsYyk7dC5mb3JFYWNoKChmdW5jdGlvbihlLHIpe3Vbcl0ubWFwKChmdW5jdGlvbihyKXtIKHIsIm1pbmR1cmF0aW9uIixlKSxIKHIsIm1heGR1cmF0aW9uIixlKX0pKX0pKX1lbHNlIHAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gSChlLCJtYXhkdXJhdGlvbiIsbyl9KSk7cmV0dXJuIHB9KGEsZSksdD1TLnRhZ3MuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci51dWlkIT09ZS5iaWRJZH0pKTtTLnRhZ3M9W10uY29uY2F0KGIodCksYihyKSl9KSksZVswXS51c2VySWQpe3ZhciBqPVtdO0soaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmZsb2NJZC5pZCIpLCJjaHJvbWUuY29tIixudWxsKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIixudWxsKSxLKGosbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5uZXRJZCIpLCJuZXRpZC5kZSIsbnVsbCksSyhqLG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQuaWRsX2VudiIpLCJsaXZlcmFtcC5jb20iLG51bGwpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpLEsoaixuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIsIlVJRDIiKSxqLmxlbmd0aCYmKFMuZWlkcz1qKX1yZXR1cm4gYVswXS5wdWJsaXNoZXJfaWQmJihTLnB1Ymxpc2hlcl9pZD1hWzBdLnB1Ymxpc2hlcl9pZCksZnVuY3Rpb24oZSxyKXt2YXIgYT1bXSx0PXt3aXRoQ3JlZGVudGlhbHM6ITB9LHM9XztOKHIpfHwocz1rKTsiVFJVRSIhPT1uLmdldFBhcmFtZXRlckJ5TmFtZSgiYXBuX3Rlc3QiKS50b1VwcGVyQ2FzZSgpJiYhMCE9PWkuYi5nZXRDb25maWcoImFwbl90ZXN0Iil8fCh0LmN1c3RvbUhlYWRlcnM9eyJYLUlzLVRlc3QiOjF9KTtpZihlLnRhZ3MubGVuZ3RoPjE1KXt2YXIgbz1uLmRlZXBDbG9uZShlKTtuLmNodW5rKGUudGFncywxNSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by50YWdzPWU7dmFyIG49SlNPTi5zdHJpbmdpZnkobyk7YS5wdXNoKHttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6bixiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczp0fSl9KSl9ZWxzZXt2YXIgZD1KU09OLnN0cmluZ2lmeShlKTthPXttZXRob2Q6IlBPU1QiLHVybDpzLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0OnIsb3B0aW9uczp0fX1yZXR1cm4gYX0oUyxyKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgYT10aGlzLGk9ci5iaWRkZXJSZXF1ZXN0O2U9ZS5ib2R5O3ZhciBkPVtdO2lmKCFlfHxlLmVycm9yKXt2YXIgcD0iaW4gcmVzcG9uc2UgZm9yICIuY29uY2F0KGkuYmlkZGVyQ29kZSwiIGFkYXB0ZXIiKTtyZXR1cm4gZSYmZS5lcnJvciYmKHArPSI6ICIuY29uY2F0KGUuZXJyb3IpKSxuLmxvZ0Vycm9yKHApLGR9aWYoZS50YWdzJiZlLnRhZ3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHIscD0ocj1lKSYmci5hZHMmJnIuYWRzLmxlbmd0aCYmYygpKHIuYWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydGJ9KSk7aWYocCYmMCE9PXAuY3BtJiZsKCkoYS5zdXBwb3J0ZWRNZWRpYVR5cGVzLHAuYWRfdHlwZSkpe3ZhciB1PWZ1bmN0aW9uKGUscixhKXt2YXIgaT1uLmdldEJpZFJlcXVlc3QoZS51dWlkLFthXSksZD17cmVxdWVzdElkOmUudXVpZCxjcG06ci5jcG0sY3JlYXRpdmVJZDpyLmNyZWF0aXZlX2lkLGRlYWxJZDpyLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkVW5pdENvZGU6aS5hZFVuaXRDb2RlLGFwcG5leHVzOntidXllck1lbWJlcklkOnIuYnV5ZXJfbWVtYmVyX2lkLGRlYWxQcmlvcml0eTpyLmRlYWxfcHJpb3JpdHksZGVhbENvZGU6ci5kZWFsX2NvZGV9fTtyLmFkb21haW4mJihkLm1ldGE9eSh7fSxkLm1ldGEse2FkdmVydGlzZXJEb21haW5zOltdfSkpO3IuYWR2ZXJ0aXNlcl9pZCYmKGQubWV0YT15KHt9LGQubWV0YSx7YWR2ZXJ0aXNlcklkOnIuYWR2ZXJ0aXNlcl9pZH0pKTtpZihyLnJ0Yi52aWRlbyl7c3dpdGNoKHkoZCx7d2lkdGg6ci5ydGIudmlkZW8ucGxheWVyX3dpZHRoLGhlaWdodDpyLnJ0Yi52aWRlby5wbGF5ZXJfaGVpZ2h0LHZhc3RJbXBVcmw6ci5ub3RpZnlfdXJsLHR0bDozNjAwfSksbi5kZWVwQWNjZXNzKGksIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXtjYXNlIG8uYTp2YXIgcD1PYmplY3Qocy5nZXRJYWJTdWJDYXRlZ29yeSkoaS5iaWRkZXIsci5icmFuZF9jYXRlZ29yeV9pZCk7ZC5tZXRhPXkoe30sZC5tZXRhLHtwcmltYXJ5Q2F0SWQ6cH0pO3ZhciB1PXIuZGVhbF9wcmlvcml0eTtkLnZpZGVvPXtjb250ZXh0Om8uYSxkdXJhdGlvblNlY29uZHM6TWF0aC5mbG9vcihyLnJ0Yi52aWRlby5kdXJhdGlvbl9tcy8xZTMpLGRlYWxUaWVyOnV9LGQudmFzdFVybD1yLnJ0Yi52aWRlby5hc3NldF91cmw7YnJlYWs7Y2FzZSBtLmI6aWYoZC5hZFJlc3BvbnNlPWUsZC5hZFJlc3BvbnNlLmFkPWQuYWRSZXNwb25zZS5hZHNbMF0sZC5hZFJlc3BvbnNlLmFkLnZpZGVvPWQuYWRSZXNwb25zZS5hZC5ydGIudmlkZW8sZC52YXN0WG1sPXIucnRiLnZpZGVvLmNvbnRlbnQsci5yZW5kZXJlcl91cmwpe3ZhciBsPWMoKShhLmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZS51dWlkfSkpLGY9bi5kZWVwQWNjZXNzKGwsInJlbmRlcmVyLm9wdGlvbnMiKTtkLnJlbmRlcmVyPWZ1bmN0aW9uKGUscil7dmFyIGE9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9dC5hLmluc3RhbGwoe2lkOnIucmVuZGVyZXJfaWQsdXJsOnIucmVuZGVyZXJfdXJsLGNvbmZpZzphLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7aS5zZXRSZW5kZXIoTCl9Y2F0Y2goZSl7bi5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2dNZXNzYWdlKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5sb2dNZXNzYWdlKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7bi5sb2dNZXNzYWdlKCJBcHBOZXh1cyBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIi5jb25jYXQoZSkpLnN0eWxlLmRpc3BsYXk9Im5vbmUifX0pLGl9KGQuYWRVbml0Q29kZSxyLGYpfWJyZWFrO2Nhc2UgbS5hOmQudmFzdFVybD1yLm5vdGlmeV91cmwrIiZyZWRpcj0iK2VuY29kZVVSSUNvbXBvbmVudChyLnJ0Yi52aWRlby5hc3NldF91cmwpfX1lbHNlIGlmKHIucnRiW28uY10pe3ZhciB2PXIucnRiW28uY10sYj1yLnZpZXdhYmlsaXR5LmNvbmZpZy5yZXBsYWNlKCJzcmM9IiwiZGF0YS1zcmM9IiksZz12LmphdmFzY3JpcHRfdHJhY2tlcnM7bnVsbD09Zz9nPWI6bi5pc1N0cihnKT9nPVtnLGJdOmcucHVzaChiKSxkW28uY109e3RpdGxlOnYudGl0bGUsYm9keTp2LmRlc2MsYm9keTI6di5kZXNjMixjdGE6di5jdGF0ZXh0LHJhdGluZzp2LnJhdGluZyxzcG9uc29yZWRCeTp2LnNwb25zb3JlZCxwcml2YWN5TGluazp2LnByaXZhY3lfbGluayxhZGRyZXNzOnYuYWRkcmVzcyxkb3dubG9hZHM6di5kb3dubG9hZHMsbGlrZXM6di5saWtlcyxwaG9uZTp2LnBob25lLHByaWNlOnYucHJpY2Usc2FsZVByaWNlOnYuc2FsZXByaWNlLGNsaWNrVXJsOnYubGluay51cmwsZGlzcGxheVVybDp2LmRpc3BsYXl1cmwsY2xpY2tUcmFja2Vyczp2LmxpbmsuY2xpY2tfdHJhY2tlcnMsaW1wcmVzc2lvblRyYWNrZXJzOnYuaW1wcmVzc2lvbl90cmFja2VycyxqYXZhc2NyaXB0VHJhY2tlcnM6Z30sdi5tYWluX2ltZyYmKGQubmF0aXZlLmltYWdlPXt1cmw6di5tYWluX2ltZy51cmwsaGVpZ2h0OnYubWFpbl9pbWcuaGVpZ2h0LHdpZHRoOnYubWFpbl9pbWcud2lkdGh9KSx2Lmljb24mJihkLm5hdGl2ZS5pY29uPXt1cmw6di5pY29uLnVybCxoZWlnaHQ6di5pY29uLmhlaWdodCx3aWR0aDp2Lmljb24ud2lkdGh9KX1lbHNle3koZCx7d2lkdGg6ci5ydGIuYmFubmVyLndpZHRoLGhlaWdodDpyLnJ0Yi5iYW5uZXIuaGVpZ2h0LGFkOnIucnRiLmJhbm5lci5jb250ZW50fSk7dHJ5e2lmKHIucnRiLnRyYWNrZXJzKXt2YXIgaD1yLnJ0Yi50cmFja2Vyc1swXS5pbXByZXNzaW9uX3VybHNbMF0sXz1uLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGgpO2QuYWQrPV99fWNhdGNoKGUpe24ubG9nRXJyb3IoIkVycm9yIGFwcGVuZGluZyB0cmFja2luZyBwaXhlbCIsZSl9fXJldHVybiBkfShlLHAsaSk7dS5tZWRpYVR5cGU9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZF90eXBlO3JldHVybiByPT09by5kP28uZDpyPT09by5jP28uYzpvLmJ9KHApLGQucHVzaCh1KX19KSksZS5kZWJ1ZyYmZS5kZWJ1Zy5kZWJ1Z19pbmZvKXt2YXIgdT0iQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBmb3IgUHJlYmlkXG5cbiIrZS5kZWJ1Zy5kZWJ1Z19pbmZvO3U9dS5yZXBsYWNlKC8oPHRkPnw8dGg+KS9nbSwiXHQiKS5yZXBsYWNlKC8oPFwvdGQ+fDxcL3RoPikvZ20sIlxuIikucmVwbGFjZSgvXjxicj4vZ20sIiIpLnJlcGxhY2UoLyg8YnI+XG58PGJyPikvZ20sIlxuIikucmVwbGFjZSgvPGgxPiguKik8XC9oMT4vZ20sIlxuXG49PT09PSAkMSA9PT09PVxuXG4iKS5yZXBsYWNlKC88aFsyLTZdPiguKik8XC9oWzItNl0+L2dtLCJcblxuKioqICQxICoqKlxuXG4iKS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naW0sIiIpLG4ubG9nTWVzc2FnZSgiaHR0cHM6Ly9jb25zb2xlLmFwcG5leHVzLmNvbS9kb2NzL3VuZGVyc3RhbmRpbmctdGhlLWRlYnVnLWF1Y3Rpb24iKSxuLmxvZ01lc3NhZ2UodSl9cmV0dXJuIGR9LGdldE1hcHBpbmdGaWxlSW5mbzpmdW5jdGlvbigpe3JldHVybnt1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy1zaW1wbGUuY29tL3ByZWJpZC9hcHBuZXh1cy1tYXBwaW5nL21hcHBpbmdzLmpzb24iLHJlZnJlc2hJbkRheXM6Mn19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsYSl7aWYoZS5pZnJhbWVFbmFibGVkJiZOKHtnZHByQ29uc2VudDphfSkpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS9kbXAvYXN5bmNfdXNlcnN5bmMuaHRtbCJ9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIGU9bi5jb252ZXJ0VHlwZXMoe21lbWJlcjoic3RyaW5nIixpbnZDb2RlOiJzdHJpbmciLHBsYWNlbWVudElkOiJudW1iZXIiLGtleXdvcmRzOm4udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyxwdWJsaXNoZXJJZDoibnVtYmVyIn0sZSksciYmKGUudXNlX3BtdF9ydWxlPSJib29sZWFuIj09dHlwZW9mIGUudXNlUGF5bWVudFJ1bGUmJmUudXNlUGF5bWVudFJ1bGUsZS51c2VQYXltZW50UnVsZSYmZGVsZXRlIGUudXNlUGF5bWVudFJ1bGUsaihlLmtleXdvcmRzKSYmZS5rZXl3b3Jkcy5mb3JFYWNoKFApLE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBhPW4uY29udmVydENhbWVsVG9VbmRlcnNjb3JlKHIpO2EhPT1yJiYoZVthXT1lW3JdLGRlbGV0ZSBlW3JdKX0pKSksZX0sb25CaWRXb246ZnVuY3Rpb24oZSl7ZS5uYXRpdmUmJmZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByO2lmKG4uaXNTdHIoZSkmJlUoZSkpcj1lO2Vsc2UgaWYobi5pc0FycmF5KGUpKWZvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgdD1lW2FdO1UodCkmJihyPXQpfXJldHVybiByfShlLm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpO2lmKHIpZm9yKHZhciBhPSJwYmpzX2FkaWQ9IitlLmFkSWQrIjtwYmpzX2F1Yz0iK2UuYWRVbml0Q29kZSx0PWZ1bmN0aW9uKGUpe3ZhciByPWUuaW5kZXhPZignc3JjPSInKSs1LGE9ZS5pbmRleE9mKCciJyxyKTtyZXR1cm4gZS5zdWJzdHJpbmcocixhKX0ociksaT10LnJlcGxhY2UoImRvbV9pZD0lbmF0aXZlX2RvbV9pZCUiLGEpLHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLG89ITEsZD0wO2Q8cy5sZW5ndGgmJiFvO2QrKyl7dmFyIHA9c1tkXTt0cnl7dmFyIGM9cC5jb250ZW50RG9jdW1lbnR8fHAuY29udGVudFdpbmRvdy5kb2N1bWVudDtpZihjKWZvcih2YXIgdT1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxsPTA7bDx1Lmxlbmd0aCYmIW87bCsrKXt2YXIgbT11W2xdO20uZ2V0QXR0cmlidXRlKCJkYXRhLXNyYyIpPT10JiYobS5zZXRBdHRyaWJ1dGUoInNyYyIsaSksbS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwiIiksbS5yZW1vdmVBdHRyaWJ1dGUmJm0ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXNyYyIpLG89ITApfX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJiJTZWN1cml0eUVycm9yIj09PWUubmFtZSkpdGhyb3cgZX19fShlKX19O2Z1bmN0aW9uIGooZSl7cmV0dXJuISEobi5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKX1mdW5jdGlvbiBQKGUpe2ooZS52YWx1ZSkmJiIiPT09ZS52YWx1ZVswXSYmZGVsZXRlIGUudmFsdWV9ZnVuY3Rpb24gVShlKXt2YXIgcj1lLm1hdGNoKEUpLGE9bnVsbCE9ciYmci5sZW5ndGg+PTEsdD1lLm1hdGNoKCJ0cmsuanMiKSxuPW51bGwhPXQmJnQubGVuZ3RoPj0xO3JldHVybiBlLnN0YXJ0c1dpdGgoIjxzY3JpcHQiKSYmbiYmYX1mdW5jdGlvbiBOKGUpe3ZhciByPSEwO3JldHVybiBlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uJiYocj0hKCEwIT09bi5kZWVwQWNjZXNzKGUuZ2RwckNvbnNlbnQsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxyfWZ1bmN0aW9uIHEoZSl7dmFyIHI9e307ci5zaXplcz16KGUuc2l6ZXMpLHIucHJpbWFyeV9zaXplPXIuc2l6ZXNbMF0sci5hZF90eXBlcz1bXSxyLnV1aWQ9ZS5iaWRJZCxlLnBhcmFtcy5wbGFjZW1lbnRJZD9yLmlkPXBhcnNlSW50KGUucGFyYW1zLnBsYWNlbWVudElkLDEwKTpyLmNvZGU9ZS5wYXJhbXMuaW52Q29kZSxyLmFsbG93X3NtYWxsZXJfc2l6ZXM9ZS5wYXJhbXMuYWxsb3dTbWFsbGVyU2l6ZXN8fCExLHIudXNlX3BtdF9ydWxlPWUucGFyYW1zLnVzZVBheW1lbnRSdWxlfHwhMSxyLnByZWJpZD0hMCxyLmRpc2FibGVfcHNhPSEwO3ZhciBhPWZ1bmN0aW9uKGUpe2lmKCFuLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLnJlc2VydmU/ZS5wYXJhbXMucmVzZXJ2ZTpudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihuLmlzUGxhaW5PYmplY3QocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKTtpZihhJiYoci5yZXNlcnZlPWEpLGUucGFyYW1zLnBvc2l0aW9uJiYoci5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVtlLnBhcmFtcy5wb3NpdGlvbl18fDApLGUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYoci50cmFmZmljX3NvdXJjZV9jb2RlPWUucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxlLnBhcmFtcy5wcml2YXRlU2l6ZXMmJihyLnByaXZhdGVfc2l6ZXM9eihlLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxlLnBhcmFtcy5zdXBwbHlUeXBlJiYoci5zdXBwbHlfdHlwZT1lLnBhcmFtcy5zdXBwbHlUeXBlKSxlLnBhcmFtcy5wdWJDbGljayYmKHIucHViY2xpY2s9ZS5wYXJhbXMucHViQ2xpY2spLGUucGFyYW1zLmV4dEludkNvZGUmJihyLmV4dF9pbnZfY29kZT1lLnBhcmFtcy5leHRJbnZDb2RlKSxlLnBhcmFtcy5wdWJsaXNoZXJJZCYmKHIucHVibGlzaGVyX2lkPXBhcnNlSW50KGUucGFyYW1zLnB1Ymxpc2hlcklkLDEwKSksZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCYmKHIuZXh0ZXJuYWxfaW1wX2lkPWUucGFyYW1zLmV4dGVybmFsSW1wSWQpLCFuLmlzRW1wdHkoZS5wYXJhbXMua2V5d29yZHMpKXt2YXIgdD1uLnRyYW5zZm9ybUJpZGRlclBhcmFtS2V5d29yZHMoZS5wYXJhbXMua2V5d29yZHMpO3QubGVuZ3RoPjAmJnQuZm9yRWFjaChQKSxyLmtleXdvcmRzPXR9dmFyIGkscyxwPW4uZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2lmKHAmJihyLmdwaWQ9cCksKGUubWVkaWFUeXBlPT09by5jfHxuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmMpKSkmJihyLmFkX3R5cGVzLnB1c2goby5jKSwwPT09ci5zaXplcy5sZW5ndGgmJihyLnNpemVzPXooWzEsMV0pKSxlLm5hdGl2ZVBhcmFtcykpe3ZhciB1PShpPWUubmF0aXZlUGFyYW1zLHM9e30sT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9VFtlXSYmVFtlXS5zZXJ2ZXJOYW1lfHxUW2VdfHxlLGE9VFtlXSYmVFtlXS5yZXF1aXJlZFBhcmFtcztpZihzW3JdPXkoe30sYSxpW2VdKSwocj09PVQuaW1hZ2Uuc2VydmVyTmFtZXx8cj09PVQuaWNvbi5zZXJ2ZXJOYW1lKSYmc1tyXS5zaXplcyl7dmFyIHQ9c1tyXS5zaXplczsobi5pc0FycmF5T2ZOdW1zKHQpfHxuLmlzQXJyYXkodCkmJnQubGVuZ3RoPjAmJnQuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBuLmlzQXJyYXlPZk51bXMoZSl9KSkpJiYoc1tyXS5zaXplcz16KHNbcl0uc2l6ZXMpKX1yPT09VC5wcml2YWN5TGluayYmKHMucHJpdmFjeV9zdXBwb3J0ZWQ9ITApfSkpLHMpO3Jbby5jXT17bGF5b3V0czpbdV19fXZhciBtPW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uZCkpLGY9bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3IuaGJfc291cmNlPW0mJiJhZHBvZCI9PT1mPzc6MSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0pJiZyLmFkX3R5cGVzLnB1c2goby5kKSwoZS5tZWRpYVR5cGU9PT1vLmR8fG0mJiJvdXRzdHJlYW0iIT09ZikmJihyLnJlcXVpcmVfYXNzZXRfdXJsPSEwKSxlLnBhcmFtcy52aWRlbyYmKHIudmlkZW89e30sT2JqZWN0LmtleXMoZS5wYXJhbXMudmlkZW8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShJLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlImNvbnRleHQiOmNhc2UicGxheWJhY2tfbWV0aG9kIjp2YXIgdD1lLnBhcmFtcy52aWRlb1thXTt0PW4uaXNBcnJheSh0KT90WzBdOnQsci52aWRlb1thXT1TW2FdW3RdO2JyZWFrO2Nhc2UiZnJhbWV3b3JrcyI6YnJlYWs7ZGVmYXVsdDpyLnZpZGVvW2FdPWUucGFyYW1zLnZpZGVvW2FdfX0pKSxlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzJiZuLmlzQXJyYXkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykmJihyLnZpZGVvX2ZyYW1ld29ya3M9ZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykpLG0mJihyLnZpZGVvPXIudmlkZW98fHt9LE9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShBLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIm1pbmR1cmF0aW9uIjpjYXNlIm1heGR1cmF0aW9uIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW9bZV0mJihyLnZpZGVvW2VdPW1bZV0pO2JyZWFrO2Nhc2Uic2tpcCI6ImJvb2xlYW4iIT10eXBlb2Ygci52aWRlby5za2lwcGFibGUmJihyLnZpZGVvLnNraXBwYWJsZT0xPT09bVtlXSk7YnJlYWs7Y2FzZSJza2lwYWZ0ZXIiOiJudW1iZXIiIT10eXBlb2Ygci52aWRlby5za2lwb2Zmc2V0JiYoci52aWRlby5za2lwcG9mZnNldD1tW2VdKTticmVhaztjYXNlInBsYXliYWNrbWV0aG9kIjppZigibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8ucGxheWJhY2tfbWV0aG9kKXt2YXIgYT1tW2VdOyhhPW4uaXNBcnJheShhKT9hWzBdOmEpPj0xJiZhPD00JiYoci52aWRlby5wbGF5YmFja19tZXRob2Q9YSl9YnJlYWs7Y2FzZSJhcGkiOmlmKCFyLnZpZGVvX2ZyYW1ld29ya3MmJm4uaXNBcnJheShtW2VdKSl7dmFyIHQ9bVtlXS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPTQ9PT1lPzU6NT09PWU/NDplO2lmKHI+PTEmJnI8PTUpcmV0dXJuIHJ9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKTtyLnZpZGVvX2ZyYW1ld29ya3M9dH19fSkpKSxlLnJlbmRlcmVyJiYoci52aWRlbz15KHt9LHIudmlkZW8se2N1c3RvbV9yZW5kZXJlcl9wcmVzZW50OiEwfSkpLGUucGFyYW1zLmZyYW1ld29ya3MmJm4uaXNBcnJheShlLnBhcmFtcy5mcmFtZXdvcmtzKSYmKHIuYmFubmVyX2ZyYW1ld29ya3M9ZS5wYXJhbXMuZnJhbWV3b3Jrcyk7dmFyIHY9YygpKGQuYS5nZXRBZFVuaXRzKCksKGZ1bmN0aW9uKHIpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yLnRyYW5zYWN0aW9uSWR9KSk7cmV0dXJuIHYmJnYubWVkaWFUeXBlcyYmdi5tZWRpYVR5cGVzLmJhbm5lciYmci5hZF90eXBlcy5wdXNoKG8uYiksMD09PXIuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgci5hZF90eXBlcyxyfWZ1bmN0aW9uIHooZSl7dmFyIHI9W10sYT17fTtpZihuLmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmIW4uaXNBcnJheShlWzBdKSlhLndpZHRoPXBhcnNlSW50KGVbMF0sMTApLGEuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApLHIucHVzaChhKTtlbHNlIGlmKCJvYmplY3QiPT09dihlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTsoYT17fSkud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksYS5oZWlnaHQ9cGFyc2VJbnQoaVsxXSwxMCksci5wdXNoKGEpfXJldHVybiByfWZ1bmN0aW9uIE0oZSl7cmV0dXJuISFlLnBhcmFtcy51c2VyfWZ1bmN0aW9uIEQoZSl7cmV0dXJuISFwYXJzZUludChlLnBhcmFtcy5tZW1iZXIsMTApfWZ1bmN0aW9uIEIoZSl7aWYoZS5wYXJhbXMpcmV0dXJuISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gRihlKXtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLmFwcD8hIWUucGFyYW1zLmFwcC5pZDohIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBWKGUpe3JldHVybiEhZS5kZWJ1Z31mdW5jdGlvbiBKKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ9PT1vLmF9ZnVuY3Rpb24gVyhlKXt2YXIgcj0hMSxhPWUucGFyYW1zLHQ9ZS5wYXJhbXMudmlkZW87cmV0dXJuIGEuZnJhbWV3b3JrcyYmbi5pc0FycmF5KGEuZnJhbWV3b3JrcykmJihyPWwoKShlLnBhcmFtcy5mcmFtZXdvcmtzLDYpKSwhciYmdCYmdC5mcmFtZXdvcmtzJiZuLmlzQXJyYXkodC5mcmFtZXdvcmtzKSYmKHI9bCgpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MsNikpLHJ9ZnVuY3Rpb24gSChlLHIsYSl7bi5pc0VtcHR5KGUudmlkZW8pJiYoZS52aWRlbz17fSksZS52aWRlb1tyXT1hfWZ1bmN0aW9uIEwoZSl7dmFyIHIsYTtyPWUuYWRVbml0Q29kZSwoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKS5xdWVyeVNlbGVjdG9yQWxsKCJkaXZbaWRePSdnb29nbGVfYWRzJ10iKSlbMF0mJmFbMF0uc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiksZnVuY3Rpb24oZSl7dHJ5e3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdFtpZF49J3Nhc19zY3JpcHQnXSIpO3JbMF0ubmV4dFNpYmxpbmcmJiJpZnJhbWUiPT09clswXS5uZXh0U2libGluZy5sb2NhbE5hbWUmJnJbMF0ubmV4dFNpYmxpbmcuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9Y2F0Y2goZSl7fX0oZS5hZFVuaXRDb2RlKSxlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhZ0lkOmUuYWRSZXNwb25zZS50YWdfaWQsc2l6ZXM6W2UuZ2V0U2l6ZSgpLnNwbGl0KCJ4IildLHRhcmdldElkOmUuYWRVbml0Q29kZSx1dWlkOmUuYWRSZXNwb25zZS51dWlkLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSwkLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gJChlLHIsYSl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTphfSl9ZnVuY3Rpb24gSyhlLHIsYSx0KXtyZXR1cm4gciYmKHQ/ZS5wdXNoKHtzb3VyY2U6YSxpZDpyLHJ0aV9wYXJ0bmVyOnR9KTplLnB1c2goe3NvdXJjZTphLGlkOnJ9KSksZX1PYmplY3Qocy5yZWdpc3RlckJpZGRlcikoUil9fSxbMjczXSk7CnVwYmpzQ2h1bmsoWzI4N10sezMxNTpmdW5jdGlvbih0LGUscil7dC5leHBvcnRzPXIoMzE2KX0sMzE2OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChlLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgaT1yKDApLG49cigxKSxvPXIoMiksZD1yKDMpO2Z1bmN0aW9uIGEodCl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHR9KSh0KX12YXIgdT0iYnJpZ2h0Y29tIixzPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbih0KXtpZih0LmJpZGRlciE9PXV8fHZvaWQgMD09PXQucGFyYW1zKXJldHVybiExO2lmKHZvaWQgMD09PXQucGFyYW1zLnB1Ymxpc2hlcklkKXJldHVybiExO3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKHQsZSl7dHJ5e3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJihyPWUucmVmZXJlckluZm8ucmVmZXJlcik7dmFyIG49W10sbz1pLmdldEJpZElkUGFyYW1ldGVyKCJwdWJsaXNoZXJJZCIsdFswXS5wYXJhbXMpO2kuX2VhY2godCwoZnVuY3Rpb24odCl7dmFyIGU9dC5tZWRpYVR5cGVzJiZ0Lm1lZGlhVHlwZXMuYmFubmVyJiZ0Lm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHx0LnNpemVzLHI9KGU9KGU9aS5pc0FycmF5KGUpJiZpLmlzQXJyYXkoZVswXSk/ZTpbZV0pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGkuaXNBcnJheSh0KX0pKSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm57dzpwYXJzZUludCh0WzBdLDEwKSxoOnBhcnNlSW50KHRbMV0sMTApfX0pKSxvPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuYWRVbml0Q29kZSksZD1yLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gZS5oKmUudzx0LmgqdC53P2U6dH0pKSxhPWZ1bmN0aW9uKHQpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gaS5nZXRXaW5kb3dTZWxmKCkhPT1pLmdldFdpbmRvd1RvcCgpfWNhdGNoKHQpe3JldHVybiEwfX0oKSYmbnVsbCE9PXR9KG8pP2Z1bmN0aW9uKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LG89ci5oO3JldHVybiJ2aXNpYmxlIj09PWkuZ2V0V2luZG93VG9wKCkuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2ModCxlLHt3Om4saDpvfSk6MH0obyxpLmdldFdpbmRvd1RvcCgpLGQpOiJuYSIsdT1pc05hTihhKT9hOk1hdGgucm91bmQoYSkscz17aWQ6dC5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpyLGV4dDp7dmlld2FiaWxpdHk6dX19LHRhZ2lkOlN0cmluZyh0LmFkVW5pdENvZGUpfSxwPWZ1bmN0aW9uKHQpe2lmKCFpLmlzRm4odC5nZXRGbG9vcikpcmV0dXJuIHQucGFyYW1zLmJpZEZsb29yP3QucGFyYW1zLmJpZEZsb29yOm51bGw7dmFyIGU9dC5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKGkuaXNQbGFpbk9iamVjdChlKSYmIWlzTmFOKGUuZmxvb3IpJiYiVVNEIj09PWUuY3VycmVuY3kpcmV0dXJuIGUuZmxvb3I7cmV0dXJuIG51bGx9KHQpO3AmJihzLmJpZGZsb29yPXApLG4ucHVzaChzKX0pKTt2YXIgYT17aWQ6aS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksaW1wOm4sc2l0ZTp7ZG9tYWluOmkucGFyc2VVcmwocikuaG9zdCxwYWdlOnIscHVibGlzaGVyOntpZDpvfX0sZGV2aWNlOntkZXZpY2V0eXBlOi8oaW9zfGlwb2R8aXBhZHxpcGhvbmV8YW5kcm9pZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpPzE6LyhzbWFydFstXT90dnxoYmJ0dnxhcHBsZXR2fGdvb2dsZXR2fGhkbWl8bmV0Y2FzdFwudHZ8dmllcmF8bmV0dHZ8cm9rdXxcYmR0dlxifHNvbnlkdHZ8aW5ldHR2YnJvd3NlcnxcYnR2XGIpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8zOjIsdzpzY3JlZW4ud2lkdGgsaDpzY3JlZW4uaGVpZ2h0fSx0bWF4OmQuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX07cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJihpLmRlZXBTZXRWYWx1ZShhLCJyZWdzLmV4dC5nZHByIiwrZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyksaS5kZWVwU2V0VmFsdWUoYSwidXNlci5leHQuY29uc2VudCIsZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2JyaWdodGNvbWJpZC5tYXJwaGV6aXMuY29tL2hiIixkYXRhOkpTT04uc3RyaW5naWZ5KGEpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITF9fX1jYXRjaChyKXtpLmxvZ0Vycm9yKHIse2JpZFJlcXM6dCxiaWRkZXJSZXF1ZXN0OmV9KX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHQpe2lmKCF0LmJvZHl8fCJvYmplY3QiIT1hKHQuYm9keSkpcmV0dXJuIGkubG9nV2FybigiQnJpZ2h0Y29tIHNlcnZlciByZXR1cm5lZCBlbXB0eS9ub24tanNvbiByZXNwb25zZTogIitKU09OLnN0cmluZ2lmeSh0LmJvZHkpKSxbXTt2YXIgZT10LmJvZHkscj1lLmlkLG49ZS5zZWF0YmlkO3RyeXt2YXIgZD1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKHQpe2QucHVzaCh7cmVxdWVzdElkOnQuaW1waWQsY3BtOnBhcnNlRmxvYXQodC5wcmljZSksd2lkdGg6cGFyc2VJbnQodC53KSxoZWlnaHQ6cGFyc2VJbnQodC5oKSxjcmVhdGl2ZUlkOnQuY3JpZHx8dC5pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTpvLmIsYWQ6cCh0KSx0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6dCYmdC5hZG9tYWluP3QuYWRvbWFpbjpbXX19KX0pKSxkfWNhdGNoKHQpe2kubG9nRXJyb3IodCx7aWQ6cixzZWF0YmlkOm59KX19LGdldFVzZXJTeW5jczpmdW5jdGlvbih0LGUscil7cmV0dXJuW119fTtmdW5jdGlvbiBwKHQpe3ZhciBlPXQuYWRtO3JldHVybiJudXJsImluIHQmJihlKz1pLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKHQubnVybCkpLGV9ZnVuY3Rpb24gaCh0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1lLncsaT1lLmgsbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89bi53aWR0aCxkPW4uaGVpZ2h0LGE9bi5sZWZ0LHU9bi50b3Ascz1uLnJpZ2h0LHA9bi5ib3R0b207cmV0dXJuKDA9PT1vfHwwPT09ZCkmJnImJmkmJihvPXIsZD1pLHM9YStyLHA9dStpKSx7d2lkdGg6byxoZWlnaHQ6ZCxsZWZ0OmEsdG9wOnUscmlnaHQ6cyxib3R0b206cH19ZnVuY3Rpb24gbCh0KXtmb3IodmFyIGU9e2xlZnQ6dFswXS5sZWZ0LHJpZ2h0OnRbMF0ucmlnaHQsdG9wOnRbMF0udG9wLGJvdHRvbTp0WzBdLmJvdHRvbX0scj0xO3I8dC5sZW5ndGg7KytyKXtpZihlLmxlZnQ9TWF0aC5tYXgoZS5sZWZ0LHRbcl0ubGVmdCksZS5yaWdodD1NYXRoLm1pbihlLnJpZ2h0LHRbcl0ucmlnaHQpLGUubGVmdD49ZS5yaWdodClyZXR1cm4gbnVsbDtpZihlLnRvcD1NYXRoLm1heChlLnRvcCx0W3JdLnRvcCksZS5ib3R0b209TWF0aC5taW4oZS5ib3R0b20sdFtyXS5ib3R0b20pLGUudG9wPj1lLmJvdHRvbSlyZXR1cm4gbnVsbH1yZXR1cm4gZS53aWR0aD1lLnJpZ2h0LWUubGVmdCxlLmhlaWdodD1lLmJvdHRvbS1lLnRvcCxlfWZ1bmN0aW9uIGModCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30saT1yLncsbj1yLmgsbz1oKHQse3c6aSxoOm59KSxkPWwoW3tsZWZ0OjAsdG9wOjAscmlnaHQ6ZS5pbm5lcldpZHRoLGJvdHRvbTplLmlubmVySGVpZ2h0fSxvXSk7cmV0dXJuIG51bGwhPT1kP2Qud2lkdGgqZC5oZWlnaHQvKG8ud2lkdGgqby5oZWlnaHQpKjEwMDowfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShzKX19LFszMTVdKTsKdXBianNDaHVuayhbMjc0XSx7MzQ1OmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSgzNDYpfSwzNDY6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKHQsImFsbG93QXVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksZS5kKHQsInVzZXJDTVAiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLGUuZCh0LCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksZS5kKHQsImdkcHJTY29wZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksZS5kKHQsInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSx0LnJlcXVlc3RCaWRzSG9vaz1ELHQucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe0M9dm9pZCAwLGY9dm9pZCAwLGI9MCxpLmdkcHJEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShudWxsKX0sdC5zZXRDb25zZW50Q29uZmlnPUk7dmFyIG89ZSgwKSxhPWUoMyksaT1lKDgpLHI9ZSgxMikscz1lLm4ociksYz1lKDc2KSxkPWUubihjKTtmdW5jdGlvbiBsKG4pe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbn06ZnVuY3Rpb24obil7cmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJm4uY29uc3RydWN0b3I9PT1TeW1ib2wmJm4hPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBufSkobil9ZnVuY3Rpb24gdShuLHQsZSl7cmV0dXJuIHQgaW4gbj9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTplLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6blt0XT1lLG59dmFyIGYscCxnLG0sQyx2PXt2YWx1ZTp0cnVlLGRlZmluZWRJbkNvbmZpZzohMX0sYj0wLHk9ITEsdz17aWFiOmZ1bmN0aW9uKG4sdCxlKXtmdW5jdGlvbiBhKGEsaSl7by5sb2dJbmZvKCJSZWNlaXZlZCBhIHJlc3BvbnNlIGZyb20gQ01QIixhKSxpPyExIT09YS5nZHByQXBwbGllcyYmInRjbG9hZGVkIiE9PWEuZXZlbnRTdGF0dXMmJiJ1c2VyYWN0aW9uY29tcGxldGUiIT09YS5ldmVudFN0YXR1c3x8bihhLGUpOnQoIkNNUCB1bmFibGUgdG8gcmVnaXN0ZXIgY2FsbGJhY2sgZnVuY3Rpb24uICBQbGVhc2UgY2hlY2sgQ01QIHNldHVwLiIsZSl9dmFyIGk9ZnVuY3Rpb24oKXt2YXIgdD17fTtmdW5jdGlvbiBhKCl7dC5nZXRDb25zZW50RGF0YSYmdC5nZXRWZW5kb3JDb25zZW50cyYmKG8ubG9nSW5mbygiUmVjZWl2ZWQgYWxsIHJlcXVlc3RlZCByZXNwb25zZXMgZnJvbSBDTVAiLHQpLG4odCxlKSl9cmV0dXJue2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRDb25zZW50RGF0YT1uLGEoKX0sdmVuZG9yQ29uc2VudHNDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldFZlbmRvckNvbnNlbnRzPW4sYSgpfX19KCkscj17fSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQsZT13aW5kb3c7IW47KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX190Y2ZhcGl8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fY21wKXsiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaT8oYj0yLHQ9ZS5fX3RjZmFwaSk6KGI9MSx0PWUuX19jbXApLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX3RjZmFwaUxvY2F0b3Ipe2I9MixuPWU7YnJlYWt9fWNhdGNoKG4pe310cnl7aWYoZS5mcmFtZXMuX19jbXBMb2NhdG9yKXtiPTEsbj1lO2JyZWFrfX1jYXRjaChuKXt9aWYoZT09PXdpbmRvdy50b3ApYnJlYWs7ZT1lLnBhcmVudH1yZXR1cm57Y21wRnJhbWU6bixjbXBGdW5jdGlvbjp0fX0oKSxjPXMuY21wRnJhbWUsbD1zLmNtcEZ1bmN0aW9uO2lmKCFjKXJldHVybiB0KCJDTVAgbm90IGZvdW5kLiIsZSk7by5pc0ZuKGwpPyhvLmxvZ0luZm8oIkRldGVjdGVkIENNUCBBUEkgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09Yj8obCgiZ2V0Q29uc2VudERhdGEiLG51bGwsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxsKCJnZXRWZW5kb3JDb25zZW50cyIsbnVsbCxpLnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09YiYmbCgiYWRkRXZlbnRMaXN0ZW5lciIsYixhKSk6MT09PWImJndpbmRvdy4kc2YmJndpbmRvdy4kc2YuZXh0JiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LiRzZi5leHQuY21wPyhvLmxvZ0luZm8oIkRldGVjdGVkIFByZWJpZC5qcyBpcyBlbmNhc2VkIGluIGEgU2FmZUZyYW1lIGFuZCBDTVAgaXMgcmVnaXN0ZXJlZCwgY2FsbGluZyBpdCBub3cuLi4iKSxmKCJnZXRDb25zZW50RGF0YSIsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxmKCJnZXRWZW5kb3JDb25zZW50cyIsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6KG8ubG9nSW5mbygiRGV0ZWN0ZWQgQ01QIGlzIG91dHNpZGUgdGhlIGN1cnJlbnQgaWZyYW1lIHdoZXJlIFByZWJpZC5qcyBpcyBsb2NhdGVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLDE9PT1iPyhwKCJnZXRDb25zZW50RGF0YSIsYyxpLmNvbnNlbnREYXRhQ2FsbGJhY2spLHAoImdldFZlbmRvckNvbnNlbnRzIixjLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOjI9PT1iJiZwKCJhZGRFdmVudExpc3RlbmVyIixjLGEpKTtmdW5jdGlvbiBmKG4sdCl7dmFyIGE9ZS5hZFVuaXRzLGk9MSxyPTE7aWYoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCl7dmFyIHM9by5nZXRBZFVuaXRTaXplcyhhWzBdKTtpPXNbMF1bMF0scj1zWzBdWzFdfXdpbmRvdy4kc2YuZXh0LnJlZ2lzdGVyKGksciwoZnVuY3Rpb24oZSxvKXtpZigiY21wUmV0dXJuIj09PWUpe3ZhciBhPSJnZXRDb25zZW50RGF0YSI9PT1uP28udmVuZG9yQ29uc2VudERhdGE6by52ZW5kb3JDb25zZW50czt0KGEpfX0pKSx3aW5kb3cuJHNmLmV4dC5jbXAobil9ZnVuY3Rpb24gcChuLHQsZSl7dmFyIG89Mj09PWI/Il9fdGNmYXBpIjoiX19jbXAiLGE9IiIuY29uY2F0KG8sIkNhbGwiKTtmdW5jdGlvbiBpKG4pe3ZhciB0PSIiLmNvbmNhdChvLCJSZXR1cm4iKSxlPSJzdHJpbmciPT10eXBlb2Ygbi5kYXRhJiZkKCkobi5kYXRhLHQpP0pTT04ucGFyc2Uobi5kYXRhKTpuLmRhdGE7aWYoZVt0XSYmZVt0XS5jYWxsSWQpe3ZhciBhPWVbdF07dm9pZCAwIT09clthLmNhbGxJZF0mJnJbYS5jYWxsSWRdKGEucmV0dXJuVmFsdWUsYS5zdWNjZXNzKX19Mj09PWI/KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyxpKXt2YXIgcz1NYXRoLnJhbmRvbSgpKyIiLGM9dSh7fSxhLHtjb21tYW5kOm4sdmVyc2lvbjplLHBhcmFtZXRlcjppLGNhbGxJZDpzfSk7cltzXT1vLHQucG9zdE1lc3NhZ2UoYywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sYixlKSk6KHdpbmRvd1tvXT1mdW5jdGlvbihuLGUsbyl7dmFyIGk9TWF0aC5yYW5kb20oKSsiIixzPXUoe30sYSx7Y29tbWFuZDpuLHBhcmFtZXRlcjplLGNhbGxJZDppfSk7cltpXT1vLHQucG9zdE1lc3NhZ2UocywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSwhMSksd2luZG93W29dKG4sdm9pZCAwLGUpKX19LHN0YXRpYzpmdW5jdGlvbihuLHQsZSl7bihtLGUpfX07ZnVuY3Rpb24gRChuLHQpe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbdF0sbmV4dEZuOm4sYWRVbml0czp0LmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOnQuYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07cmV0dXJuIEM/KG8ubG9nSW5mbygiVXNlciBjb25zZW50IGluZm9ybWF0aW9uIGFscmVhZHkga25vd24uICBQdWxsaW5nIGludGVybmFsbHkgc3RvcmVkIGluZm9ybWF0aW9uLi4uIiksUChudWxsLGUpKTpzKCkoT2JqZWN0LmtleXModyksZik/KHdbZl0uY2FsbCh0aGlzLGssaCxlKSx2b2lkKGUuaGF2ZUV4aXRlZHx8KDA9PT1wP2sodm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChNLmJpbmQobnVsbCxlKSxwKSkpKTooby5sb2dXYXJuKCJDTVAgZnJhbWV3b3JrICgiLmNvbmNhdChmLCIpIGlzIG5vdCBhIHN1cHBvcnRlZCBmcmFtZXdvcmsuICBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpKX1mdW5jdGlvbiBrKG4sdCl7InN0YXRpYyI9PT1mJiYyPT09KGI9bi5nZXRDb25zZW50RGF0YT8xOm4uZ2V0VENEYXRhPzI6MCkmJihuPW4uZ2V0VENEYXRhKTt2YXIgZT0xPT09Yj9mdW5jdGlvbihuKXt2YXIgdD1uJiZuLmdldENvbnNlbnREYXRhJiZuLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgdCYmKCEwIT09dHx8by5pc1N0cihuLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhKSYmby5pc1BsYWluT2JqZWN0KG4uZ2V0VmVuZG9yQ29uc2VudHMpJiZPYmplY3Qua2V5cyhuLmdldFZlbmRvckNvbnNlbnRzKS5sZW5ndGg+MSkpfToyPT09Yj9mdW5jdGlvbigpe3ZhciB0PW4mJiJib29sZWFuIj09dHlwZW9mIG4uZ2RwckFwcGxpZXM/bi5nZHByQXBwbGllczpnLGU9biYmbi50Y1N0cmluZztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fG8uaXNTdHIoZSkpKX06bnVsbDt2LmRlZmluZWRJbkNvbmZpZyYmMj09PWI/by5sb2dXYXJuKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIGlnbm9yZWQgZm9yIFRDRiAyIik6di5kZWZpbmVkSW5Db25maWd8fDEhPT1ifHxvLmxvZ0luZm8oIidhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgdXNpbmcgc3lzdGVtIGRlZmF1bHQ6ICgiLmNvbmNhdCh0cnVlLCIpLiIpKSxvLmlzRm4oZSk/ZShuKT9oKCJDTVAgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIix0LG4pOihjbGVhclRpbWVvdXQodC50aW1lciksQShuKSxQKG51bGwsdCkpOmgoIlVuYWJsZSB0byBkZXJpdmUgQ01QIHZlcnNpb24gdG8gcHJvY2VzcyBkYXRhLiAgQ29uc2VudCBvYmplY3QgZG9lcyBub3QgY29uZm9ybSB0byBUQ0YgdjEgb3IgdjIgc3BlY3MuIix0LG4pfWZ1bmN0aW9uIE0obil7aCgiQ01QIHdvcmtmbG93IGV4Y2VlZGVkIHRpbWVvdXQgdGhyZXNob2xkLiIsbil9ZnVuY3Rpb24gaChuLHQsZSl7Y2xlYXJUaW1lb3V0KHQudGltZXIpLHYudmFsdWUmJjE9PT1iJiZBKHZvaWQgMCksUChuLHQsZSl9ZnVuY3Rpb24gQShuKXsxPT09Yj9DPXtjb25zZW50U3RyaW5nOm4/bi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YTp2b2lkIDAsdmVuZG9yRGF0YTpuP24uZ2V0VmVuZG9yQ29uc2VudHM6dm9pZCAwLGdkcHJBcHBsaWVzOm4/bi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllczpnfTooQz17Y29uc2VudFN0cmluZzpuP24udGNTdHJpbmc6dm9pZCAwLHZlbmRvckRhdGE6bnx8dm9pZCAwLGdkcHJBcHBsaWVzOm4mJiJib29sZWFuIj09dHlwZW9mIG4uZ2RwckFwcGxpZXM/bi5nZHByQXBwbGllczpnfSxuJiZuLmFkZHRsQ29uc2VudCYmby5pc1N0cihuLmFkZHRsQ29uc2VudCkmJihDLmFkZHRsQ29uc2VudD1uLmFkZHRsQ29uc2VudCkpLEMuYXBpVmVyc2lvbj1iLGkuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKEMpfWZ1bmN0aW9uIFAobix0LGUpe2lmKCExPT09dC5oYXZlRXhpdGVkKXt0LmhhdmVFeGl0ZWQ9ITA7dmFyIGE9dC5jb250ZXh0LGk9dC5hcmdzLHI9dC5uZXh0Rm47bj92LnZhbHVlJiYxPT09Yj8oby5sb2dXYXJuKG4rIiAnYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIGFjdGl2YXRlZC4iLGUpLHIuYXBwbHkoYSxpKSk6KG8ubG9nRXJyb3IobisiIENhbmNlbGluZyBhdWN0aW9uIGFzIHBlciBjb25zZW50TWFuYWdlbWVudCBjb25maWcuIixlKSwiZnVuY3Rpb24iPT10eXBlb2YgdC5iaWRzQmFja0hhbmRsZXI/dC5iaWRzQmFja0hhbmRsZXIoKTpvLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIikpOnIuYXBwbHkoYSxpKX19ZnVuY3Rpb24gSShuKXsobj1uJiYobi5nZHByfHxuLnVzcD9uLmdkcHI6bikpJiYib2JqZWN0Ij09PWwobik/KG8uaXNTdHIobi5jbXBBcGkpP2Y9bi5jbXBBcGk6KGY9ImlhYiIsby5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcC4gIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KCJpYWIiLCIpLiIpKSksby5pc051bWJlcihuLnRpbWVvdXQpP3A9bi50aW1lb3V0OihwPTFlNCxvLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KDFlNCwiKS4iKSkpLCJib29sZWFuIj09dHlwZW9mIG4uYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQmJih2LnZhbHVlPW4uYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQsdi5kZWZpbmVkSW5Db25maWc9ITApLGc9ITA9PT1uLmRlZmF1bHRHZHByU2NvcGUsby5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksInN0YXRpYyI9PT1mJiYoby5pc1BsYWluT2JqZWN0KG4uY29uc2VudERhdGEpPyhtPW4uY29uc2VudERhdGEscD0wKTpvLmxvZ0Vycm9yKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgd2l0aCBjbXBBcGk6ICdzdGF0aWMnIGRpZCBub3Qgc3BlY2lmeSBjb25zZW50RGF0YS4gTm8gY29uc2VudHMgd2lsbCBiZSBhdmFpbGFibGUgdG8gYWRhcHRlcnMuIikpLHl8fHVwYmpzLnJlcXVlc3RCaWRzLmJlZm9yZShELDUwKSx5PSEwKTpvLmxvZ1dhcm4oImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBub3QgZGVmaW5lZCwgZXhpdGluZyBjb25zZW50IG1hbmFnZXIiKX1hLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsKGZ1bmN0aW9uKG4pe3JldHVybiBJKG4uY29uc2VudE1hbmFnZW1lbnQpfSkpfX0sWzM0NV0pOwp1cGJqc0NodW5rKFsyNzNdLHszNTI6ZnVuY3Rpb24odCxuLGUpe3QuZXhwb3J0cz1lKDM1Myl9LDM1MzpmdW5jdGlvbih0LG4sZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQobiwiY29uc2VudEFQSSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSksZS5kKG4sImNvbnNlbnRUaW1lb3V0IiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxlLmQobiwic3RhdGljQ29uc2VudERhdGEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4ucmVxdWVzdEJpZHNIb29rPWYsbi5yZXNldENvbnNlbnREYXRhPWZ1bmN0aW9uKCl7bD12b2lkIDAsYz12b2lkIDAsaS51c3BEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShudWxsKX0sbi5zZXRDb25zZW50Q29uZmlnPVA7dmFyIGE9ZSgwKSxvPWUoMyksaT1lKDgpO2Z1bmN0aW9uIHModCl7cmV0dXJuKHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHR9KSh0KX12YXIgYyxyLHUsbCxkPSExLHA9e2lhYjpmdW5jdGlvbih0LG4sZSl7dmFyIG89KHU9e30se2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24oYSxvKXtvJiZhLnVzcFN0cmluZyYmKHUudXNQcml2YWN5PWEudXNwU3RyaW5nKSx1LnVzUHJpdmFjeT90KHUsZSk6bigiVW5hYmxlIHRvIGdldCBVU1AgY29uc2VudCBzdHJpbmcuIixlKX19KSxpPXt9LHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQsbixlPXdpbmRvdzshdDspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3VzcGFwaSl7bj1lLl9fdXNwYXBpLHQ9ZTticmVha319Y2F0Y2godCl7fXRyeXtpZihlLmZyYW1lcy5fX3VzcGFwaUxvY2F0b3Ipe3Q9ZTticmVha319Y2F0Y2godCl7fWlmKGU9PT13aW5kb3cudG9wKWJyZWFrO2U9ZS5wYXJlbnR9cmV0dXJue3VzcGFwaUZyYW1lOnQsdXNwYXBpRnVuY3Rpb246bn19KCksYz1zLnVzcGFwaUZyYW1lLHI9cy51c3BhcGlGdW5jdGlvbjt2YXIgdTtpZighYylyZXR1cm4gbigiVVNQIENNUCBub3QgZm91bmQuIixlKTthLmlzRm4ocik/KGEubG9nSW5mbygiRGV0ZWN0ZWQgVVNQIENNUCBpcyBkaXJlY3RseSBhY2Nlc3NpYmxlLCBjYWxsaW5nIGl0IG5vdy4uLiIpLHIoImdldFVTUERhdGEiLDEsby5jb25zZW50RGF0YUNhbGxiYWNrKSk6KGEubG9nSW5mbygiRGV0ZWN0ZWQgVVNQIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSxmdW5jdGlvbih0LG4sZSl7ZnVuY3Rpb24gYSh0KXt2YXIgbj10JiZ0LmRhdGEmJnQuZGF0YS5fX3VzcGFwaVJldHVybjtuJiZuLmNhbGxJZCYmdm9pZCAwIT09aVtuLmNhbGxJZF0mJihpW24uY2FsbElkXShuLnJldHVyblZhbHVlLG4uc3VjY2VzcyksZGVsZXRlIGlbbi5jYWxsSWRdKX13aW5kb3cuX191c3BhcGk9ZnVuY3Rpb24odCxlLGEpe3ZhciBvPU1hdGgucmFuZG9tKCkrIiIscz17X191c3BhcGlDYWxsOntjb21tYW5kOnQsdmVyc2lvbjplLGNhbGxJZDpvfX07aVtvXT1hLG4ucG9zdE1lc3NhZ2UocywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYSwhMSksd2luZG93Ll9fdXNwYXBpKHQsMSxlKX0oImdldFVTUERhdGEiLGMsby5jb25zZW50RGF0YUNhbGxiYWNrKSl9LHN0YXRpYzpmdW5jdGlvbih0LG4sZSl7dCh1LGUpfX07ZnVuY3Rpb24gZih0LG4pe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbbl0sbmV4dEZuOnQsYWRVbml0czpuLmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOm4uYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07aWYoIXBbY10pcmV0dXJuIGEubG9nV2FybigiVVNQIGZyYW1ld29yayAoIi5jb25jYXQoYywiKSBpcyBub3QgYSBzdXBwb3J0ZWQgZnJhbWV3b3JrLiBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpO3BbY10uY2FsbCh0aGlzLGcsYixlKSxlLmhhdmVFeGl0ZWR8fCgwPT09cj9nKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQobS5iaW5kKG51bGwsZSkscikpfWZ1bmN0aW9uIGcodCxuKXshdHx8IXQudXNQcml2YWN5P2IoIlVTUEFQSSByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLG4sdCk6KGNsZWFyVGltZW91dChuLnRpbWVyKSxmdW5jdGlvbih0KXt0JiZ0LnVzUHJpdmFjeSYmKGw9dC51c1ByaXZhY3ksaS51c3BEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShsKSl9KHQpLHkobnVsbCxuKSl9ZnVuY3Rpb24gbSh0KXtiKCJVU1BBUEkgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIix0KX1mdW5jdGlvbiBiKHQsbixlKXtjbGVhclRpbWVvdXQobi50aW1lcikseSh0LG4sZSl9ZnVuY3Rpb24geSh0LG4sZSl7aWYoITE9PT1uLmhhdmVFeGl0ZWQpe24uaGF2ZUV4aXRlZD0hMDt2YXIgbz1uLmNvbnRleHQsaT1uLmFyZ3Mscz1uLm5leHRGbjt0JiZhLmxvZ1dhcm4odCsiIFJlc3VtaW5nIGF1Y3Rpb24gd2l0aG91dCBjb25zZW50IGRhdGEgYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLHMuYXBwbHkobyxpKX19ZnVuY3Rpb24gUCh0KXsodD10JiZ0LnVzcCkmJiJvYmplY3QiPT09cyh0KT8oYS5pc1N0cih0LmNtcEFwaSk/Yz10LmNtcEFwaTooYz0iaWFiIixhLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcEFwaS4gVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoImlhYiIsIikuIikpKSxhLmlzTnVtYmVyKHQudGltZW91dCk/cj10LnRpbWVvdXQ6KHI9NTAsYS5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCg1MCwiKS4iKSkpLGEubG9nSW5mbygiVVNQQVBJIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBoYXMgYmVlbiBhY3RpdmF0ZWQuLi4iKSwic3RhdGljIj09PWMmJihhLmlzUGxhaW5PYmplY3QodC5jb25zZW50RGF0YSkmJmEuaXNQbGFpbk9iamVjdCh0LmNvbnNlbnREYXRhLmdldFVTUERhdGEpPyh0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nJiYodT17dXNQcml2YWN5OnQuY29uc2VudERhdGEuZ2V0VVNQRGF0YS51c3BTdHJpbmd9KSxyPTApOmEubG9nRXJyb3IoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyB3aXRoIGNtcEFwaTogJ3N0YXRpYycgZGlkIG5vdCBzcGVjaWZ5IGNvbnNlbnREYXRhLiBObyBjb25zZW50cyB3aWxsIGJlIGF2YWlsYWJsZSB0byBhZGFwdGVycy4iKSksZHx8dXBianMucmVxdWVzdEJpZHMuYmVmb3JlKGYsNTApLGQ9ITApOmEubG9nV2FybigiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBub3QgZGVmaW5lZCwgZXhpdGluZyB1c3AgY29uc2VudCBtYW5hZ2VyIil9by5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbih0KXtyZXR1cm4gUCh0LmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszNTJdKTsKdXBianNDaHVuayhbMjcyXSx7MzU0OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9bigzNTUpfSwzNTU6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciB0PW4oMCksaT1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbj1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCkmJihlW3RdPW5bdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBhPTAsZD0iY29uc3VtYWJsZSIsdT17Y29kZToiY29uc3VtYWJsZSIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMubmV0d29ya0lkJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnVuaXRJZCYmZS5wYXJhbXMudW5pdE5hbWUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIG49e21ldGhvZDoiUE9TVCIsdXJsOiIiLGRhdGE6IiIsYmlkUmVxdWVzdDpbXX07aWYoZS5sZW5ndGg8MSlyZXR1cm4gbjthPWVbMF0ucGFyYW1zLnNpdGVJZCxkPWVbMF0uYmlkZGVyO3ZhciB0PXMoe3BsYWNlbWVudHM6W10sdGltZTpEYXRlLm5vdygpLHVybDpyLnJlZmVyZXJJbmZvLnJlZmVyZXIscmVmZXJyZXI6ZG9jdW1lbnQucmVmZXJyZXIsc291cmNlOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjUuMTEuMCJ9XX0sZVswXS5wYXJhbXMpO3JldHVybiByJiZyLmdkcHJDb25zZW50JiYodC5nZHByPXtjb25zZW50OnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxhcHBsaWVzOiJib29sZWFuIiE9dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9KSxyJiZyLnVzcENvbnNlbnQmJih0LmNjcGE9ci51c3BDb25zZW50KSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLnNpemVzfHxbXSxuPXMoe2Rpdk5hbWU6ZS5iaWRJZCxhZFR5cGVzOmUuYWRUeXBlc3x8cChyKX0sZS5wYXJhbXMpO24ubmV0d29ya0lkJiZuLnNpdGVJZCYmbi51bml0SWQmJm4udW5pdE5hbWUmJnQucGxhY2VtZW50cy5wdXNoKG4pfSkpLG4uZGF0YT1KU09OLnN0cmluZ2lmeSh0KSxuLmJpZFJlcXVlc3Q9ZSxuLmJpZGRlclJlcXVlc3Q9cixuLnVybD0iaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIixufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBuLHQsaSxzLGE9W107dD1yLmJpZFJlcXVlc3QsZT0oZXx8e30pLmJvZHk7Zm9yKHZhciBkPTA7ZDx0Lmxlbmd0aDtkKyspaWYobj17fSxpPShzPXRbZF0pLmJpZElkLGUpe3ZhciB1PWUuZGVjaXNpb25zJiZlLmRlY2lzaW9uc1tpXSxvPXUmJnUucHJpY2luZyYmdS5wcmljaW5nLmNsZWFyUHJpY2U7dSYmbyYmKG4ucmVxdWVzdElkPWksbi5jcG09byxuLndpZHRoPXUud2lkdGgsbi5oZWlnaHQ9dS5oZWlnaHQsbi51bml0SWQ9cy5wYXJhbXMudW5pdElkLG4udW5pdE5hbWU9cy5wYXJhbXMudW5pdE5hbWUsbi5hZD1jKHUsbi51bml0SWQsbi51bml0TmFtZSksbi5jdXJyZW5jeT0iVVNEIixuLmNyZWF0aXZlSWQ9dS5hZElkLG4udHRsPTMwLG4ubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6dS5hZG9tYWluP3UuYWRvbWFpbjpbXX0sbi5uZXRSZXZlbnVlPSEwLG4ucmVmZXJyZXI9ci5iaWRkZXJSZXF1ZXN0LnJlZmVyZXJJbmZvLnJlZmVyZXIsYS5wdXNoKG4pKX1yZXR1cm4gYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL3N5bmMuc2VydmVyYmlkLmNvbS9zcy8iK2ErIi5odG1sIn1dOmUucGl4ZWxFbmFibGVkJiZyLmxlbmd0aD4wP3JbMF0uYm9keS5waXhlbHM6dm9pZCB0LmxvZ1dhcm4oZCsiOiBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmNpbmcuIil9fSxvPVtudWxsLCIxMjB4OTAiLCIxMjB4OTAiLCI0Njh4NjAiLCI3Mjh4OTAiLCIzMDB4MjUwIiwiMTYweDYwMCIsIjEyMHg2MDAiLCIzMDB4MTAwIiwiMTgweDE1MCIsIjMzNngyODAiLCIyNDB4NDAwIiwiMjM0eDYwIiwiODh4MzEiLCIxMjB4NjAiLCIxMjB4MjQwIiwiMTI1eDEyNSIsIjIyMHgyNTAiLCIyNTB4MjUwIiwiMjUweDkwIiwiMHgwIiwiMjAweDkwIiwiMzAweDUwIiwiMzIweDUwIiwiMzIweDQ4MCIsIjE4NXgxODUiLCI2MjB4NDUiLCIzMDB4MTI1IiwiODAweDI1MCJdO2Z1bmN0aW9uIHAoZSl7dmFyIHI9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49by5pbmRleE9mKGVbMF0rIngiK2VbMV0pO24+PTAmJnIucHVzaChuKX0pKSxyfWZ1bmN0aW9uIGMoZSxyLG4pe3JldHVybiBlLmNvbnRlbnRzJiZlLmNvbnRlbnRzWzBdJiZlLmNvbnRlbnRzWzBdLmJvZHkrdC5jcmVhdGVUcmFja1BpeGVsSHRtbChlLmltcHJlc3Npb25VcmwpfW9bNzddPSI5NzB4OTAiLG9bMTIzXT0iOTcweDI1MCIsb1s0M109IjMwMHg2MDAiLG9bMjg2XT0iOTcweDY2IixvWzMyMzBdPSI5NzB4MjgwIixvWzQyOV09IjQ4Nng2MCIsb1szNzRdPSI3MDB4NTAwIixvWzkzNF09IjMwMHgxMDUwIixvWzE1NzhdPSIzMjB4MTAwIixvWzMzMV09IjMyMHgyNTAiLG9bMzMwMV09IjMyMHgyNjciLG9bMjczMF09IjcyOHgyNTAiLE9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFszNTRdKTsKdXBianNDaHVuayhbMjcwXSx7MzU4OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgzNTkpfSwzNTk6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgYT10KDApLG49dCgxKSxpPXQoMiksbz10KDcpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGMoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHIpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGMoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGMoZSxyKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLGE9bmV3IEFycmF5KHIpO3Q8cjt0KyspYVt0XT1lW3RdO3JldHVybiBhfXZhciBkPU9iamVjdChvLmIpKDI0KSx1PSJjb252ZXJzYW50IixwPXtjb2RlOnUsZ3ZsaWQ6MjQsYWxpYXNlczpbImNudnIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBhLmxvZ1dhcm4oImNvbnZlcnNhbnQ6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSwhMTtpZighYS5pc1N0cihlLnBhcmFtcy5zaXRlX2lkKSlyZXR1cm4gYS5sb2dXYXJuKCJjb252ZXJzYW50OiBzaXRlX2lkIG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgc3RyaW5nIiksITE7aWYobChlKSl7dmFyIHI9ZS5wYXJhbXMubWltZXN8fGEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLm1pbWVzIik7aWYocil7aWYoIWEuaXNBcnJheShyKXx8IXIuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzU3RyKGUpfSkpKXJldHVybiBhLmxvZ1dhcm4oImNvbnZlcnNhbnQ6IG1pbWVzIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpLCExfWVsc2UgYS5sb2dXYXJuKCJjb252ZXJzYW50OiBtaW1lcyBzaG91bGQgYmUgc3BlY2lmaWVkIGZvciB2aWRlb3MiKX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0LG49ciYmci5yZWZlcmVySW5mbz9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiIsaT0iIixvPSIiLHM9bnVsbCxjPSJfcHViY2lkIix1PSJodHRwczovL3dlYi5oYi5hZC5jcGUuZG90b21pLmNvbS9jdngvY2xpZW50L2hiL29ydGIvMjUiLHA9ZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcyk7aWYoIXImJmEuaXNGbihlLmdldEZsb29yKSl7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2EuaXNQbGFpbk9iamVjdCh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3kmJihyPXQuZmxvb3IpfXJldHVybiByfShlKTtpPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoInNpdGVfaWQiLGUucGFyYW1zKXx8aSxjPWEuZ2V0QmlkSWRQYXJhbWV0ZXIoInB1YmNpZF9uYW1lIixlLnBhcmFtcyl8fGMsbz1lLmF1Y3Rpb25JZDt2YXIgdD17aWQ6ZS5iaWRJZCxzZWN1cmU6MSxiaWRmbG9vcjpyfHwwLGRpc3BsYXltYW5hZ2VyOiJQcmViaWQuanMiLGRpc3BsYXltYW5hZ2VydmVyOiI1LjExLjAifTtpZihmKGUucGFyYW1zLnRhZ19pZCx0LCJ0YWdpZCIpLGwoZSkpe3ZhciBuPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9LGQ9bShuLnBsYXllclNpemV8fGUuc2l6ZXMpLHA9e307ZCYmZFswXSYmKGYoZFswXS53LHAsInciKSxmKGRbMF0uaCxwLCJoIikpLGYoZS5wYXJhbXMucG9zaXRpb24scCwicG9zIiksZihlLnBhcmFtcy5taW1lc3x8bi5taW1lcyxwLCJtaW1lcyIpLGYoZS5wYXJhbXMubWF4ZHVyYXRpb258fG4ubWF4ZHVyYXRpb24scCwibWF4ZHVyYXRpb24iKSxmKGUucGFyYW1zLnByb3RvY29sc3x8bi5wcm90b2NvbHMscCwicHJvdG9jb2xzIiksZihlLnBhcmFtcy5hcGl8fG4uYXBpLHAsImFwaSIpLHQudmlkZW89cH1lbHNle3ZhciBnPXtmb3JtYXQ6bSgoYS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyIil8fHt9KS5zaXplc3x8ZS5zaXplcyl9O2YoZS5wYXJhbXMucG9zaXRpb24sZywicG9zIiksdC5iYW5uZXI9Z31yZXR1cm4gZS51c2VySWQmJmUudXNlcklkLnB1YmNpZD9zPWUudXNlcklkLnB1YmNpZDplLmNydW1icyYmZS5jcnVtYnMucHViY2lkJiYocz1lLmNydW1icy5wdWJjaWQpLGUucGFyYW1zLndoaXRlX2xhYmVsX3VybCYmKHU9ZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsKSx0fSkpLGc9e2lkOm8saW1wOnAsc2l0ZTp7aWQ6aSxtb2JpbGU6bnVsbCE9PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT0idmlld3BvcnQiXVtjb250ZW50Kj0id2lkdGg9ZGV2aWNlLXdpZHRoIl0nKT8xOjAscGFnZTpufSxkZXZpY2U6KHQ9bmF2aWdhdG9yLmxhbmd1YWdlPyJsYW5ndWFnZSI6InVzZXJMYW5ndWFnZSIse2g6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkbnQ6IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PXdpbmRvdy5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IubXNEb05vVHJhY2t8fCJ5ZXMiPT09bmF2aWdhdG9yLmRvTm90VHJhY2s/MTowLGxhbmd1YWdlOm5hdmlnYXRvclt0XS5zcGxpdCgiLSIpWzBdLG1ha2U6bmF2aWdhdG9yLnZlbmRvcj9uYXZpZ2F0b3IudmVuZG9yOiIiLHVhOm5hdmlnYXRvci51c2VyQWdlbnR9KSxhdDoxfSx2PXt9O3ImJihyLmdkcHJDb25zZW50JiYodi5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZhLmRlZXBTZXRWYWx1ZShnLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHIudXNwQ29uc2VudCYmYS5kZWVwU2V0VmFsdWUoZywicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSksc3x8KHM9ZnVuY3Rpb24oZSl7dmFyIHI7dHJ5e2lmKCEocj1kLmdldENvb2tpZShlKSkpe3ZhciB0PWQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSk7KCIiPT09dHx8dCYmbmV3IERhdGUodCkuZ2V0VGltZSgpLURhdGUubm93KCk+MCkmJihyPShyPWQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSkpP2RlY29kZVVSSUNvbXBvbmVudChyKTpyKX1hLmlzU3RyKHIpJiYieyI9PT1yLmNoYXJBdCgwKSYmKHI9SlNPTi5wYXJzZShyKSl9Y2F0Y2goZSl7YS5sb2dFcnJvcihlKX1yZXR1cm4gcn0oYykpLHMmJih2LmZwYz1zKTt2YXIgeT1mdW5jdGlvbihlKXt2YXIgcj1lWzBdLHQ9W107aWYoYS5pc0FycmF5KHIudXNlcklkQXNFaWRzKSYmci51c2VySWRBc0VpZHMubGVuZ3RoPjApe3ZhciBuPXsiYWRzZXJ2ZXIub3JnIjoxLCJsaXZlcmFtcC5jb20iOjEsImNyaXRlby5jb20iOjEsImlkNS1zeW5jLmNvbSI6MSwicGFycmFibGUuY29tIjoxLCJsaXZlaW50ZW50LmNvbSI6MX07ci51c2VySWRBc0VpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5oYXNPd25Qcm9wZXJ0eShlLnNvdXJjZSkmJnQucHVzaChlKX0pKX1yZXR1cm4gdH0oZSk7cmV0dXJuIHkubGVuZ3RoPjAmJih2LmVpZHM9eSksYS5pc0VtcHR5KHYpfHwoZy51c2VyPXtleHQ6dn0pLHttZXRob2Q6IlBPU1QiLHVybDp1LGRhdGE6Z319LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj17fTtyZXR1cm4gZT1lLmJvZHksciYmci5kYXRhJiZyLmRhdGEuaW1wJiZhLl9lYWNoKHIuZGF0YS5pbXAsKGZ1bmN0aW9uKGUpe3JldHVybiBuW2UuaWRdPWV9KSksZSYmYS5pc0FycmF5KGUuc2VhdGJpZCkmJmEuX2VhY2goZS5zZWF0YmlkLChmdW5jdGlvbihyKXthLl9lYWNoKHIuYmlkLChmdW5jdGlvbihyKXt2YXIgYT1wYXJzZUZsb2F0KHIucHJpY2UpO2lmKGE+MCYmci5pbXBpZCl7dmFyIGk9ci5hZG18fCIiLG89ci5udXJsfHwiIixzPW5bci5pbXBpZF0sYz17cmVxdWVzdElkOnIuaW1waWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNwbTphLGNyZWF0aXZlSWQ6ci5jcmlkfHwiIix0dGw6MzAwLG5ldFJldmVudWU6ITAsbWV0YTp7fX07ci5hZG9tYWluJiZyLmFkb21haW4ubGVuZ3RoPjAmJihjLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ci5hZG9tYWluKSxzLnZpZGVvPygiPCI9PT1pLmNoYXJBdCgwKT9jLnZhc3RYbWw9aTpjLnZhc3RVcmw9aSxjLm1lZGlhVHlwZT0idmlkZW8iLGMud2lkdGg9cy52aWRlby53LGMuaGVpZ2h0PXMudmlkZW8uaCk6KGMuYWQ9aSsnPGltZyBzcmM9IicrbysnIiAvPicsYy53aWR0aD1yLncsYy5oZWlnaHQ9ci5oKSx0LnB1c2goYyl9fSkpfSkpLHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBhLmNvbnZlcnRUeXBlcyh7c2l0ZV9pZDoic3RyaW5nIixzZWN1cmU6Im51bWJlciIsbW9iaWxlOiJudW1iZXIifSxlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPXt9LG89W107aWYodCYmKGkuZ2Rwcj10LmdkcHJBcHBsaWVzPzE6MCxpLmdkcHJfY29uc2VudD1lbmNvZGVVUklDb21wb25lbnQodC5jb25zZW50U3RyaW5nfHwiIikpLG4mJihpLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxyJiZyLmV4dCl7dmFyIGM9W3t1cmxzOnIuZXh0LmZzeW5jcyx0eXBlOiJpZnJhbWUifSx7dXJsczpyLmV4dC5wc3luY3MsdHlwZToiaW1hZ2UifV0uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci51cmxzJiYoImlmcmFtZSI9PT1yLnR5cGUmJmUuaWZyYW1lRW5hYmxlZHx8ImltYWdlIj09PXIudHlwZSYmZS5waXhlbEVuYWJsZWQpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJscy5tYXAoKGZ1bmN0aW9uKHIpe3ZhciB0PWEucGFyc2VVcmwocik7cmV0dXJuIGEubWVyZ2VEZWVwKHQuc2VhcmNoLGkpLDA9PT1PYmplY3Qua2V5cyh0LnNlYXJjaCkubGVuZ3RoJiZkZWxldGUgdC5zZWFyY2gse3R5cGU6ZS50eXBlLHVybDphLmJ1aWxkVXJsKHQpfX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIpfSksW10pfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQocil9KSxbXSk7by5wdXNoLmFwcGx5KG8scyhjKSl9cmV0dXJuIG99fTtmdW5jdGlvbiBtKGUpe3ZhciByO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYocj0yPT09ZS5sZW5ndGgmJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdP1t7dzplWzBdLGg6ZVsxXX1dOmEuX21hcChlLChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSkpLHJ9ZnVuY3Rpb24gbChlKXtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fCEhYS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBmKGUscix0KXtlJiYoclt0XT1lKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikocCl9fSxbMzU4XSk7CnVwYmpzQ2h1bmsoWzFdLHszNjQ6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDM2NSl9LDM2NTpmdW5jdGlvbihtb2R1bGUsX193ZWJwYWNrX2V4cG9ydHNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJBREFQVEVSX1ZFUlNJT04iLChmdW5jdGlvbigpe3JldHVybiBBREFQVEVSX1ZFUlNJT059KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlBST0ZJTEVfSURfUFVCTElTSEVSVEFHIiwoZnVuY3Rpb24oKXtyZXR1cm4gUFJPRklMRV9JRF9QVUJMSVNIRVJUQUd9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVH0pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KSksX193ZWJwYWNrX2V4cG9ydHNfXy5jYW5GYXN0QmlkPWNhbkZhc3RCaWQsX193ZWJwYWNrX2V4cG9ydHNfXy5nZXRGYXN0QmlkVXJsPWdldEZhc3RCaWRVcmwsX193ZWJwYWNrX2V4cG9ydHNfXy50cnlHZXRDcml0ZW9GYXN0QmlkPXRyeUdldENyaXRlb0Zhc3RCaWQ7dmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX2FkbG9hZGVyX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygzNyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19tZWRpYVR5cGVzX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygxMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX19fZGVmYXVsdD1fX3dlYnBhY2tfcmVxdWlyZV9fLm4oX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oNyk7ZnVuY3Rpb24gX2V4dGVuZHMoKXtyZXR1cm4oX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2Zvcih2YXIgaSBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLGkpJiYodFtpXT1yW2ldKX1yZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgR1ZMSUQ9OTEsQURBUFRFUl9WRVJTSU9OPTM0LEJJRERFUl9DT0RFPSJjcml0ZW8iLENEQl9FTkRQT0lOVD0iaHR0cHM6Ly9iaWRkZXIuY3JpdGVvLmNvbS9jZGIiLFBST0ZJTEVfSURfSU5MSU5FPTIwNyxQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRz0xODUsc3RvcmFnZT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXy5iKShHVkxJRCksTE9HX1BSRUZJWD0iQ3JpdGVvOiAiLEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVI9IiVGQVNUX0JJRF9WRVJTSU9OJSIsRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UPTEwNSxGQVNUX0JJRF9WRVJTSU9OX0xBVEVTVD0ibGF0ZXN0IixGQVNUX0JJRF9WRVJTSU9OX05PTkU9Im5vbmUiLFBVQkxJU0hFUl9UQUdfVVJMX1RFTVBMQVRFPSJodHRwczovL3N0YXRpYy5jcml0ZW8ubmV0L2pzL2xkL3B1Ymxpc2hlcnRhZy5wcmViaWQiK0ZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIrIi5qcyIsRkFTVF9CSURfUFVCS0VZX0U9NjU1MzcsRkFTVF9CSURfUFVCS0VZX049Inp0UVl3Q0U1QlU3VDlDRE01aGU2cktvYWJzdFhSbWt6eDU0ekZQWmtXYks1MzBkd3RMQkRlYVdCTXhIQlVUNTVDWXlib1IvRVo0ZWZnaFBpM0NvTkdmR1dlenBqa285UDZwMkV3R0FydEhFZVM0c2xodS9TcFNJRk1qRzZmZHJwUm9OdUlBTWhxMVorUHIvK0hPZDFwVGhGS2VHRnIyL05odEFnK1RYQXphVT0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsZ3ZsaWQ6R1ZMSUQsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmQsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciByLGkscz1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfanNfXy5iLmdldExlZ2FjeUZwZChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9O19leHRlbmRzKGUse3B1Ymxpc2hlckV4dDpzLmNvbnRleHQsdXNlckV4dDpzLnVzZXIsY2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KTt2YXIgYT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmZhc3RCaWRWZXJzaW9uIiksXz1jYW5GYXN0QmlkKGEpO2lmKCFwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmXyl7d2luZG93LkNyaXRlbz13aW5kb3cuQ3JpdGVvfHx7fSx3aW5kb3cuQ3JpdGVvLnVzZVByZWJpZEV2ZW50cz0hMSx0cnlHZXRDcml0ZW9GYXN0QmlkKCk7dmFyIG89Z2V0RmFzdEJpZFVybChhKTtzZXRUaW1lb3V0KChmdW5jdGlvbigpe09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY19hZGxvYWRlcl9qc19fLmEpKG8sQklEREVSX0NPREUpfSksZS50aW1lb3V0KX1pZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIG49bmV3IENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkKFBST0ZJTEVfSURfUFVCTElTSEVSVEFHLEFEQVBURVJfVkVSU0lPTix0LGUsIjUuMTEuMCIpO3I9bi5idWlsZENkYlVybCgpLGk9bi5idWlsZENkYlJlcXVlc3QoKX1lbHNle3ZhciBjPWJ1aWxkQ29udGV4dCh0LGUpO3I9YnVpbGRDZGJVcmwoYyksaT1idWlsZENkYlJlcXVlc3QoYyx0LGUpfWlmKGkpcmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnIsZGF0YTppLGJpZFJlcXVlc3RzOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LGUpe3ZhciByPXQuYm9keXx8dDtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIGk9Q3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcihlKTtpZihpKXJldHVybiBpLmludGVycHJldFJlc3BvbnNlKHIsZSl9dmFyIHM9W107cmV0dXJuIHImJnIuc2xvdHMmJl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uaXNBcnJheShyLnNsb3RzKSYmci5zbG90cy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfX19kZWZhdWx0KCkoZS5iaWRSZXF1ZXN0cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXQuaW1waWQmJighZS5wYXJhbXMuem9uZUlkfHxwYXJzZUludChlLnBhcmFtcy56b25lSWQpPT09dC56b25laWQpfSkpLGk9ci5iaWRJZCxhPXtyZXF1ZXN0SWQ6aSxhZElkOnQuYmlkSWR8fF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGNwbTp0LmNwbSxjdXJyZW5jeTp0LmN1cnJlbmN5LG5ldFJldmVudWU6ITAsdHRsOnQudHRsfHw2MCxjcmVhdGl2ZUlkOnQuY3JlYXRpdmVjb2RlLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LGRlYWxJZDp0LmRlYWxDb2RlfTt0LmFkb21haW4mJihhLm1ldGE9X2V4dGVuZHMoe30sYS5tZXRhLHthZHZlcnRpc2VyRG9tYWluczp0LmFkb21haW59KSksdC5uYXRpdmU/ci5wYXJhbXMubmF0aXZlQ2FsbGJhY2s/YS5hZD1jcmVhdGVOYXRpdmVBZChpLHQubmF0aXZlLHIucGFyYW1zLm5hdGl2ZUNhbGxiYWNrKTooYS5uYXRpdmU9Y3JlYXRlUHJlYmlkTmF0aXZlQWQodC5uYXRpdmUpLGEubWVkaWFUeXBlPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5jKTp0LnZpZGVvPyhhLnZhc3RVcmw9dC5kaXNwbGF5dXJsLGEubWVkaWFUeXBlPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5kKTphLmFkPXQuY3JlYXRpdmUscy5wdXNoKGEpfSkpLHN9LG9uVGltZW91dDpmdW5jdGlvbih0KXtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQXJyYXkuaXNBcnJheSh0KSl7dmFyIGU9W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXstMT09PWUuaW5kZXhPZih0LmF1Y3Rpb25JZCkmJihlLnB1c2godC5hdWN0aW9uSWQpLENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFRpbWVvdXQoKSl9KSl9fSxvbkJpZFdvbjpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmdCYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkV29uKHQpfSxvblNldFRhcmdldGluZzpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlU2V0VGFyZ2V0aW5nKHQpfX07ZnVuY3Rpb24gcHVibGlzaGVyVGFnQXZhaWxhYmxlKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBDcml0ZW8mJkNyaXRlby5QdWJUYWcmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkfWZ1bmN0aW9uIGJ1aWxkQ29udGV4dCh0LGUpe3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJihyPWUucmVmZXJlckluZm8ucmVmZXJlcik7dmFyIGk9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5wYXJzZVVybChyKS5zZWFyY2gscz17dXJsOnIsZGVidWc6IjEiPT09aS5wYnRfZGVidWcsbm9Mb2c6IjEiPT09aS5wYnRfbm9sb2csYW1wOiExfTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXsiYW1wIj09PXQucGFyYW1zLmludGVncmF0aW9uTW9kZSYmKHMuYW1wPSEwKX0pKSxzfWZ1bmN0aW9uIGJ1aWxkQ2RiVXJsKHQpe3ZhciBlPUNEQl9FTkRQT0lOVDtyZXR1cm4gZSs9Ij9wcm9maWxlSWQ9IitQUk9GSUxFX0lEX0lOTElORSxlKz0iJmF2PSIrU3RyaW5nKEFEQVBURVJfVkVSU0lPTiksZSs9IiZ3dj0iK2VuY29kZVVSSUNvbXBvbmVudCgiNS4xMS4wIiksZSs9IiZjYj0iK1N0cmluZyhNYXRoLmZsb29yKDk5OTk5OTk5OTk5Kk1hdGgucmFuZG9tKCkpKSx0LmFtcCYmKGUrPSImaW09MSIpLHQuZGVidWcmJihlKz0iJmRlYnVnPTEiKSx0Lm5vTG9nJiYoZSs9IiZub2xvZz0xIiksZX1mdW5jdGlvbiBjaGVja05hdGl2ZVNlbmRJZCh0KXtyZXR1cm4hKHQubmF0aXZlUGFyYW1zJiYodC5uYXRpdmVQYXJhbXMuaW1hZ2UmJighMCE9PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmljb24uc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5jbGlja1VybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybCYmKCEwIT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuZGlzcGxheVVybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbiYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24uc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRUYXJnZXRpbmdLZXlzKSkpfWZ1bmN0aW9uIGJ1aWxkQ2RiUmVxdWVzdCh0LGUscil7dmFyIGkscz17cHVibGlzaGVyOnt1cmw6dC51cmwsZXh0OnIucHVibGlzaGVyRXh0fSxzbG90czplLm1hcCgoZnVuY3Rpb24odCl7aT10LnBhcmFtcy5uZXR3b3JrSWR8fGk7dmFyIGU9e2ltcGlkOnQuYWRVbml0Q29kZSx0cmFuc2FjdGlvbmlkOnQudHJhbnNhY3Rpb25JZCxhdWN0aW9uSWQ6dC5hdWN0aW9uSWR9O2lmKHQucGFyYW1zLnpvbmVJZCYmKGUuem9uZWlkPXQucGFyYW1zLnpvbmVJZCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm9ydGIySW1wLmV4dCIpJiYoZS5leHQ9dC5vcnRiMkltcC5leHQpLHQucGFyYW1zLmV4dCYmKGUuZXh0PV9leHRlbmRzKHt9LGUuZXh0LHQucGFyYW1zLmV4dCkpLHQucGFyYW1zLnB1Ymxpc2hlclN1YklkJiYoZS5wdWJsaXNoZXJzdWJpZD10LnBhcmFtcy5wdWJsaXNoZXJTdWJJZCksdC5wYXJhbXMubmF0aXZlQ2FsbGJhY2t8fF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5jKSk/KGUubmF0aXZlPSEwLGNoZWNrTmF0aXZlU2VuZElkKHQpfHxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ1dhcm4oTE9HX1BSRUZJWCsiYWxsIG5hdGl2ZSBhc3NldHMgY29udGFpbmluZyBVUkwgc2hvdWxkIGJlIHNlbnQgYXMgcGxhY2Vob2xkZXJzIHdpdGggc2VuZElkKGljb24sIGltYWdlLCBjbGlja1VybCwgZGlzcGxheVVybCwgcHJpdmFjeUxpbmssIHByaXZhY3lJY29uKSIpLGUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlTmF0aXZlU2l6ZSkpOmUuc2l6ZXM9cGFyc2VTaXplcyhyZXRyaWV2ZUJhbm5lclNpemVzKHQpLHBhcnNlU2l6ZSksaGFzVmlkZW9NZWRpYVR5cGUodCkpe3ZhciByPXtwbGF5ZXJzaXplczpwYXJzZVNpemVzKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSxwYXJzZVNpemUpLG1pbWVzOnQubWVkaWFUeXBlcy52aWRlby5taW1lcyxwcm90b2NvbHM6dC5tZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyxtYXhkdXJhdGlvbjp0Lm1lZGlhVHlwZXMudmlkZW8ubWF4ZHVyYXRpb24sYXBpOnQubWVkaWFUeXBlcy52aWRlby5hcGksc2tpcDp0Lm1lZGlhVHlwZXMudmlkZW8uc2tpcCxwbGFjZW1lbnQ6dC5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudCxtaW5kdXJhdGlvbjp0Lm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb24scGxheWJhY2ttZXRob2Q6dC5tZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kLHN0YXJ0ZGVsYXk6dC5tZWRpYVR5cGVzLnZpZGVvLnN0YXJ0ZGVsYXl9LHM9dC5wYXJhbXMudmlkZW87dm9pZCAwIT09cyYmKHIuc2tpcD1yLnNraXB8fHMuc2tpcHx8MCxyLnBsYWNlbWVudD1yLnBsYWNlbWVudHx8cy5wbGFjZW1lbnQsci5taW5kdXJhdGlvbj1yLm1pbmR1cmF0aW9ufHxzLm1pbmR1cmF0aW9uLHIucGxheWJhY2ttZXRob2Q9ci5wbGF5YmFja21ldGhvZHx8cy5wbGF5YmFja21ldGhvZCxyLnN0YXJ0ZGVsYXk9ci5zdGFydGRlbGF5fHxzLnN0YXJ0ZGVsYXl8fDApLGUudmlkZW89cn1yZXR1cm4gZX0pKX07cmV0dXJuIGkmJihzLnB1Ymxpc2hlci5uZXR3b3JraWQ9aSkscy51c2VyPXtleHQ6ci51c2VyRXh0fSxyJiZyLmNlaCYmKHMudXNlci5jZWg9ci5jZWgpLHImJnIuZ2RwckNvbnNlbnQmJihzLmdkcHJDb25zZW50PXt9LHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPSEhci5nZHByQ29uc2VudC5nZHByQXBwbGllcykscy5nZHByQ29uc2VudC52ZXJzaW9uPXIuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbix2b2lkIDAhPT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihzLmdkcHJDb25zZW50LmNvbnNlbnREYXRhPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHImJnIudXNwQ29uc2VudCYmKHMudXNlci51c3BJYWI9ci51c3BDb25zZW50KSxzfWZ1bmN0aW9uIHJldHJpZXZlQmFubmVyU2l6ZXModCl7cmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHx0LnNpemVzfWZ1bmN0aW9uIHBhcnNlU2l6ZXModCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0WzBdKT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KSk6W2UodCldfWZ1bmN0aW9uIHBhcnNlU2l6ZSh0KXtyZXR1cm4gdFswXSsieCIrdFsxXX1mdW5jdGlvbiBwYXJzZU5hdGl2ZVNpemUodCl7cmV0dXJuIHZvaWQgMD09PXRbMF0mJnZvaWQgMD09PXRbMV0/IjJ4MiI6dFswXSsieCIrdFsxXX1mdW5jdGlvbiBoYXNWaWRlb01lZGlhVHlwZSh0KXtyZXR1cm4gdm9pZCAwIT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpe3ZhciBlPSEwO2lmKFsibWltZXMiLCJwbGF5ZXJTaXplIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJhcGkiLCJza2lwIiwicGxhY2VtZW50IiwicGxheWJhY2ttZXRob2QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2b2lkIDA9PT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby4iK3IpJiZ2b2lkIDA9PT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3ModCwicGFyYW1zLnZpZGVvLiIrcikmJihlPSExLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nRXJyb3IoIkNyaXRlbyBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlby4iK3IrIiBpcyByZXF1aXJlZCIpKX0pKSxlKXt2YXIgcj10Lm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx0LnBhcmFtcy52aWRlby5wbGFjZW1lbnQ7aWYoImluc3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjE9PT1yKXJldHVybiEwO2lmKCJvdXRzdHJlYW0iPT10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMSE9PXIpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gY3JlYXRlUHJlYmlkTmF0aXZlQWQodCl7cmV0dXJue3NlbmRUYXJnZXRpbmdLZXlzOiExLHRpdGxlOnQucHJvZHVjdHNbMF0udGl0bGUsYm9keTp0LnByb2R1Y3RzWzBdLmRlc2NyaXB0aW9uLHNwb25zb3JlZEJ5OnQuYWR2ZXJ0aXNlci5kZXNjcmlwdGlvbixpY29uOnQuYWR2ZXJ0aXNlci5sb2dvLGltYWdlOnQucHJvZHVjdHNbMF0uaW1hZ2UsY2xpY2tVcmw6dC5wcm9kdWN0c1swXS5jbGlja191cmwscHJpdmFjeUxpbms6dC5wcml2YWN5Lm9wdG91dF9jbGlja191cmwscHJpdmFjeUljb246dC5wcml2YWN5Lm9wdG91dF9pbWFnZV91cmwsY3RhOnQucHJvZHVjdHNbMF0uY2FsbF90b19hY3Rpb24scHJpY2U6dC5wcm9kdWN0c1swXS5wcmljZSxpbXByZXNzaW9uVHJhY2tlcnM6dC5pbXByZXNzaW9uX3BpeGVscy5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnVybH0pKX19ZnVuY3Rpb24gY3JlYXRlTmF0aXZlQWQodCxlLHIpe3ZhciBpPSJjcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cyI7cmV0dXJuIHdpbmRvd1tpXT13aW5kb3dbaV18fHt9LHdpbmRvd1tpXVt0XT17Y2FsbGJhY2s6cixwYXlsb2FkOmV9LCdcbjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5cbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7ICsraSkge1xuIHZhciBzbG90cyA9IHdpbmRvdy5wYXJlbnQuJy5jb25jYXQoaSwnO1xuICBpZighc2xvdHMpe2NvbnRpbnVlO31cbiAgdmFyIHJlc3BvbnNlU2xvdCA9IHNsb3RzWyInKS5jb25jYXQodCwnIl07XG4gIHJlc3BvbnNlU2xvdC5jYWxsYmFjayhyZXNwb25zZVNsb3QucGF5bG9hZCk7XG4gIGJyZWFrO1xufVxuPFwvc2NyaXB0PicpfWZ1bmN0aW9uIGNhbkZhc3RCaWQodCl7cmV0dXJuIHQhPT1GQVNUX0JJRF9WRVJTSU9OX05PTkV9ZnVuY3Rpb24gZ2V0RmFzdEJpZFVybCh0KXt2YXIgZTtpZih0PT09RkFTVF9CSURfVkVSU0lPTl9MQVRFU1QpZT0iIjtlbHNlIGlmKHQpe1N0cmluZyh0KS5zcGxpdCgiLiIpWzBdPDEwMiYmX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKCJTcGVjaWZ5aW5nIGEgRmFzdGJpZCB2ZXJzaW9uIHdoaWNoIGlzIG5vdCBzdXBwb3J0aW5nIHZlcnNpb24gc2VsZWN0aW9uLiIpLGU9Ii4iK3R9ZWxzZSBlPSIuIitGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQ7cmV0dXJuIFBVQkxJU0hFUl9UQUdfVVJMX1RFTVBMQVRFLnJlcGxhY2UoRkFTVF9CSURfVkVSU0lPTl9QTEFDRUhPTERFUixlKX1mdW5jdGlvbiB0cnlHZXRDcml0ZW9GYXN0QmlkKCl7dHJ5e3ZhciBmYXN0QmlkU3RvcmFnZUtleT0iY3JpdGVvX2Zhc3RfYmlkIixoYXNoUHJlZml4PSIvLyBIYXNoOiAiLGZhc3RCaWRGcm9tU3RvcmFnZT1zdG9yYWdlLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KTtpZihudWxsIT09ZmFzdEJpZEZyb21TdG9yYWdlKXt2YXIgZmlyc3RMaW5lRW5kUG9zaXRpb249ZmFzdEJpZEZyb21TdG9yYWdlLmluZGV4T2YoIlxuIiksZmlyc3RMaW5lPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoMCxmaXJzdExpbmVFbmRQb3NpdGlvbikudHJpbSgpO2lmKGZpcnN0TGluZS5zdWJzdHIoMCxoYXNoUHJlZml4Lmxlbmd0aCkhPT1oYXNoUHJlZml4KV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybigiTm8gaGFzaCBmb3VuZCBpbiBGYXN0QmlkIiksc3RvcmFnZS5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSk7ZWxzZXt2YXIgcHVibGlzaGVyVGFnSGFzaD1maXJzdExpbmUuc3Vic3RyKGhhc2hQcmVmaXgubGVuZ3RoKSxwdWJsaXNoZXJUYWc9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cihmaXJzdExpbmVFbmRQb3NpdGlvbisxKTtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fLnZlcmlmeSkocHVibGlzaGVyVGFnLHB1Ymxpc2hlclRhZ0hhc2gsRkFTVF9CSURfUFVCS0VZX04sRkFTVF9CSURfUFVCS0VZX0UpPyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ0luZm8oIlVzaW5nIENyaXRlbyBGYXN0QmlkIiksZXZhbChwdWJsaXNoZXJUYWcpKTooX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKCJJbnZhbGlkIENyaXRlbyBGYXN0QmlkIGZvdW5kIiksc3RvcmFnZS5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSkpfX19Y2F0Y2godCl7fX1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9qc19fLnJlZ2lzdGVyQmlkZGVyKShzcGVjKX0sNzA6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9cig3MSkscz1yKDcyKTtlLnZlcmlmeT1mdW5jdGlvbih0LGUscixhKXt2YXIgXz1uZXcgaS5CaWdJbnRlZ2VyKGkuYjY0dG9IZXgoZSkpLG89bmV3IGkuQmlnSW50ZWdlcihpLmI2NHRvSGV4KHIpKSxuPV8ubW9kUG93SW50KGEsbyk7cmV0dXJuIGkucmVtb3ZlRXh0cmFTeW1ib2xzKG4udG9IZXhTdHJpbmcoKSk9PT1zLlNoYTI1Ni5oYXNoKHQpfX0sNzE6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgaTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe251bGwhPT10JiZ0aGlzLmZyb21IZXhTdHJpbmcodCl9cmV0dXJuIHQucHJvdG90eXBlLnRvSGV4U3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5zPDApcmV0dXJuIi0iK3RoaXMubmVnYXRlKCkudG9IZXhTdHJpbmcoKTt2YXIgdCxlPSExLHI9IiIsaT10aGlzLnQscz10aGlzLkRCLWkqdGhpcy5EQiU0O2lmKGktLSA+MClmb3Ioczx0aGlzLkRCJiYodD10aGlzW2ldPj5zKT4wJiYoZT0hMCxyPWQodCkpO2k+PTA7KXM8ND8odD0odGhpc1tpXSYoMTw8cyktMSk8PDQtcyx0fD10aGlzWy0taV0+PihzKz10aGlzLkRCLTQpKToodD10aGlzW2ldPj4ocy09NCkmMTUsczw9MCYmKHMrPXRoaXMuREIsLS1pKSksdD4wJiYoZT0hMCksZSYmKHIrPWQodCkpO3JldHVybiBlP3I6IjAifSx0LnByb3RvdHlwZS5mcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKGUpe2lmKG51bGwhPT1lKXt0aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIHI9ZS5sZW5ndGgsaT0hMSxzPTA7LS1yPj0wOyl7dmFyIGE9cChlLHIpO2E8MD8iLSI9PWUuY2hhckF0KHIpJiYoaT0hMCk6KGk9ITEsMD09cz90aGlzW3RoaXMudCsrXT1hOnMrND50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGEmKDE8PHRoaXMuREItcyktMSk8PHMsdGhpc1t0aGlzLnQrK109YT4+dGhpcy5EQi1zKTp0aGlzW3RoaXMudC0xXXw9YTw8cywocys9NCk+PXRoaXMuREImJihzLT10aGlzLkRCKSl9MCx0aGlzLmNsYW1wKCksaSYmdC5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9fSx0LnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXt2YXIgZT1hKCk7cmV0dXJuIHQuWkVSTy5zdWJUbyh0aGlzLGUpLGV9LHQucHJvdG90eXBlLmFicz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9LHQucHJvdG90eXBlLm1vZD1mdW5jdGlvbihlKXt2YXIgcj1hKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8oZSxudWxsLHIpLHRoaXMuczwwJiZyLmNvbXBhcmVUbyh0LlpFUk8pPjAmJmUuc3ViVG8ocixyKSxyfSx0LnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudC0xO2U+PTA7LS1lKXRbZV09dGhpc1tlXTt0LnQ9dGhpcy50LHQucz10aGlzLnN9LHQucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQldGhpcy5EQixpPXRoaXMuREItcixzPSgxPDxpKS0xLGE9TWF0aC5mbG9vcih0L3RoaXMuREIpLF89dGhpcy5zPDxyJnRoaXMuRE0sbz10aGlzLnQtMTtvPj0wOy0tbyllW28rYSsxXT10aGlzW29dPj5pfF8sXz0odGhpc1tvXSZzKTw8cjtmb3Iobz1hLTE7bz49MDstLW8pZVtvXT0wO2VbYV09XyxlLnQ9dGhpcy50K2ErMSxlLnM9dGhpcy5zLGUuY2xhbXAoKX0sdC5wcm90b3R5cGUuaW52RGlnaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgdD10aGlzWzBdO2lmKDA9PSgxJnQpKXJldHVybiAwO3ZhciBlPTMmdDtyZXR1cm4oZT0oZT0oZT0oZT1lKigyLSgxNSZ0KSplKSYxNSkqKDItKDI1NSZ0KSplKSYyNTUpKigyLSgoNjU1MzUmdCkqZSY2NTUzNSkpJjY1NTM1KSooMi10KmUldGhpcy5EVikldGhpcy5EVik+MD90aGlzLkRWLWU6LWV9LHQucHJvdG90eXBlLmRsU2hpZnRUbz1mdW5jdGlvbih0LGUpe3ZhciByO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKWVbcit0XT10aGlzW3JdO2ZvcihyPXQtMTtyPj0wOy0tcillW3JdPTA7ZS50PXRoaXMudCt0LGUucz10aGlzLnN9LHQucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFicygpLHI9dC50PTIqZS50Oy0tcj49MDspdFtyXT0wO2ZvcihyPTA7cjxlLnQtMTsrK3Ipe3ZhciBpPWUuYW0ocixlW3JdLHQsMipyLDAsMSk7KHRbcitlLnRdKz1lLmFtKHIrMSwyKmVbcl0sdCwyKnIrMSxpLGUudC1yLTEpKT49ZS5EViYmKHRbcitlLnRdLT1lLkRWLHRbcitlLnQrMV09MSl9dC50PjAmJih0W3QudC0xXSs9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKSksdC5zPTAsdC5jbGFtcCgpfSx0LnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcy5hYnMoKSxzPWUuYWJzKCksYT1pLnQ7Zm9yKHIudD1hK3MudDstLWE+PTA7KXJbYV09MDtmb3IoYT0wO2E8cy50OysrYSlyW2EraS50XT1pLmFtKDAsc1thXSxyLGEsMCxpLnQpO3Iucz0wLHIuY2xhbXAoKSx0aGlzLnMhPWUucyYmdC5aRVJPLnN1YlRvKHIscil9LHQucHJvdG90eXBlLmRpdlJlbVRvPWZ1bmN0aW9uKGUscixpKXt2YXIgcz1lLmFicygpO2lmKCEocy50PD0wKSl7dmFyIG89dGhpcy5hYnMoKTtpZihvLnQ8cy50KXJldHVybiBudWxsIT1yJiZyLmZyb21IZXhTdHJpbmcoIjAiKSx2b2lkKG51bGwhPWkmJnRoaXMuY29weVRvKGkpKTtudWxsPT1pJiYoaT1hKCkpO3ZhciBuPWEoKSxjPXRoaXMucyxwPWUucyxkPXRoaXMuREItXyhzW3MudC0xXSk7ZD4wPyhzLmxTaGlmdFRvKGQsbiksby5sU2hpZnRUbyhkLGkpKToocy5jb3B5VG8obiksby5jb3B5VG8oaSkpO3ZhciB1PW4udCxsPW5bdS0xXTtpZigwIT1sKXt2YXIgaD1sKigxPDx0aGlzLkYxKSsodT4xP25bdS0yXT4+dGhpcy5GMjowKSxmPXRoaXMuRlYvaCxFPSgxPDx0aGlzLkYxKS9oLHY9MTw8dGhpcy5GMixtPWkudCxUPW0tdSxiPW51bGw9PXI/YSgpOnI7Zm9yKG4uZGxTaGlmdFRvKFQsYiksaS5jb21wYXJlVG8oYik+PTAmJihpW2kudCsrXT0xLGkuc3ViVG8oYixpKSksdC5PTkUuZGxTaGlmdFRvKHUsYiksYi5zdWJUbyhuLG4pO24udDx1OyluW24udCsrXT0wO2Zvcig7LS1UPj0wOyl7dmFyIEQ9aVstLW1dPT1sP3RoaXMuRE06TWF0aC5mbG9vcihpW21dKmYrKGlbbS0xXSt2KSpFKTtpZigoaVttXSs9bi5hbSgwLEQsaSxULDAsdSkpPEQpZm9yKG4uZGxTaGlmdFRvKFQsYiksaS5zdWJUbyhiLGkpO2lbbV08LS1EOylpLnN1YlRvKGIsaSl9bnVsbCE9ciYmKGkuZHJTaGlmdFRvKHUsciksYyE9cCYmdC5aRVJPLnN1YlRvKHIscikpLGkudD11LGkuY2xhbXAoKSxkPjAmJmkuclNoaWZ0VG8oZCxpKSxjPDAmJnQuWkVSTy5zdWJUbyhpLGkpfX19LHQucHJvdG90eXBlLnJTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7ZS5zPXRoaXMuczt2YXIgcj1NYXRoLmZsb29yKHQvdGhpcy5EQik7aWYocj49dGhpcy50KWUudD0wO2Vsc2V7dmFyIGk9dCV0aGlzLkRCLHM9dGhpcy5EQi1pLGE9KDE8PGkpLTE7ZVswXT10aGlzW3JdPj5pO2Zvcih2YXIgXz1yKzE7Xzx0aGlzLnQ7KytfKWVbXy1yLTFdfD0odGhpc1tfXSZhKTw8cyxlW18tcl09dGhpc1tfXT4+aTtpPjAmJihlW3RoaXMudC1yLTFdfD0odGhpcy5zJmEpPDxzKSxlLnQ9dGhpcy50LXIsZS5jbGFtcCgpfX0sdC5wcm90b3R5cGUuZHJTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQ7cjx0aGlzLnQ7KytyKWVbci10XT10aGlzW3JdO2UudD1NYXRoLm1heCh0aGlzLnQtdCwwKSxlLnM9dGhpcy5zfSx0LnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLGk9MCxzPU1hdGgubWluKHQudCx0aGlzLnQpO3I8czspaSs9dGhpc1tyXS10W3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aWYodC50PHRoaXMudCl7Zm9yKGktPXQucztyPHRoaXMudDspaSs9dGhpc1tyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2krPXRoaXMuc31lbHNle2ZvcihpKz10aGlzLnM7cjx0LnQ7KWktPXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpLT10LnN9ZS5zPWk8MD8tMTowLGk8LTE/ZVtyKytdPXRoaXMuRFYraTppPjAmJihlW3IrK109aSksZS50PXIsZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnMmdGhpcy5ETTt0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PXQ7KS0tdGhpcy50fSx0LnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcjtyZXR1cm4gcj10PDI1Nnx8ZS5pc0V2ZW4oKT9uZXcgdShlKTpuZXcgbChlKSx0aGlzLmV4cCh0LHIpfSx0LnByb3RvdHlwZS5leHA9ZnVuY3Rpb24oZSxyKXtpZihlPjQyOTQ5NjcyOTV8fGU8MSlyZXR1cm4gdC5PTkU7dmFyIGk9YSgpLHM9YSgpLG89ci5jb252ZXJ0KHRoaXMpLG49XyhlKS0xO2ZvcihvLmNvcHlUbyhpKTstLW4+PTA7KWlmKHIuc3FyVG8oaSxzKSwoZSYxPDxuKT4wKXIubXVsVG8ocyxvLGkpO2Vsc2V7dmFyIGM9aTtpPXMscz1jfXJldHVybiByLnJldmVydChpKX0sdC5wcm90b3R5cGUuaXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5zKX0sdC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucy10LnM7aWYoMCE9ZSlyZXR1cm4gZTt2YXIgcj10aGlzLnQ7aWYoMCE9KGU9ci10LnQpKXJldHVybiB0aGlzLnM8MD8tZTplO2Zvcig7LS1yPj0wOylpZigwIT0oZT10aGlzW3JdLXRbcl0pKXJldHVybiBlO3JldHVybiAwfSx0LnByb3RvdHlwZS5hbTE9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcig7LS1hPj0wOyl7dmFyIF89ZSp0aGlzW3QrK10rcltpXStzO3M9TWF0aC5mbG9vcihfLzY3MTA4ODY0KSxyW2krK109NjcxMDg4NjMmX31yZXR1cm4gc30sdC5wcm90b3R5cGUuYW0yPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IodmFyIF89MzI3NjcmZSxvPWU+PjE1Oy0tYT49MDspe3ZhciBuPTMyNzY3JnRoaXNbdF0sYz10aGlzW3QrK10+PjE1LHA9bypuK2MqXztzPSgobj1fKm4rKCgzMjc2NyZwKTw8MTUpK3JbaV0rKDEwNzM3NDE4MjMmcykpPj4+MzApKyhwPj4+MTUpK28qYysocz4+PjMwKSxyW2krK109MTA3Mzc0MTgyMyZufXJldHVybiBzfSx0LnByb3RvdHlwZS5hbTM9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcih2YXIgXz0xNjM4MyZlLG89ZT4+MTQ7LS1hPj0wOyl7dmFyIG49MTYzODMmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTQscD1vKm4rYypfO3M9KChuPV8qbisoKDE2MzgzJnApPDwxNCkrcltpXStzKT4+MjgpKyhwPj4xNCkrbypjLHJbaSsrXT0yNjg0MzU0NTUmbn1yZXR1cm4gc30sdH0oKTtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBzKG51bGwpfWZ1bmN0aW9uIF8odCl7dmFyIGUscj0xO3JldHVybiAwIT0oZT10Pj4+MTYpJiYodD1lLHIrPTE2KSwwIT0oZT10Pj44KSYmKHQ9ZSxyKz04KSwwIT0oZT10Pj40KSYmKHQ9ZSxyKz00KSwwIT0oZT10Pj4yKSYmKHQ9ZSxyKz0yKSwwIT0oZT10Pj4xKSYmKHQ9ZSxyKz0xKSxyfWUuQmlnSW50ZWdlcj1zLGUubmJpPWEsZS5uYml0cz1fO3ZhciBvLG4sYz1bXTtmb3Iobz0iMCIuY2hhckNvZGVBdCgwKSxuPTA7bjw9OTsrK24pY1tvKytdPW47Zm9yKG89ImEiLmNoYXJDb2RlQXQoMCksbj0xMDtuPDM2OysrbiljW28rK109bjtmb3Iobz0iQSIuY2hhckNvZGVBdCgwKSxuPTEwO248MzY7KytuKWNbbysrXT1uO2Z1bmN0aW9uIHAodCxlKXt2YXIgcj1jW3QuY2hhckNvZGVBdChlKV07cmV0dXJuIG51bGw9PXI/LTE6cn1lLmludEF0PXA7ZnVuY3Rpb24gZCh0KXtyZXR1cm4iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Ii5jaGFyQXQodCl9ZS5pbnQyY2hhcj1kO2UuYjY0dG9IZXg9ZnVuY3Rpb24odCl7dmFyIGUscj0iIixpPTAscz0wO2ZvcihlPTA7ZTx0Lmxlbmd0aCYmIj0iIT10LmNoYXJBdChlKTsrK2Upe3ZhciBhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5pbmRleE9mKHQuY2hhckF0KGUpKTthPDB8fCgwPT1pPyhyKz1kKGE+PjIpLHM9MyZhLGk9MSk6MT09aT8ocis9ZChzPDwyfGE+PjQpLHM9MTUmYSxpPTIpOjI9PWk/KHIrPWQocykscis9ZChhPj4yKSxzPTMmYSxpPTMpOihyKz1kKHM8PDJ8YT4+NCkscis9ZCgxNSZhKSxpPTApKX1yZXR1cm4gMT09aSYmKHIrPWQoczw8MikpLHJ9LGUucmVtb3ZlRXh0cmFTeW1ib2xzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL14xZiswMC8sIiIpLnJlcGxhY2UoIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwIiwiIil9O3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm09dH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zPDB8fHQuY29tcGFyZVRvKHRoaXMubSk+PTA/dC5tb2QodGhpcy5tKTp0fSx0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXt0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm09dCx0aGlzLm1wPXQuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PHQuREItMTUpLTEsdGhpcy5tdDI9Mip0LnR9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9YSgpO3JldHVybiB0LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxlKSxlLmRpdlJlbVRvKHRoaXMubSxudWxsLGUpLHQuczwwJiZlLmNvbXBhcmVUbyhzLlpFUk8pPjAmJnRoaXMubS5zdWJUbyhlLGUpLGV9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXt2YXIgZT1hKCk7cmV0dXJuIHQuY29weVRvKGUpLHRoaXMucmVkdWNlKGUpLGV9LHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXtmb3IoO3QudDw9dGhpcy5tdDI7KXRbdC50KytdPTA7Zm9yKHZhciBlPTA7ZTx0aGlzLm0udDsrK2Upe3ZhciByPTMyNzY3JnRbZV0saT1yKnRoaXMubXBsKygocip0aGlzLm1waCsodFtlXT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmdC5ETTtmb3IodFtyPWUrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCxpLHQsZSwwLHRoaXMubS50KTt0W3JdPj10LkRWOyl0W3JdLT10LkRWLHRbKytyXSsrfXQuY2xhbXAoKSx0LmRyU2hpZnRUbyh0aGlzLm0udCx0KSx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZ0LnN1YlRvKHRoaXMubSx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCk7ZnVuY3Rpb24gaCh0KXt2YXIgZT1hKCk7cmV0dXJuIGUuZnJvbUhleFN0cmluZyh0LnRvU3RyaW5nKCkpLGV9ZS5uYnY9aCxzLlpFUk89aCgwKSxzLk9ORT1oKDEpLCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8ocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0yLGk9MzApOiJOZXRzY2FwZSIhPW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTEsaT0yNik6KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMyxpPTI4KSxzLnByb3RvdHlwZS5EQj1pLHMucHJvdG90eXBlLkRNPSgxPDxpKS0xLHMucHJvdG90eXBlLkRWPTE8PGk7cy5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1Mikscy5wcm90b3R5cGUuRjE9NTItaSxzLnByb3RvdHlwZS5GMj0yKmktNTJ9LDcyOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5oYXNoPWZ1bmN0aW9uKGUpe2U9dC51dGY4RW5jb2RlKGV8fCIiKTtmb3IodmFyIHI9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0saT1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLHM9KGUrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI4KSkubGVuZ3RoLzQrMixhPU1hdGguY2VpbChzLzE2KSxfPW5ldyBBcnJheShhKSxvPTA7bzxhO28rKyl7X1tvXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgbj0wO248MTY7bisrKV9bb11bbl09ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKTw8MjR8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzEpPDwxNnxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMik8PDh8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzMpPDwwfXZhciBjPTgqKGUubGVuZ3RoLTEpL01hdGgucG93KDIsMzIpLHA9OCooZS5sZW5ndGgtMSk+Pj4wO19bYS0xXVsxNF09TWF0aC5mbG9vcihjKSxfW2EtMV1bMTVdPXA7Zm9yKG89MDtvPGE7bysrKXtmb3IodmFyIGQ9bmV3IEFycmF5KDY0KSx1PTA7dTwxNjt1KyspZFt1XT1fW29dW3VdO2Zvcih1PTE2O3U8NjQ7dSsrKWRbdV09dC5xMShkW3UtMl0pK2RbdS03XSt0LnEwKGRbdS0xNV0pK2RbdS0xNl0+Pj4wO3ZhciBsPWlbMF0saD1pWzFdLGY9aVsyXSxFPWlbM10sdj1pWzRdLG09aVs1XSxUPWlbNl0sYj1pWzddO2Zvcih1PTA7dTw2NDt1Kyspe3ZhciBEPWIrdC56MSh2KSt0LkNoKHYsbSxUKStyW3VdK2RbdV0seT10LnowKGwpK3QuTWFqKGwsaCxmKTtiPVQsVD1tLG09dix2PUUrRD4+PjAsRT1mLGY9aCxoPWwsbD1EK3k+Pj4wfWlbMF09aVswXStsPj4+MCxpWzFdPWlbMV0raD4+PjAsaVsyXT1pWzJdK2Y+Pj4wLGlbM109aVszXStFPj4+MCxpWzRdPWlbNF0rdj4+PjAsaVs1XT1pWzVdK20+Pj4wLGlbNl09aVs2XStUPj4+MCxpWzddPWlbN10rYj4+PjB9dmFyIFA9bmV3IEFycmF5KGkubGVuZ3RoKTtmb3IoYj0wO2I8aS5sZW5ndGg7YisrKVBbYl09KCIwMDAwMDAwMCIraVtiXS50b1N0cmluZygxNikpLnNsaWNlKC04KTtyZXR1cm4gUC5qb2luKCIiKX0sdC51dGY4RW5jb2RlPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K1N0cmluZy5mcm9tQ2hhckNvZGUoZSl9KSwiIil9Y2F0Y2goZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSl9fSx0LlJPVFI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT4+PnR8ZTw8MzItdH0sdC56MD1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDIsZSledC5ST1RSKDEzLGUpXnQuUk9UUigyMixlKX0sdC56MT1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDYsZSledC5ST1RSKDExLGUpXnQuUk9UUigyNSxlKX0sdC5xMD1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDcsZSledC5ST1RSKDE4LGUpXmU+Pj4zfSx0LnExPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoMTcsZSledC5ST1RSKDE5LGUpXmU+Pj4xMH0sdC5DaD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmZV5+dCZyfSx0Lk1haj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmZV50JnJeZSZyfSx0fSgpO2UuU2hhMjU2PWl9fSxbMzY0XSk7CnVwYmpzQ2h1bmsoWzI2Nl0sezM2ODpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oMzY5KX0sMzY5OmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJjdXJyZW5jeVN1cHBvcnRFbmFibGVkIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQociwiY3VycmVuY3lSYXRlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksci5zZXRDb25maWc9bSxyLmFkZEJpZFJlc3BvbnNlSG9vaz1PO3ZhciBvPW4oMTQpLGM9big0MiksdD1uKDUpLGk9KG4ubih0KSxuKDQpKSxhPW4oMCksdT1uKDMpLHM9bigxMCk7ZnVuY3Rpb24gZihlKXtyZXR1cm4oZj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBkLGw9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9wcmViaWQvY3VycmVuY3ktZmlsZUAxL2xhdGVzdC5qc29uP2RhdGU9JCRUT0RBWSQkIix5PVtdLGc9e30sdj0hMSxwPSEwLGI9IlVTRCIsaD0hMSxDPXt9LFM9e307ZnVuY3Rpb24gbShlKXt2YXIgcj1sO2lmKCJvYmplY3QiPT09ZihlLnJhdGVzKSYmKEMuY29udmVyc2lvbnM9ZS5yYXRlcyx2PSEwLHA9ITEpLCJvYmplY3QiPT09ZihlLmRlZmF1bHRSYXRlcykmJihkPWUuZGVmYXVsdFJhdGVzLEMuY29udmVyc2lvbnM9ZCx2PSEwKSwic3RyaW5nIj09dHlwZW9mIGUuYWRTZXJ2ZXJDdXJyZW5jeSl7YS5sb2dJbmZvKCJlbmFibGluZyBjdXJyZW5jeSBzdXBwb3J0Iixhcmd1bWVudHMpLGI9ZS5hZFNlcnZlckN1cnJlbmN5LGUuY29udmVyc2lvblJhdGVGaWxlJiYoYS5sb2dJbmZvKCJjdXJyZW5jeSB1c2luZyBvdmVycmlkZSBjb252ZXJzaW9uUmF0ZUZpbGU6IixlLmNvbnZlcnNpb25SYXRlRmlsZSkscj1lLmNvbnZlcnNpb25SYXRlRmlsZSk7dmFyIG49ci5pbmRleE9mKCIkJFRPREFZJCQiKTtpZigtMSE9PW4pe3ZhciBvPW5ldyBEYXRlLGM9IiIuY29uY2F0KG8uZ2V0TW9udGgoKSsxKSx0PSIiLmNvbmNhdChvLmdldERhdGUoKSk7Yy5sZW5ndGg8MiYmKGM9IjAiLmNvbmNhdChjKSksdC5sZW5ndGg8MiYmKHQ9IjAiLmNvbmNhdCh0KSk7dmFyIGk9IiIuY29uY2F0KG8uZ2V0RnVsbFllYXIoKSkuY29uY2F0KGMpLmNvbmNhdCh0KTtyPSIiLmNvbmNhdChyLnN1YnN0cmluZygwLG4pKS5jb25jYXQoaSkuY29uY2F0KHIuc3Vic3RyaW5nKG4rOSxyLmxlbmd0aCkpfUQocil9ZWxzZSBhLmxvZ0luZm8oImRpc2FibGluZyBjdXJyZW5jeSBzdXBwb3J0IiksSSgpOyJvYmplY3QiPT09ZihlLmJpZGRlckN1cnJlbmN5RGVmYXVsdCkmJihTPWUuYmlkZGVyQ3VycmVuY3lEZWZhdWx0KX1mdW5jdGlvbiBSKGUpe2Q/KGEubG9nV2FybihlKSxhLmxvZ1dhcm4oIkN1cnJlbmN5IGZhaWxlZCBsb2FkaW5nIHJhdGVzLCBmYWxsaW5nIGJhY2sgdG8gY3VycmVuY3kuZGVmYXVsdFJhdGVzIikpOmEubG9nRXJyb3IoZSl9ZnVuY3Rpb24gRChlKXtnPXt9LGg9ITAsYS5sb2dJbmZvKCJJbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChvLmEpKCkuY29udmVydEN1cnJlbmN5PWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gcGFyc2VGbG9hdChlKSp3KHIsbil9LE9iamVjdChzLmEpKCJhZGRCaWRSZXNwb25zZSIpLmJlZm9yZShPLDEwMCkscCYmKHA9ITEsT2JqZWN0KGkuYSkoZSx7c3VjY2VzczpmdW5jdGlvbihlKXt0cnl7Qz1KU09OLnBhcnNlKGUpLGEubG9nSW5mbygiY3VycmVuY3lSYXRlcyBzZXQgdG8gIitKU09OLnN0cmluZ2lmeShDKSksdj0hMCxqKCl9Y2F0Y2gocil7UigiRmFpbGVkIHRvIHBhcnNlIGN1cnJlbmN5UmF0ZXMgcmVzcG9uc2U6ICIrZSl9fSxlcnJvcjpSfSkpfWZ1bmN0aW9uIEkoKXthLmxvZ0luZm8oIlVuaW5zdGFsbGluZyBhZGRCaWRSZXNwb25zZSBkZWNvcmF0b3IgZm9yIGN1cnJlbmN5IG1vZHVsZSIsYXJndW1lbnRzKSxPYmplY3Qocy5hKSgiYWRkQmlkUmVzcG9uc2UiKS5nZXRIb29rcyh7aG9vazpPfSkucmVtb3ZlKCksZGVsZXRlIE9iamVjdChvLmEpKCkuY29udmVydEN1cnJlbmN5LGI9IlVTRCIsZz17fSxoPSExLHY9ITEscD0hMCxDPXt9LFM9e319ZnVuY3Rpb24gTyhlLHIsbil7aWYoIW4pcmV0dXJuIGUuY2FsbCh0aGlzLHIpO3ZhciBvPW4uYmlkZGVyQ29kZXx8bi5iaWRkZXI7aWYoU1tvXSl7dmFyIGk9U1tvXTtuLmN1cnJlbmN5JiZpIT09bi5jdXJyZW5jeT9hLmxvZ1dhcm4oIkN1cnJlbmN5IGRlZmF1bHQgJyIuY29uY2F0KG8sIjogIikuY29uY2F0KGksIicgaWdub3JlZC4gYWRhcHRlciBzcGVjaWZpZWQgJyIpLmNvbmNhdChuLmN1cnJlbmN5LCInIikpOm4uY3VycmVuY3k9aX1pZihuLmN1cnJlbmN5fHwoYS5sb2dXYXJuKCdDdXJyZW5jeSBub3Qgc3BlY2lmaWVkIG9uIGJpZC4gIERlZmF1bHRlZCB0byAiVVNEIicpLG4uY3VycmVuY3k9IlVTRCIpLG4uZ2V0Q3BtSW5OZXdDdXJyZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4ocGFyc2VGbG9hdCh0aGlzLmNwbSkqdyh0aGlzLmN1cnJlbmN5LGUpKS50b0ZpeGVkKDMpfSxuLmN1cnJlbmN5PT09YilyZXR1cm4gZS5jYWxsKHRoaXMscixuKTt5LnB1c2goZnVuY3Rpb24oZSxyLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBvPW5bMV07aWYodm9pZCAwIT09byYmImN1cnJlbmN5ImluIG8mJiJjcG0iaW4gbyl7dmFyIGk9by5jdXJyZW5jeTt0cnl7dmFyIHU9dyhpKTsxIT09dSYmKG8uY3BtPShwYXJzZUZsb2F0KG8uY3BtKSp1KS50b0ZpeGVkKDQpLG8uY3VycmVuY3k9Yil9Y2F0Y2goZSl7YS5sb2dXYXJuKCJSZXR1cm5pbmcgTk9fQklELCBnZXRDdXJyZW5jeUNvbnZlcnNpb24gdGhyZXcgZXJyb3I6ICIsZSksblsxXT1PYmplY3QoYy5hKSh0LlNUQVRVUy5OT19CSUQse2JpZGRlcjpvLmJpZGRlckNvZGV8fG8uYmlkZGVyLGJpZElkOm8ucmVxdWVzdElkfSl9fXJldHVybiBlLmFwcGx5KHIsbil9fShlLHRoaXMsW3Isbl0pKSxoJiYhdnx8aigpfWZ1bmN0aW9uIGooKXtmb3IoO3kubGVuZ3RoPjA7KXkuc2hpZnQoKSgpfWZ1bmN0aW9uIHcoZSl7dmFyIHIsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06YixvPW51bGwsYz0iIi5jb25jYXQoZSwiLT4iKS5jb25jYXQobik7aWYoYyBpbiBnKW89Z1tjXSxhLmxvZ01lc3NhZ2UoIlVzaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK28rIiBmb3IgIitjKTtlbHNlIGlmKCExPT09aCl7aWYoIlVTRCIhPT1lKXRocm93IG5ldyBFcnJvcigiUHJlYmlkIGN1cnJlbmN5IHN1cHBvcnQgaGFzIG5vdCBiZWVuIGVuYWJsZWQgYW5kIGZyb21DdXJyZW5jeSBpcyBub3QgVVNEIik7bz0xfWVsc2UgaWYoZT09PW4pbz0xO2Vsc2UgaWYoZSBpbiBDLmNvbnZlcnNpb25zKXtpZighKG4gaW4ocj1DLmNvbnZlcnNpb25zW2VdKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbisiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtvPXJbbl0sYS5sb2dJbmZvKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgZGlyZWN0ICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrbyl9ZWxzZSBpZihuIGluIEMuY29udmVyc2lvbnMpe2lmKCEoZSBpbihyPUMuY29udmVyc2lvbnNbbl0pKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBmcm9tQ3VycmVuY3kgJyIrZSsiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtvPUYoMS9yW2VdLDQpLGEubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIHJlY2lwcm9jYWwgIitlKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitvKX1lbHNle3ZhciB0PU9iamVjdC5rZXlzKEMuY29udmVyc2lvbnMpWzBdO2lmKCEoZSBpbiBDLmNvbnZlcnNpb25zW3RdKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBmcm9tQ3VycmVuY3kgJyIrZSsiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTt2YXIgaT0xL0MuY29udmVyc2lvbnNbdF1bZV07aWYoIShuIGluIEMuY29udmVyc2lvbnNbdF0pKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK24rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIHU9Qy5jb252ZXJzaW9uc1t0XVtuXTtvPUYoaSp1LDQpLGEubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGludGVybWVkaWF0ZSAiK2UrIiB0aHJ1ICIrdCsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrbyl9cmV0dXJuIGMgaW4gZ3x8KGEubG9nTWVzc2FnZSgiQWRkaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK28rIiBmb3IgIitjKSxnW2NdPW8pLG99ZnVuY3Rpb24gRihlLHIpe2Zvcih2YXIgbj0xLG89MDtvPHI7bysrKW4rPSIwIjtyZXR1cm4gTWF0aC5yb3VuZChlKm4pL259dS5iLmdldENvbmZpZygiY3VycmVuY3kiLChmdW5jdGlvbihlKXtyZXR1cm4gbShlLmN1cnJlbmN5KX0pKX19LFszNjhdKTsKdXBianNDaHVuayhbMjYwXSx7MzgyOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgzODMpfSwzODM6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLHIuZ2V0Rmxvb3I9aCxyLmNsZWFuU2l6ZXM9dixyLnNodWZmbGU9QSxyLnJlbW92ZUR1cGxpY2F0ZT1JLHIudXB0bzU9UyxyLm1hdGNoUmVxdWVzdD14LHIuY2hlY2tEZWVwQXJyYXk9TyxyLmRlZmF1bHRTaXplPXcsci5iaW5kVXNlcklkPVQsci5nZXRBcGk9eixyLmdldFBsYXliYWNrbWV0aG9kPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApcmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYi5wbGF5YmFja19tZXRob2RbZV19KSk7cmV0dXJuWzJdfSxyLmdldFByb3RvY29scz1qLHIuY2xlYW5WYXN0PV87dmFyIG49dCgwKSxpPXQoMSksbz10KDMpLHM9dCgyKTtmdW5jdGlvbiBhKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxvPVtdLHM9ITAsYT0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEocz0obj10Lm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXJ8fG8ubGVuZ3RoIT09cik7cz0hMCk7fWNhdGNoKGUpe2E9ITAsaT1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gb30oZSxyKXx8dShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHUoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZChlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP2QoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIGQoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiBwKGUpe3JldHVybihwPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbChlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24gbShlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9sKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZihlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6bChPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX12YXIgeT0iaHR0cHM6Ly9kbXguZGlzdHJpY3RtLmlvL2IvdjEiLGI9e3BsYXliYWNrX21ldGhvZDp7YXV0b19wbGF5X3NvdW5kX29uOjEsYXV0b19wbGF5X3NvdW5kX29mZjoyLGNsaWNrX3RvX3BsYXk6Myxtb3VzZV9vdmVyOjQsdmlld3BvcnRfc291bmRfb246NSx2aWV3cG9ydF9zb3VuZF9vZmY6Nn19LGc9e2NvZGU6ImRpc3RyaWN0bURNWCIsZ3ZsaWQ6MTQ0LGFsaWFzZXM6WyJkbXgiXSxzdXBwb3J0ZWRGb3JtYXQ6W3MuYixzLmRdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuZCxzLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMubWVtYmVyaWR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7cmV0dXJuKGU9ZS5ib2R5fHx7fSkuc2VhdGJpZCYmbi5pc0FycmF5KGUuc2VhdGJpZCk/ZS5zZWF0YmlkLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoZS5wcmljZTx0LnByaWNlKXt2YXIgbj14KHQuaW1waWQsciksaT13KG4pLG89aS53aWR0aCxzPWkuaGVpZ2h0O3JldHVybiB0LmNwbT1wYXJzZUZsb2F0KHQucHJpY2UpLnRvRml4ZWQoMiksdC5iaWRJZD10LmltcGlkLHQucmVxdWVzdElkPXQuaW1waWQsdC53aWR0aD10Lnd8fG8sdC5oZWlnaHQ9dC5ofHxzLHQudHRsPTMwMCx0Lm1lZGlhVHlwZT1uLm1lZGlhVHlwZXMmJm4ubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLCJ2aWRlbyI9PT10Lm1lZGlhVHlwZSYmKHQudmFzdFhtbD1fKHQuYWRtLHQubnVybCksdC50dGw9MzYwMCksdC5kZWFsaWQmJih0LmRlYWxJZD10LmRlYWxpZCksdC51dWlkPXQuYmlkSWQsdC5hZD10LmFkbSx0Lm5ldFJldmVudWU9ITAsdC5jcmVhdGl2ZUlkPXQuY3JpZCx0LmN1cnJlbmN5PSJVU0QiLHQubWV0YT10Lm1ldGF8fHt9LHQuYWRvbWFpbiYmdC5hZG9tYWluLmxlbmd0aD4wJiYodC5tZXRhLmFkdmVydGlzZXJEb21haW5zPXQuYWRvbWFpbiksdH1yZXR1cm4gZS5jcG09ZS5wcmljZSxlfSkse3ByaWNlOjB9KTtyZXR1cm4gbi5hZG0mJmUucHVzaChuKSxlfSksW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuISFlLmJpZElkfSkpOltdfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGk9bnVsbCxzPXtpZDpuLmdlbmVyYXRlVVVJRCgpLGN1cjpbIlVTRCJdLHRtYXg6dC0zMDAsdGVzdDp0aGlzLnRlc3QoKXx8MCxzaXRlOntwdWJsaXNoZXI6e2lkOlN0cmluZyhlWzBdLnBhcmFtcy5tZW1iZXJpZCl8fG51bGx9fX07dHJ5e3ZhciBhPW8uYi5nZXRDb25maWcoImRteCIpO3MudXNlcj1hLnVzZXJ8fHt9O3ZhciBjPWEuc2l0ZXx8e307cy5zaXRlPW0obSh7fSxzLnNpdGUpLGMpfWNhdGNoKGUpe312YXIgdT1bXTtlWzBdJiZlWzBdLnVzZXJJZCYmKFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmlkbF9lbnYiKSwibGl2ZXJhbXAuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5pZDVpZC51aWQiKSwiaWQ1LXN5bmMuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5wdWJjaWQiKSwicHViY2lkLm9yZyIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQudGRpZCIpLCJhZHNlcnZlci5vcmciLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmNyaXRlb0lkIiksImNyaXRlby5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmJyaXRlcG9vbGlkIiksImJyaXRlcG9vbC5jb20iLDEpLFQodSxuLmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmxpcGIubGlwYmlkIiksImxpdmVpbnRlbnQuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5pbnRlbnRpcWlkIiksImludGVudGlxLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQubG90YW1lUGFub3JhbWFJZCIpLCJsb3RhbWUuY29tIiwxKSxUKHUsbi5kZWVwQWNjZXNzKGVbMF0sInVzZXJJZC5wYXJyYWJsZUlkIiksInBhcnJhYmxlLmNvbSIsMSksVCh1LG4uZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQubmV0SWQiKSwibmV0aWQuZGUiLDEpLHMudXNlcj1zLnVzZXJ8fHt9LHMudXNlci5leHQ9cy51c2VyLmV4dHx8e30scy51c2VyLmV4dC5laWRzPXUpLHMudGVzdHx8ZGVsZXRlIHMudGVzdCxyLmdkcHJDb25zZW50JiYocy5yZWdzPXt9LHMucmVncy5leHQ9e30scy5yZWdzLmV4dC5nZHByPSEwPT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjAsITA9PT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocy51c2VyPXt9LHMudXNlci5leHQ9e30scy51c2VyLmV4dC5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHMucmVncz1zLnJlZ3N8fHt9LHMucmVncy5jb3BwYT0hMD09PW8uYi5nZXRDb25maWcoImNvcHBhIik/MTowLHImJnIudXNwQ29uc2VudCYmKHMucmVncz1zLnJlZ3N8fHt9LHMucmVncy5leHQ9cy5yZWdzLmV4dHx8e30scy5yZWdzLmV4dC51c19wcml2YWN5PXIudXNwQ29uc2VudCk7dHJ5e2k9ZVswXS5zY2hhaW4scy5zb3VyY2U9e30scy5zb3VyY2UuZXh0PXt9LHMuc291cmNlLmV4dC5zY2hhaW49aXx8e319Y2F0Y2goZSl7fXZhciBkPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj17fTtyZXR1cm4gci5pZD1lLmJpZElkLHIudGFnaWQ9U3RyaW5nKGUucGFyYW1zLmRteGlkfHxlLmFkVW5pdENvZGUpLHIuc2VjdXJlPTEsci5iaWRmbG9vcj1oKGUpLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP3IudmlkZW89e3RvcGZyYW1lOjEsc2tpcDplLm1lZGlhVHlwZXMudmlkZW8uc2tpcHx8MCxsaW5lYXJpdHk6ZS5tZWRpYVR5cGVzLnZpZGVvLmxpbmVhcml0eXx8MSxtaW5kdXJhdGlvbjplLm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb258fDUsbWF4ZHVyYXRpb246ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9ufHw2MCxwbGF5YmFja21ldGhvZDplLm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2R8fFsyXSxhcGk6eihlLm1lZGlhVHlwZXMudmlkZW8pLG1pbWVzOmUubWVkaWFUeXBlcy52aWRlby5taW1lc3x8WyJ2aWRlby9tcDQiXSxwcm90b2NvbHM6aihlLm1lZGlhVHlwZXMudmlkZW8pLGg6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0sdzplLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXX06ci5iYW5uZXI9e3RvcGZyYW1lOjEsdzp2KGUuc2l6ZXMsInciKSxoOnYoZS5zaXplcywiaCIpLGZvcm1hdDp2KGUuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlLncmJiJudW1iZXIiPT10eXBlb2YgZS5ofSkpfSxyfSkpO3JldHVybiBkLmxlbmd0aDw9NT8ocy5pbXA9ZCx7bWV0aG9kOiJQT1NUIix1cmw6eSxkYXRhOkpTT04uc3RyaW5naWZ5KHMpLGJpZGRlclJlcXVlc3Q6cn0pOlMoZCxzLHIseSl9LHRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImRtVGVzdD10cnVlIik/MTowfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7dmFyIGk9W10sbz0iaHR0cHM6Ly9jZG4uZGlzdHJpY3RtLmlvL2lkcy9pbmRleC5odG1sIjtpZih0JiZ0LmdkcHJBcHBsaWVzJiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmaS5wdXNoKFsiZ2RwciIsdC5jb25zZW50U3RyaW5nXSksbiYmaS5wdXNoKFsiY2NwYSIsbl0pLGkubGVuZ3RoPjAmJihvKz0iPyIraS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oIj0iKX0pKS5qb2luKCImIikpLGUuaWZyYW1lRW5hYmxlZClyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOm99XX19O2Z1bmN0aW9uIGgoZSl7dmFyIHI9bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLHNpemU6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0pOyJvYmplY3QiIT09cCh0KXx8IlVTRCIhPT10LmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHQuZmxvb3IpKXx8KHI9cGFyc2VGbG9hdCh0LmZsb29yKSl9cmV0dXJuIG51bGwhPT1yP3I6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PUEoZSxbe3NpemU6WzMwMCwyNTBdLHM6MTAwfSx7c2l6ZTpbNzI4LDkwXSxzOjk1fSx7c2l6ZTpbMzIwLDUwXSxzOjkwfSx7c2l6ZTpbMTYwLDYwMF0sczo4OH0se3NpemU6WzMwMCw2MDBdLHM6ODV9LHtzaXplOlszMDAsNTBdLHM6ODB9LHtzaXplOls5NzAsMjUwXSxzOjc1fSx7c2l6ZTpbOTcwLDkwXSxzOjYwfV0pO3N3aXRjaChyKXtjYXNlInciOnJldHVybiB0WzBdWzBdfHwwO2Nhc2UiaCI6cmV0dXJuIHRbMF1bMV18fDA7Y2FzZSJzaXplIjpkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBBKGUscil7dmFyIHQ9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlLnNpemVbMF0sIngiKS5jb25jYXQoZS5zaXplWzFdKX0pKS5pbmRleE9mKCIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pKX0pKSxuPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiAwPT09ZS5sZW5ndGg/KGUucHVzaCh0KSxlKTooZS5wdXNoKHQpLChlPShlPXIuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4tMSE9PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKX0pKS5pbmRleE9mKCIiLmNvbmNhdChyLnNpemVbMF0sIngiKS5jb25jYXQoci5zaXplWzFdKSl9KSkpLnNvcnQoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHIucy1lLnN9KSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2l6ZX0pKSl9KSxbXSk7cmV0dXJuIEkoW10uY29uY2F0KGMobiksYyh0KSkpfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihyLHQpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoclswXSwieCIpLmNvbmNhdChyWzFdKSk9PT10fSkpfWZ1bmN0aW9uIFMoZSxyLHQsbil7Zm9yKHZhciBpPVtdOzAhPT1lLmxlbmd0aDspZS5sZW5ndGg+PTU/aS5wdXNoKGUuc3BsaWNlKDAsNSkpOmkucHVzaChlLnNwbGljZSgwLGUubGVuZ3RoKSk7cmV0dXJuIGkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci5pbXA9ZSx7bWV0aG9kOiJQT1NUIix1cmw6bixkYXRhOkpTT04uc3RyaW5naWZ5KHIpLGJpZGRlclJlcXVlc3Q6dH19KSl9ZnVuY3Rpb24geChlLHIpe3JldHVybiBhKHIuYmlkZGVyUmVxdWVzdC5iaWRzLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIuYmlkSWQ9PT1lfSkpLDEpWzBdfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkoZVswXSk/ZVswXTplfWZ1bmN0aW9uIHcoZSl7dmFyIHI9ZS5zaXplcyx0PXt9O3JldHVybiB0LndpZHRoPU8ocilbMF0sdC5oZWlnaHQ9TyhyKVsxXSx0fWZ1bmN0aW9uIFQoZSxyLHQsaSl7bi5pc1N0cihyKSYmQXJyYXkuaXNBcnJheShlKSYmZS5wdXNoKHtzb3VyY2U6dCx1aWRzOlt7aWQ6cixhdHlwZTppfV19KX1mdW5jdGlvbiB6KGUpe3ZhciByPWUuYXBpO3JldHVybiByJiZBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wP3I6WzJdfWZ1bmN0aW9uIGooZSl7dmFyIHI9ZS5wcm90b2NvbHM7cmV0dXJuIHImJkFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoPjA/cjpbMiwzLDUsNiw3LDhdfWZ1bmN0aW9uIF8oZSxyKXt0cnl7dmFyIHQ9LzxpbWdcc1tePl0qP3NyY1xzKj1ccypbJ1wiXShbXidcIl0qPylbJ1wiXVtePl0qPz4vLG49YShlLm1hdGNoKHQpLDIpLGk9blswXSxvPW5bMV07aWYoZT1lLnJlcGxhY2UodCwiIiksaSYmbyl7dmFyIHM9IjxJbXByZXNzaW9uPjwhW0NEQVRBWyIuY29uY2F0KG8sIl1dPjwvSW1wcmVzc2lvbj4iKTtlPWUucmVwbGFjZSgiPC9JbXByZXNzaW9uPiIsIjwvSW1wcmVzc2lvbj4iLmNvbmNhdChzKSl9cmV0dXJuIGV9Y2F0Y2godCl7aWYoIXIpcmV0dXJuIGU7dmFyIGM9IjxJbXByZXNzaW9uPjwhW0NEQVRBWyIuY29uY2F0KHIsIl1dPjwvSW1wcmVzc2lvbj4iKTtyZXR1cm4gZT1lLnJlcGxhY2UoIjwvSW1wcmVzc2lvbj4iLCI8L0ltcHJlc3Npb24+Ii5jb25jYXQoYykpfX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZyl9fSxbMzgyXSk7CnVwYmpzQ2h1bmsoWzI1NV0sezM5MjpmdW5jdGlvbihlLHIsaSl7ZS5leHBvcnRzPWkoMzkzKX0sMzkzOmZ1bmN0aW9uKGUscixpKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuZChyLCJlbXhBZGFwdGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxpLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSk7dmFyIHQ9aSgwKSxuPWkoMSksYT1pKDIpLGQ9aSgxMyksbz1pKDEyKSxzPWkubihvKSx1PWkoMTEpLGM9aS5uKHUpO2Z1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgaT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGksdCkmJihlW3RdPWlbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPSJlbXhfZGlnaXRhbCIsZz0iaHR0cHM6Ly9qcy5icmVhbHRpbWUuY29tL291dHN0cmVhbS8xLjMwLjAvYnVuZGxlLmpzIixtPSJVU0QiLGY9W3trZXk6ImlkbF9lbnYiLHNvdXJjZToibGl2ZXJhbXAuY29tIixydGlQYXJ0bmVyOiJpZGwiLHF1ZXJ5UGFyYW06ImlkbCJ9LHtrZXk6InVpZDIuaWQiLHNvdXJjZToidWlkYXBpLmNvbSIscnRpUGFydG5lcjoiVUlEMiIscXVlcnlQYXJhbToidWlkMiJ9XSx2PXt2YWxpZGF0ZVNpemVzOmZ1bmN0aW9uKGUpe3JldHVybiB0LmlzQXJyYXkoZSkmJnZvaWQgMCE9PWVbMF0/ZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaXNBcnJheShlKSYmMj09PWUubGVuZ3RofSkpOih0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBTaXplcyBzaG91bGQgYmUgYW4gYXJyYXkiKSwhMSl9LGNoZWNrVmlkZW9Db250ZXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJigiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQpfSxidWlsZEJhbm5lcjpmdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gcj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLHYudmFsaWRhdGVTaXplcyhyKXx8KHQubG9nV2FybigiZW14X2RpZ2l0YWw6IGNvdWxkIG5vdCBkZXRlY3QgbWVkaWFUeXBlIGJhbm5lciBzaXplcy4gQXNzaWduaW5nIHRvIGJpZCBzaXplcyBpbnN0ZWFkIikscj1lLnNpemVzKSx7Zm9ybWF0OnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSksdzpyWzBdWzBdLGg6clswXVsxXX19LGZvcm1hdFZpZGVvUmVzcG9uc2U6ZnVuY3Rpb24oZSxyLGkpeyhlLnZhc3RYbWw9ci5hZG0saS5iaWRkZXJSZXF1ZXN0JiZpLmJpZGRlclJlcXVlc3QuYmlkcyYmaS5iaWRkZXJSZXF1ZXN0LmJpZHMubGVuZ3RoPjApJiYoYygpKGkuYmlkZGVyUmVxdWVzdC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gZS5yZXF1ZXN0SWQmJnIuYmlkSWQmJmUucmVxdWVzdElkPT09ci5iaWRJZCYmci5tZWRpYVR5cGVzJiZyLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iPT09ci5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR9KSkmJihlLnJlbmRlcmVyPXYuY3JlYXRlUmVuZGVyZXIoZSx7aWQ6ci5pZCx1cmw6Z30pKSk7cmV0dXJuIGV9LGlzTW9iaWxlOmZ1bmN0aW9uKCl7cmV0dXJuLyhpb3N8aXBvZHxpcGFkfGlwaG9uZXxhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGlzQ29ubmVjdGVkVFY6ZnVuY3Rpb24oKXtyZXR1cm4vKHNtYXJ0Wy1dP3R2fGhiYnR2fGFwcGxldHZ8Z29vZ2xldHZ8aGRtaXxuZXRjYXN0XC50dnx2aWVyYXxuZXR0dnxyb2t1fFxiZHR2XGJ8c29ueWR0dnxpbmV0dHZicm93c2VyfFxidHZcYikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxnZXREZXZpY2U6ZnVuY3Rpb24oKXtyZXR1cm57dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGRldmljZXR5cGU6di5pc01vYmlsZSgpPzE6di5pc0Nvbm5lY3RlZFRWKCk/MzoyLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfX0sY2xlYW5Qcm90b2NvbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvdG9jb2xzJiZzKCkoZS5wcm90b2NvbHMsNykmJih0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBWQVNUIDQuMCBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC4gVGhpcyBwcm90b2NvbCBoYXMgYmVlbiBmaWx0ZXJlZCBvdXQgb2YgdGhlIHJlcXVlc3QuIiksZS5wcm90b2NvbHM9ZS5wcm90b2NvbHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gNyE9PWV9KSkpLGV9LG91dHN0cmVhbVJlbmRlcjpmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9ZSYmZS5wYXJhbXMmJmUucGFyYW1zWzBdJiZlLnBhcmFtc1swXS52aWRlbz9lLnBhcmFtc1swXS52aWRlbzp7fTt3aW5kb3cuZW14VmlkZW9RdWV1ZT13aW5kb3cuZW14VmlkZW9RdWV1ZXx8W10sd2luZG93LnF1ZXVlRW14VmlkZW8oe2lkOmUuYWRVbml0Q29kZSxhZHNSZXNwb25zZXM6ZS52YXN0WG1sLG9wdGlvbnM6cn0pLHdpbmRvdy5lbXhWaWRlb1JlYWR5JiZ3aW5kb3cudmlkZW9qcyYmd2luZG93LmVteFZpZGVvUmVhZHkoKX0pKX0sY3JlYXRlUmVuZGVyZXI6ZnVuY3Rpb24oZSxyKXt2YXIgaT1kLmEuaW5zdGFsbCh7aWQ6ci5pZCx1cmw6Zyxsb2FkZWQ6ITF9KTt0cnl7aS5zZXRSZW5kZXIodi5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe3QubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaX0sYnVpbGRWaWRlbzpmdW5jdGlvbihlKXt2YXIgcj1wKGUubWVkaWFUeXBlcy52aWRlbyxlLnBhcmFtcy52aWRlbyk7cmV0dXJuIHQuaXNBcnJheShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0pOihyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdKSx2LmNsZWFuUHJvdG9jb2xzKHIpfSxwYXJzZVJlc3BvbnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvJSg/IVswLTldWzAtOWEtZkEtRl0rKS9nLCIlMjUiKSl9Y2F0Y2goZSl7dC5sb2dFcnJvcigiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiZXJyb3IiLGUpfX0sZ2V0UmVmZXJyZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0sZ2V0U2l0ZTpmdW5jdGlvbihlKXtyZXR1cm57ZG9tYWluOnQucGFyc2VVcmwoZS5yZWZlcmVyKS5ob3N0bmFtZSxwYWdlOmUucmVmZXJlcixyZWY6di5nZXRSZWZlcnJlcigpfX0sZ2V0R2RwcjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmdkcHJDb25zZW50JiYoci5yZWdzPXtleHQ6e2dkcHI6ITA9PT1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19KSxlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci51c2VyPXtleHQ6e2NvbnNlbnQ6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfX0pLHJ9LGdldFN1cHBseUNoYWluOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuYmlkc1swXSYmZS5iaWRzWzBdLnNjaGFpbiYmKHIuc291cmNlPXtleHQ6e3NjaGFpbjplLmJpZHNbMF0uc2NoYWlufX0pLHJ9LGdldEVpZHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGYubWFwKHYuZ2V0VXNlcklkKGUpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfSxnZXRVc2VySWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBpPXIua2V5LG49ci5zb3VyY2UsYT1yLnJ0aVBhcnRuZXIsZD10LmRlZXBBY2Nlc3MoZSwidXNlcklkLiIuY29uY2F0KGkpKTtyZXR1cm4gZD92LmZvcm1hdEVpZChkLG4sYSk6bnVsbH19LGZvcm1hdEVpZDpmdW5jdGlvbihlLHIsaSl7cmV0dXJue3NvdXJjZTpyLHVpZHM6W3tpZDplLGV4dDp7cnRpUGFydG5lcjppfX1dfX19LHk9e2NvZGU6bCxndmxpZDoxODMsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyBiaWQgb3IgYmlkIHBhcmFtcy4iKSwhMTtpZihlLmJpZGRlciE9PWwpcmV0dXJuIHQubG9nV2FybignZW14X2RpZ2l0YWw6IE11c3QgdXNlICJlbXhfZGlnaXRhbCIgYXMgYmlkZGVyIGNvZGUuJyksITE7aWYoIWUucGFyYW1zLnRhZ2lkfHwhdC5pc1N0cihlLnBhcmFtcy50YWdpZCkpcmV0dXJuIHQubG9nV2FybigiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdGFnaWQgcGFyYW0gb3IgdGFnaWQgcHJlc2VudCBhbmQgbm90IHR5cGUgU3RyaW5nLiIpLCExO3ZhciByO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcil7aWYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcywhdi52YWxpZGF0ZVNpemVzKHIpKXJldHVybiB0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBNaXNzaW5nIHNpemVzIGluIGJpZCIpLCExfWVsc2UgaWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8pe2lmKCF2LmNoZWNrVmlkZW9Db250ZXh0KGUpKXJldHVybiB0LmxvZ1dhcm4oImVteF9kaWdpdGFsOiBNaXNzaW5nIHZpZGVvIGNvbnRleHQ6IGluc3RyZWFtIG9yIG91dHN0cmVhbSIpLCExO2lmKCFlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSlyZXR1cm4gdC5sb2dXYXJuKCJlbXhfZGlnaXRhbDogTWlzc2luZyB2aWRlbyBwbGF5ZXJTaXplIiksITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgaT1bXSxuPSJodHRwczovL2hiLmVteGRndC5jb20/dD0iKyhyLnRpbWVvdXR8fCIiKSsiJnRzPSIrRGF0ZS5ub3coKSsiJnNyYz1wYmpzIixhPWxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoImh0dHBzIik+LTE/MTowLGQ9di5nZXREZXZpY2UoKSxvPXYuZ2V0U2l0ZShyLnJlZmVyZXJJbmZvKTt0Ll9lYWNoKGUsKGZ1bmN0aW9uKGUpe3ZhciByPXQuZ2V0QmlkSWRQYXJhbWV0ZXIoInRhZ2lkIixlLnBhcmFtcyksbj1wYXJzZUZsb2F0KGZ1bmN0aW9uKGUpe2lmKCF0LmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIHBhcnNlRmxvYXQodC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkZmxvb3IiLGUucGFyYW1zKSk7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6bSxtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYodC5pc1BsYWluT2JqZWN0KHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSkpfHwwLGQ9ISFlLm1lZGlhVHlwZXMudmlkZW8sbz1wKHtpZDplLmJpZElkLHRpZDplLnRyYW5zYWN0aW9uSWQsdGFnaWQ6cixzZWN1cmU6YX0sZD97dmlkZW86di5idWlsZFZpZGVvKGUpfTp7YmFubmVyOnYuYnVpbGRCYW5uZXIoZSl9LG4+MD97YmlkZmxvb3I6bixiaWRmbG9vcmN1cjptfTp7fSk7aS5wdXNoKG8pfSkpO3ZhciBzPXtpZDpyLmF1Y3Rpb25JZCxpbXA6aSxkZXZpY2U6ZCxzaXRlOm8sY3VyOm0sdmVyc2lvbjoiMS41LjEifTtpZihzPXYuZ2V0R2RwcihyLHAoe30scykpLHM9di5nZXRTdXBwbHlDaGFpbihyLHAoe30scykpLHImJnIudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHIudXNlcklkKXt2YXIgdT12LmdldEVpZHMocik7dS5sZW5ndGg+MCYmKHMudXNlciYmcy51c2VyLmV4dD9zLnVzZXIuZXh0LmVpZHM9dTpzLnVzZXI9e2V4dDp7ZWlkczp1fX0pfXJldHVybnttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6SlNPTi5zdHJpbmdpZnkocyksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBpPVtdLHQ9ZS5ib2R5fHx7fTtyZXR1cm4gdC5zZWF0YmlkJiZ0LnNlYXRiaWQubGVuZ3RoPjAmJnQuc2VhdGJpZFswXS5iaWQmJnQuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlPWUuYmlkWzBdO3ZhciB0PSExLG49di5wYXJzZVJlc3BvbnNlKGUuYWRtKXx8IiIsZD17cmVxdWVzdElkOmUuaWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOmUudHRsLGFkOm59O2UuYWRtJiZlLmFkbS5pbmRleE9mKCI8P3htbCB2ZXJzaW9uPSIpPi0xJiYodD0hMCxkPXYuZm9ybWF0VmlkZW9SZXNwb25zZShkLHAoe30sZSkscikpLGQubWVkaWFUeXBlPXQ/YS5kOmEuYixlLmFkb21haW4mJmUuYWRvbWFpbi5sZW5ndGgmJihkLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn0pLGkucHVzaChkKX0pKSxpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGksdCl7dmFyIG49W107aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgYT0iaHR0cHM6Ly9iaWRkci5icmVhbHRpbWUuY29tL2NoZWNrLmh0bWwiO2kmJiJzdHJpbmciPT10eXBlb2YgaS5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgaS5nZHByQXBwbGllcz9hKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKGkuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChpLmNvbnNlbnRTdHJpbmcpOmErPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KGkuY29uc2VudFN0cmluZykpLG4ucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6YX0pfXJldHVybiBufX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHkpfX0sWzM5Ml0pOwp1cGJqc0NodW5rKFsyMjhdLHs0NTA6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDQ1MSl9LDQ1MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIHI9bigwKSxpPW4oMiksbz1uKDMpLGE9big3KSxjPW4oMTIpLHU9bi5uKGMpLGQ9bigxKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBwKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtmKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpwKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGYoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuKG09ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB5KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiB5KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIHY9T2JqZWN0KGEuYikoKSxnPXt0OjAscnE6OCxwYnY6IjUuMTEuMCJ9LGg9W2kuYixpLmRdLEk9e30sdz17fSxTPW51bGw7ZnVuY3Rpb24gTyh0KXt2YXIgbixpLG8sYSxjLHUsZCxzO2lmKHcudncpcmV0dXJuIHc7dHJ5e2k9KG49ZS50b3ApLnNjcmVlbixvPXR8fCIifWNhdGNoKGUpe3JldHVybiByLmxvZ0Vycm9yKGUpLHd9cmV0dXJuIHc9e3Z3Om4uaW5uZXJXaWR0aCx2aDpuLmlubmVySGVpZ2h0LHN3Omkud2lkdGgsc2g6aS5oZWlnaHQscHU6byxjZTp2LmNvb2tpZXNBcmVFbmFibGVkKCksZHByOm4uZGV2aWNlUGl4ZWxSYXRpb3x8MSxqY3NpOkpTT04uc3RyaW5naWZ5KGcpLG9ndToodT0oZG9jdW1lbnQmJmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLnF1ZXJ5U2VsZWN0b3IoIm1ldGFbcHJvcGVydHk9J29nOnVybCddIiksdT91LmNvbnRlbnQ6bnVsbCl9LGQ9d2luZG93Lm5hdmlnYXRvciYmKHdpbmRvdy5uYXZpZ2F0b3IuY29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb24pLChjPShzPWQmJihkLmRvd25saW5rfHxkLmJhbmR3aWR0aCkpP01hdGgucm91bmQoMTAyNCpzKTpudWxsKSYmKHcubnM9YyksKGE9KG8ubWF0Y2goLyNnZ2FkPShcdyspJC8pfHxbMCwwXSlbMV0pJiYod1tpc05hTihhKT8iZUFkQnV5SWQiOiJhZEJ1eUlkIl09YSksd31mdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGUucmVwbGFjZSgiQURfSlNPTiIsd2luZG93LmJ0b2EoSlNPTi5zdHJpbmdpZnkodCkpKX1mdW5jdGlvbiB4KGUpe3ZhciB0PWUuZGlnaXRydXN0aWQmJmUuZGlnaXRydXN0aWQuZGF0YTtyZXR1cm4hdHx8dC5wcml2YWN5JiZ0LnByaXZhY3kub3B0b3V0P3t9OntkdDp0LmlkfX1mdW5jdGlvbiBQKGUpe3ZhciB0PTAsbj0wLHI9MDtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1iKGUsMiksbz1pWzBdLGE9aVsxXSxjPW8+YT9vOmE7KGM+cnx8Yz09PXImJm8+PXQmJmE+PW4pJiYocj1jLHQ9byxuPWEpfSkpLFt0LG5dfXZhciBDPXtjb2RlOiJndW1ndW0iLGFsaWFzZXM6WyJnZyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLG49ZS5hZFVuaXRDb2RlLGk9dC5pblNjcmVlbnx8dC5pblNjcmVlblB1YklEfHx0LmluU2xvdHx8dC5JQ1Z8fHQudmlkZW98fHQuaW5WaWRlb3x8dC5zbG90fHx0Lm5hdGl2ZXx8dC56b25lfHx0LnB1YklEO2lmKElbaV0pcmV0dXJuIHIubG9nV2FybigiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQoaSwiIGZvciB0aGUgcGxhY2VtZW50ICIpLmNvbmNhdChuKSksITE7c3dpdGNoKCEwKXtjYXNlISF0LnpvbmU6Y2FzZSEhdC5wdWJJZDpjYXNlISF0LmluU2NyZWVuOmNhc2UhIXQuaW5TY3JlZW5QdWJJRDpjYXNlISF0LmluU2xvdDpjYXNlISF0LklDVjpjYXNlISF0LnZpZGVvOmNhc2UhIXQuaW5WaWRlbzpjYXNlISF0LnZpZGVvUHViSUQ6YnJlYWs7ZGVmYXVsdDpyZXR1cm4gci5sb2dXYXJuKCJbR3VtR3VtXSBObyBwcm9kdWN0IHNlbGVjdGVkIGZvciB0aGUgcGxhY2VtZW50ICIuY29uY2F0KG4sIiwgcGxlYXNlIGNoZWNrIHlvdXIgaW1wbGVtZW50YXRpb24uIikpLCExfXJldHVybiEodC5iaWRmbG9vciYmKCJudW1iZXIiIT10eXBlb2YgdC5iaWRmbG9vcnx8IWlzRmluaXRlKHQuYmlkZmxvb3IpKSl8fChyLmxvZ1dhcm4oIltHdW1HdW1dIGJpZGZsb29yIG11c3QgYmUgYSBOdW1iZXIiKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxpPXQmJnQuZ2RwckNvbnNlbnQsYT10JiZ0LnVzcENvbnNlbnQsYz1vLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksdT10JiZ0LnJlZmVyZXJJbmZvJiZ0LnJlZmVyZXJJbmZvLnJlZmVyZXI7cmV0dXJuIHIuX2VhY2goZSwoZnVuY3Rpb24oZSl7dmFyIHQsbyxkPWUuYmlkSWQscD1lLm1lZGlhVHlwZXMsZj12b2lkIDA9PT1wP3t9OnAseT1lLnBhcmFtcyx2PXZvaWQgMD09PXk/e306eSxnPWUuc2NoYWluLGg9ZS50cmFuc2FjdGlvbklkLEk9ZS51c2VySWQsdz12b2lkIDA9PT1JP3t9Okksaj1lLm9ydGIySW1wLEM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdfHwiYmFubmVyIixpPXtmbG9vcjowLGN1cnJlbmN5OiJVU0QifTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5nZXRGbG9vcil7dmFyIG89bi5nZXRGbG9vcih7bWVkaWFUeXBlOnIsc2l6ZToiKiJ9KSxhPW8uY3VycmVuY3ksYz1vLmZsb29yO2MmJihpLmZsb29yPWMpLGEmJihpLmN1cnJlbmN5PWEpLHQmJmMmJiJVU0QiPT09YSYmKGkuZmxvb3I9TWF0aC5tYXgodCxwYXJzZUZsb2F0KGMpKSl9ZWxzZSB0JiYoaS5mbG9vcj10KTtyZXR1cm4gaX0oZix2LmJpZGZsb29yLGUpLEQ9Qy5jdXJyZW5jeSx6PUMuZmxvb3Isaz1mdW5jdGlvbihlKXt2YXIgdD1bInVpZCIsImVpZCIsImxpcGJpZCJdO3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9ZVtyXTtzd2l0Y2gobShpKSl7Y2FzZSJzdHJpbmciOm5bcl09aTticmVhaztjYXNlIm9iamVjdCI6dmFyIG89dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc093blByb3BlcnR5KGUpfSkpO28ubGVuZ3RoJiYobltyXT1pW29bMF1dKX1yZXR1cm4gbn0pLHt9KX0odyksQT1bMSwxXSxUPXt9LFI9IiI7Zm9yKHZhciBVIGluIGspVFtVXT1rW1VdO2lmKHIuZGVlcEFjY2VzcyhqLCJleHQuZGF0YS5hZHNlcnZlci5uYW1lIikmJihSPWouZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90KSxmLmJhbm5lcj9BPWYuYmFubmVyLnNpemVzOmYudmlkZW8mJihBPWYudmlkZW8ucGxheWVyU2l6ZSxUPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWluZHVyYXRpb24sbj1lLm1heGR1cmF0aW9uLGk9ZS5saW5lYXJpdHksbz1lLnN0YXJ0ZGVsYXksYT1lLnBsYWNlbWVudCxjPWUucHJvdG9jb2xzLHU9dm9pZCAwPT09Yz9bXTpjLGQ9ZS5wbGF5ZXJTaXplLHM9dm9pZCAwPT09ZD9bXTpkLHA9ci5wYXJzZVNpemVzSW5wdXQocyksbD1iKHBbMF0mJnBbMF0uc3BsaXQoIngiKSwyKSxmPWxbMF0sbT1sWzFdLHk9IiI7cmV0dXJuIHUubGVuZ3RoJiYoeT11LmpvaW4oIiwiKSkse21pbmQ6dCxtYXhkOm4sbGk6aSxzZDpvLHB0OmEscHI6eSx2aXc6Zix2aWg6bX19KGYudmlkZW8pKSxTJiYoVC5wdj1TKSx6JiYoVC5mcD16LFQuZnBjPUQpLHYuaXJpc2NhdCYmInN0cmluZyI9PXR5cGVvZiB2LmlyaXNjYXQmJihULmlyaXNjYXQ9di5pcmlzY2F0KSx2LmlyaXNpZCYmInN0cmluZyI9PXR5cGVvZiB2LmlyaXNpZCYmKFQuaXJpc2lkPXYuaXJpc2lkKSx2LnpvbmV8fHYucHViSWQpaWYodi56b25lP1QudD12LnpvbmU6VC5wdWJJZD12LnB1YklkLFQucGk9Mix2LnNsb3Qpe3ZhciBHPWIoUChBKSwyKSxWPUdbMF0sRT1HWzFdO1QubWF4dz1WLFQubWF4aD1FLFQuc2k9cGFyc2VJbnQodi5zbG90LDEwKSxULnBpPTMsVC5iZj1BLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9KSwiIil9ZWxzZSB2Lm5hdGl2ZT8oVC5uaT1wYXJzZUludCh2Lm5hdGl2ZSwxMCksVC5waT01KTpmLnZpZGVvJiYoVC5waT0yPT09Zi52aWRlby5saW5lYXJpdHk/Njo3KTtlbHNlIFQ9bChsKHt9LFQpLGZ1bmN0aW9uKGUsdCl7dmFyIG49e307ZS5pblNjcmVlblB1YklEJiYobi5wdWJJZD1lLmluU2NyZWVuUHViSUQsbi5waT0yKTtlLmluU2NyZWVuJiYobi50PWUuaW5TY3JlZW4sbi5waT0yKTtpZihlLmluU2xvdCl7dmFyIHI9YihQKHQpLDIpLGk9clswXSxvPXJbMV07bi5tYXh3PWksbi5tYXhoPW8sbi5zaT1wYXJzZUludChlLmluU2xvdCwxMCksbi5waT0zLG4uYmY9dC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWUuSUNWJiYobi5uaT1wYXJzZUludChlLklDViwxMCksbi5waT01KTtlLnZpZGVvUHViSUQmJihuLnB1YklkPWUudmlkZW9QdWJJRCxuLnBpPTcpO2UudmlkZW8mJihuLnQ9ZS52aWRlbyxuLnBpPTcpO2UuaW5WaWRlbyYmKG4udD1lLmluVmlkZW8sbi5waT02KTtyZXR1cm4gbn0odixBKSk7aSYmKFQuZ2RwckFwcGxpZXM9aS5nZHByQXBwbGllcz8xOjApLFQuZ2RwckFwcGxpZXMmJihULmdkcHJDb25zZW50PWkuY29uc2VudFN0cmluZyksYSYmKFQudXNwQ29uc2VudD1hKSxnJiZnLm5vZGVzJiYoVC5zY2hhaW49KG89IiIuY29uY2F0KCh0PWcpLnZlciwiLCIpLmNvbmNhdCh0LmNvbXBsZXRlKSx0Lm5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7bys9IiEiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5hc2l8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5zaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5ocHx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnJpZHx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLm5hbWV8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5kb21haW58fCIiKSl9KSksbykpLG4ucHVzaCh7aWQ6ZCx0bWF4OmMsdElkOmgscGk6VC5waSxzZWxlY3Rvcjp2LnNlbGVjdG9yLHNpemVzOkEsdXJsOiJodHRwczovL2cyLmd1bWd1bS5jb20vaGJpZC9pbXAiLG1ldGhvZDoiR0VUIixkYXRhOnMoVCxPKHUpLHgodykse2dwaWQ6Un0pfSl9KSksbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXSxvPWUuYm9keTtpZighb3x8by5lcnIpe3ZhciBhPXQuZGF0YXx8e30sYz1hLnNpfHxhLm5pfHxhLnR8fGEucHViSWQsZD1vP28uZXJyLmRydDoxOGU1O0lbY109e3Byb2R1Y3RJZDphLnBpLHRpbWVzdGFtcDoobmV3IERhdGUpLmdldFRpbWUoKX0sc2V0VGltZW91dCgoZnVuY3Rpb24oKXtJW2NdJiZkZWxldGUgSVtjXX0pLGQpLHIubG9nV2FybigiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQoYykpfXZhciBwPXMoe2FkOntwcmljZTowLGlkOjAsbWFya3VwOiIiLHdpZHRoOjAsaGVpZ2h0OjB9LHBhZzp7cHZpZDowfSxtZXRhOnthZG9tYWluOltdLG1lZGlhVHlwZToiIn19LG8pLGY9cC5hZCxtPWYucHJpY2UseT1mLmlkLHY9Zi5tYXJrdXAsaD1mLmN1cix3PWYud2lkdGgsTz1mLmhlaWdodCx4PWYubWF4dyxQPWYubWF4aCxDPXAuY3csRD1wLnBhZy5wdmlkLHo9cC5qY3NpLGs9cC5tZXRhLEE9ay5hZG9tYWluLFQ9ay5tZWRpYVR5cGUsUj10LmRhdGF8fHt9LFU9Ui5waSxHPTY9PT1VfHw3PT09VT9pLmQ6aS5iLFY9Mz09PVUmJjk9PT1SLnNpLEU9e2FkdmVydGlzZXJEb21haW5zOkF8fFtdLG1lZGlhVHlwZTpUfHxHfSxOPXIucGFyc2VTaXplc0lucHV0KHQuc2l6ZXMpO3gmJlA/Tj1bIiIuY29uY2F0KHgsIngiKS5jb25jYXQoUCldOjU9PT1VJiZ1KCkoTiwiMXgxIik/Tj1bIjF4MSJdOjI9PT1VJiZ1KCkoTiwiMXgxIikmJihOPXcmJk8/WyIiLmNvbmNhdCh3LCJ4IikuY29uY2F0KE8pXTpyLnBhcnNlU2l6ZXNJbnB1dCh0LnNpemVzKSk7dmFyIHE9YihOWzBdLnNwbGl0KCJ4IiksMiksQj1xWzBdLE09cVsxXTtyZXR1cm4geiYmKG8uamNzaT1nKSxTPUQseSYmbi5wdXNoKGwobCh7YWQ6Qz9qKEMscyh7fSxvLHtiaWRSZXF1ZXN0OnR9KSk6dn0sRz09PWkuZCYme2FkOnYsdmFzdFhtbDp2fSkse30se21lZGlhVHlwZTpHLGNwbTpWPy4xOm0sY3JlYXRpdmVJZDp5LGN1cnJlbmN5Omh8fCJVU0QiLGhlaWdodDpNLG5ldFJldmVudWU6ITAscmVxdWVzdElkOnQuaWQsdHRsOjYwLHdpZHRoOkIsbWV0YTpFfSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keSYmZS5ib2R5LnB4cyYmZS5ib2R5LnB4cy5zY3J8fFtdfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiZiI9PT1lLnQ/ImlmcmFtZSI6ImltYWdlIix1cmw6ZS51fX0pKX0sc3VwcG9ydGVkTWVkaWFUeXBlczpofTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikoQyl9LmNhbGwodCxuKDM5KSl9fSxbNDUwXSk7CnVwYmpzQ2h1bmsoWzQ3XSx7MTg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmI9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlpZigicHViUHJvdmlkZWRJZCI9PT10KXI9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBpPW4oZVt0XSx0KTtpJiZyLnB1c2goaSl9cmV0dXJuIHJ9LHIuYT1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmaS5kZWVwQWNjZXNzKGEsdCsiLnNvdXJjZSIpJiZyLnB1c2goe3NvdXJjZTphW3RdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSxyfTt2YXIgaT10KDApLGE9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgcj1pLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXMocikubGVuZ3RoKXJldHVybiByfX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gbihlLHIpe3ZhciB0PWFbcl07aWYodCYmZSl7dmFyIG49e307bi5zb3VyY2U9dC5zb3VyY2U7dmFyIHM9aS5pc0ZuKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihpLmlzU3RyKHMpKXt2YXIgZD17aWQ6cyxhdHlwZTp0LmF0eXBlfTtpZihpLmlzRm4odC5nZXRVaWRFeHQpKXt2YXIgYz10LmdldFVpZEV4dChlKTtjJiYoZC5leHQ9Yyl9aWYobi51aWRzPVtkXSxpLmlzRm4odC5nZXRFaWRFeHQpKXt2YXIgbz10LmdldEVpZEV4dChlKTtvJiYobi5leHQ9byl9cmV0dXJuIG59fXJldHVybiBudWxsfX0sNDc2OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0NzcpfSw0Nzc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLHIuSW1wcm92ZURpZ2l0YWxBZFNlcnZlckpTQ2xpZW50PXY7dmFyIGk9dCgwKSxhPXQoMSksbj10KDMpLHM9dCgyKSxkPXQoMTMpLGM9dCgxOCksbz10KDEyKSx1PXQubihvKTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyIsbT1bInNraXAiLCJza2lwbWluIiwic2tpcGFmdGVyIl0sZj17dmVyc2lvbjoiNy40LjAiLGNvZGU6ImltcHJvdmVkaWdpdGFsIixndmxpZDoyNTMsYWxpYXNlczpbImlkIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuYyxzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiYoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLnBsYWNlbWVudEtleSYmZS5wYXJhbXMucHVibGlzaGVySWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9aS5nZXRCaWRJZFBhcmFtZXRlcigiYWRVbml0Q29kZSIsZSl8fG51bGwsdD1pLmdldEJpZElkUGFyYW1ldGVyKCJwbGFjZW1lbnRJZCIsZS5wYXJhbXMpfHxudWxsLGE9bnVsbCxkPW51bGw7bnVsbD09PXQmJihhPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoInB1Ymxpc2hlcklkIixlLnBhcmFtcyl8fG51bGwsZD1pLmdldEJpZElkUGFyYW1ldGVyKCJwbGFjZW1lbnRLZXkiLGUucGFyYW1zKXx8bnVsbCk7dmFyIGM9aS5nZXRCaWRJZFBhcmFtZXRlcigia2V5VmFsdWVzIixlLnBhcmFtcyl8fG51bGwsbz1pLmdldEJpZElkUGFyYW1ldGVyKCJzaXplIixlLnBhcmFtcyl8fG51bGwscD1pLmdldEJpZElkUGFyYW1ldGVyKCJiaWRJZCIsZSksbD1pLmdldEJpZElkUGFyYW1ldGVyKCJ0cmFuc2FjdGlvbklkIixlKSxmPW4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSxnPXt9O3koZSkmJihnLmFkVHlwZXM9W3MuZF0pOyh5KGUpfHxoKGUpKSYmKGcudmlkZW89ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKE9iamVjdChlLm1lZGlhVHlwZXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkobSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUubWVkaWFUeXBlcy52aWRlb1t0XX0pKSxPYmplY3Qua2V5cyhPYmplY3QoZS5wYXJhbXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkobSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUucGFyYW1zLnZpZGVvW3RdfSkpLHJ9KGUpKTt0P2cucGxhY2VtZW50SWQ9dDooYSYmKGcucHVibGlzaGVySWQ9YSksZCYmKGcucGxhY2VtZW50S2V5PWQpKTtjJiYoZy5rZXlWYWx1ZXM9Yyk7ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC51c2VQcmViaWRTaXplcyIpJiYheShlKSYmIWgoZSkmJmUuc2l6ZXMmJmUuc2l6ZXMubGVuZ3RoPjA/Zy5mb3JtYXQ9ZS5zaXplczpvJiZvLncmJm8uaCYmKGcuc2l6ZT17fSxnLnNpemUuaD1vLmgsZy5zaXplLnc9by53KTtwJiYoZy5pZD1wKTtyJiYoZy5hZFVuaXRJZD1yKTtsJiYoZy50cmFuc2FjdGlvbklkPWwpO2YmJihnLmN1cnJlbmN5PWYpO3ZhciBiPWZ1bmN0aW9uKGUpe2lmKCFpLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIG51bGw7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKGkuaXNQbGFpbk9iamVjdChyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpLHY9bnVsbDtifHwoYj1pLmdldEJpZElkUGFyYW1ldGVyKCJiaWRGbG9vciIsZS5wYXJhbXMpLHY9aS5nZXRCaWRJZFBhcmFtZXRlcigiYmlkRmxvb3JDdXIiLGUucGFyYW1zKSk7YiYmKGcuYmlkRmxvb3I9YixnLmJpZEZsb29yQ3VyPXY/di50b1VwcGVyQ2FzZSgpOiJVU0QiKTtyZXR1cm4gZ30oZSl9KSksYT1uZXcgdigiaGIiKSxkPXtzaW5nbGVSZXF1ZXN0TW9kZTohMD09PW4uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnNpbmdsZVJlcXVlc3QiKSxyZXR1cm5PYmpUeXBlOmEuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElULGxpYlZlcnNpb246dGhpcy52ZXJzaW9ufTtpZihyJiZyLmdkcHJDb25zZW50JiZyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihkLmdkcHI9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLnVzcENvbnNlbnQmJihkLnVzUHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8ucmVmZXJlciYmKGQucmVmZXJyZXI9ci5yZWZlcmVySW5mby5yZWZlcmVyKSxkLnNjaGFpbj1lWzBdLnNjaGFpbixlWzBdLnVzZXJJZCl7dmFyIG89T2JqZWN0KGMuYikoZVswXS51c2VySWQpO28ubGVuZ3RoJiZpLmRlZXBTZXRWYWx1ZShkLCJ1c2VyLmV4dC5laWRzIixvKX12YXIgcD1hLmNyZWF0ZVJlcXVlc3QodCxkKTtyZXR1cm4gcC5lcnJvcnMmJnAuZXJyb3JzLmxlbmd0aD4wJiZpLmxvZ0Vycm9yKCJJRCBXQVJOSU5HIDB4MDEiKSxwLnJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3Q9cn0pKSxwLnJlcXVlc3RzfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkZGVyUmVxdWVzdCxhPVtdO3JldHVybiBpLl9lYWNoKGUuYm9keS5iaWQsKGZ1bmN0aW9uKGUpe2lmKGUucHJpY2UmJm51bGwhPT1lLnByaWNlJiYhZS5oYXNPd25Qcm9wZXJ0eSgiZXJyb3JDb2RlIikmJihlLmFkbXx8ZS5uYXRpdmUpKXt2YXIgcj1pLmdldEJpZFJlcXVlc3QoZS5pZCxbdF0pLG49e307aWYoZS5uYXRpdmUpbi5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHI9e307aWYoIWV8fCFpLmlzQXJyYXkoZS5hc3NldHMpKXJldHVybiBudWxsO2UuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUudGl0bGUpci50aXRsZT1lLnRpdGxlLnRleHQ7ZWxzZSBpZihlLmRhdGEpc3dpdGNoKGUuZGF0YS50eXBlKXtjYXNlIDE6ci5zcG9uc29yZWRCeT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAyOnIuYm9keT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAzOnIucmF0aW5nPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDQ6ci5saWtlcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA1OnIuZG93bmxvYWRzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDY6ci5wcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA3OnIuc2FsZVByaWNlPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDg6ci5waG9uZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA5OnIuYWRkcmVzcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMDpyLmJvZHkyPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDExOnIuZGlzcGxheVVybD1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMjpyLmN0YT1lLmRhdGEudmFsdWV9ZWxzZSBpZihlLmltZylzd2l0Y2goZS5pbWcudHlwZSl7Y2FzZSAyOnIuaWNvbj17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofTticmVhaztjYXNlIDM6ci5pbWFnZT17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofX19KSksZS5ldmVudHRyYWNrZXJzPyhyLmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoMT09PWUuZXZlbnQpc3dpdGNoKGUubWV0aG9kKXtjYXNlIDE6ci5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChlLnVybCk7YnJlYWs7Y2FzZSAyOnIuamF2YXNjcmlwdFRyYWNrZXJzPSc8c2NyaXB0IHNyYz0iJy5jb25jYXQoZS51cmwsJyI+PFwvc2NyaXB0PicpfX0pKSk6KHIuaW1wcmVzc2lvblRyYWNrZXJzPWUuaW1wdHJhY2tlcnN8fFtdLHIuamF2YXNjcmlwdFRyYWNrZXJzPWUuanN0cmFja2VyKTtlLmxpbmsmJihyLmNsaWNrVXJsPWUubGluay51cmwsci5jbGlja1RyYWNrZXJzPWUubGluay5jbGlja3RyYWNrZXJzKTtlLnByaXZhY3kmJihyLnByaXZhY3lMaW5rPWUucHJpdmFjeSk7cmV0dXJuIHJ9KGUubmF0aXZlKSxuLm9ydGJOYXRpdmU9ZS5uYXRpdmUsZS5udXJsJiZuLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMudW5zaGlmdChlLm51cmwpLG4ubWVkaWFUeXBlPXMuYztlbHNlIGlmKGUuYWRfdHlwZSYmInZpZGVvIj09PWUuYWRfdHlwZSluLnZhc3RYbWw9ZS5hZG0sbi5tZWRpYVR5cGU9cy5kLGgocikmJihuLmFkUmVzcG9uc2U9e2NvbnRlbnQ6bi52YXN0WG1sLGhlaWdodDplLmgsd2lkdGg6ZS53fSxuLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciByPWQuYS5pbnN0YWxsKHtpZDplLmFkVW5pdENvZGUsdXJsOmwsbG9hZGVkOiExLGNvbmZpZzppLmRlZXBBY2Nlc3MoZSwicmVuZGVyZXIub3B0aW9ucyIpLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKGcpfWNhdGNoKGUpe2kubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0ocikpO2Vsc2V7dmFyIGM9IiI7ZS5udXJsJiZlLm51cmwubGVuZ3RoPjAmJihjPSc8aW1nIHNyYz0iJy5jb25jYXQoZS5udXJsLCciIHdpZHRoPSIwIiBoZWlnaHQ9IjAiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPicpKSxuLmFkPSIiLmNvbmNhdChjLCI8c2NyaXB0PiIpLmNvbmNhdChlLmFkbSwiPFwvc2NyaXB0PiIpLG4ubWVkaWFUeXBlPXMuYn1pZihuLmNwbT1wYXJzZUZsb2F0KGUucHJpY2UpLG4uY3JlYXRpdmVJZD1lLmNyaWQsbi5jdXJyZW5jeT1lLmN1cnJlbmN5P2UuY3VycmVuY3kudG9VcHBlckNhc2UoKToiVVNEIixpLmlzTnVtYmVyKGUubGlkKSYmZS5idXlpbmdfdHlwZSYmInJ0YiIhPT1lLmJ1eWluZ190eXBlKW4uZGVhbElkPWUubGlkO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlLmxpZCkmJkFycmF5LmlzQXJyYXkoZS5idXlpbmdfdHlwZSkmJmUubGlkLmxlbmd0aD09PWUuYnV5aW5nX3R5cGUubGVuZ3RoKXt2YXIgbz0hMTtlLmJ1eWluZ190eXBlLmZvckVhY2goKGZ1bmN0aW9uKHIsdCl7b3x8ciYmInJ0YiIhPT1yJiYobz0hMCxuLmRlYWxJZD1lLmxpZFt0XSl9KSl9bi5oZWlnaHQ9ZS5oLG4ubmV0UmV2ZW51ZT0hIWUuaXNOZXQmJmUuaXNOZXQsbi5yZXF1ZXN0SWQ9ZS5pZCxuLnR0bD0zMDAsbi53aWR0aD1lLncsbi53aWR0aCYmbi5oZWlnaHR8fChuLndpZHRoPTEsbi5oZWlnaHQ9MSksZS5hZG9tYWluJiYobi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSxhLnB1c2gobil9fSkpLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgdD1bXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJvZHkuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kuaXNBcnJheShlLnN5bmMpJiZlLnN5bmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX0pKX0pKX0pKSx0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImltYWdlIix1cmw6ZX19KSl9cmV0dXJuW119fTtmdW5jdGlvbiB5KGUpe3ZhciByPU9iamVjdC5rZXlzKGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzIix7fSkpLHQ9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fDE9PT1yLmxlbmd0aCYmdCYmIm91dHN0cmVhbSIhPT1hfWZ1bmN0aW9uIGgoZSl7dmFyIHI9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSx0PWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4gciYmIm91dHN0cmVhbSI9PT10fWZ1bmN0aW9uIGcoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHtzaXplczpbZS53aWR0aCxlLmhlaWdodF0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxiLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gYihlLHIsdCl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTp0fSl9ZnVuY3Rpb24gdihlKXt0aGlzLkNPTlNUQU5UUz17QURfU0VSVkVSX0JBU0VfVVJMOiJpY2UuMzYweWllbGQuY29tIixFTkRfUE9JTlQ6ZXx8ImhiIixBRF9TRVJWRVJfVVJMX1BBUkFNOiJqc29ucD0iLENMSUVOVF9WRVJTSU9OOiJKUy02LjQuMCIsTUFYX1VSTF9MRU5HVEg6MjA4MyxFUlJPUl9DT0RFUzp7TUlTU0lOR19QTEFDRU1FTlRfUEFSQU1TOjIsTElCX1ZFUlNJT05fTUlTU0lORzozfSxSRVRVUk5fT0JKX1RZUEU6e0RFRkFVTFQ6MCxVUkxfUEFSQU1TX1NQTElUOjF9fSx0aGlzLmdldEVycm9yUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybntpZE1hcHBpbmdzOnt9LHJlcXVlc3RzOnt9LGVycm9yQ29kZTplfX0sdGhpcy5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUscix0KXtpZighci5saWJWZXJzaW9uKXJldHVybiB0aGlzLmdldEVycm9yUmV0dXJuKHRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLkxJQl9WRVJTSU9OX01JU1NJTkcpO3IucmV0dXJuT2JqVHlwZT1yLnJldHVybk9ialR5cGV8fHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5ERUZBVUxULHIuYWRTZXJ2ZXJCYXNlVXJsPSJodHRwczovLyIrKHIuYWRTZXJ2ZXJCYXNlVXJsfHx0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfQkFTRV9VUkwpO3ZhciBhLG49W107aWYoaS5pc0FycmF5KGUpKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGVbc10pLG4ucHVzaChhKTtlbHNlIGE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGUpLG4ucHVzaChhKTt2YXIgZD0hMDtyLnJldHVybk9ialR5cGU9PT10aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCYmKGQ9ITEpO3ZhciBjPXtyZXF1ZXN0czpbXX07ZCYmKGMuaWRNYXBwaW5ncz1bXSk7Zm9yKHZhciBvPW51bGwsdT0iIi5jb25jYXQoci5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9LGw9MDtsPG4ubGVuZ3RoO2wrKylpZigoYT1uW2xdKS5lcnJvckNvZGUpKG89b3x8W10pLnB1c2goe2Vycm9yQ29kZTphLmVycm9yQ29kZSxhZFVuaXRJZDphLmFkVW5pdElkfSk7ZWxzZXtkJiZjLmlkTWFwcGluZ3MucHVzaCh7YWRVbml0SWQ6YS5hZFVuaXRJZCxpZDphLmltcHJlc3Npb25PYmplY3QuaWR9KSxwLmJpZF9yZXF1ZXN0LmltcD1wLmJpZF9yZXF1ZXN0LmltcHx8W10scC5iaWRfcmVxdWVzdC5pbXAucHVzaChhLmltcHJlc3Npb25PYmplY3QpO3ZhciBtPSExOyh1K2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkpLmxlbmd0aD50aGlzLkNPTlNUQU5UUy5NQVhfVVJMX0xFTkdUSCYmKG09ITAscC5iaWRfcmVxdWVzdC5pbXAubGVuZ3RoPjEmJihwLmJpZF9yZXF1ZXN0LmltcC5wb3AoKSxkJiZjLmlkTWFwcGluZ3MucG9wKCksbC0tKSksIW0mJnIuc2luZ2xlUmVxdWVzdE1vZGUmJmwhPT1uLmxlbmd0aC0xfHwoYy5yZXF1ZXN0cy5wdXNoKHRoaXMuZm9ybWF0UmVxdWVzdChyLHApKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSl9cmV0dXJuIG8mJihjLmVycm9ycz1vKSxjfSx0aGlzLmZvcm1hdFJlcXVlc3Q9ZnVuY3Rpb24oZSxyKXtzd2l0Y2goZS5yZXR1cm5PYmpUeXBlKXtjYXNlIHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUOnJldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQpLGRhdGE6IiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKX07ZGVmYXVsdDpyZXR1cm57dXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpKyIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKX19fSx0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdD1mdW5jdGlvbihlLHIpe3ZhciB0PXtzZWN1cmU6MX07aWYoZS5yZXF1ZXN0SWQ/dC5pZD1lLnJlcXVlc3RJZDp0LmlkPWkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGUuZG9tYWluJiYodC5kb21haW49ZS5kb21haW4pLGUucGFnZSYmKHQucGFnZT1lLnBhZ2UpLGUucmVmJiYodC5yZWY9ZS5yZWYpLGUuY2FsbGJhY2smJih0LmNhbGxiYWNrPWUuY2FsbGJhY2spLGUubGliVmVyc2lvbiYmKHQudmVyc2lvbj1lLmxpYlZlcnNpb24rIi0iK3RoaXMuQ09OU1RBTlRTLkNMSUVOVF9WRVJTSU9OKSxlLnJlZmVycmVyJiYodC5yZWZlcnJlcj1lLnJlZmVycmVyKSwoZS5nZHByfHwwPT09ZS5nZHByKSYmKHQuZ2Rwcj1lLmdkcHIpLGUudXNQcml2YWN5JiYodC51c19wcml2YWN5PWUudXNQcml2YWN5KSxlLnNjaGFpbiYmKHQuc2NoYWluPWUuc2NoYWluKSxlLnVzZXImJih0LnVzZXI9ZS51c2VyKSxyKWZvcih2YXIgYSBpbiByKXRbYV09clthXTtyZXR1cm4gdH0sdGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciByPXt9LHQ9e307aWYoci5pbXByZXNzaW9uT2JqZWN0PXQsZS5pZD90LmlkPWUuaWQ6dC5pZD1pLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlLmFkVHlwZXMmJih0LmFkX3R5cGVzPWUuYWRUeXBlcyksZS5hZFVuaXRJZCYmKHIuYWRVbml0SWQ9ZS5hZFVuaXRJZCksZS5jdXJyZW5jeSYmKHQuY3VycmVuY3k9ZS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpKSxlLmJpZEZsb29yJiYodC5iaWRmbG9vcj1lLmJpZEZsb29yKSxlLmJpZEZsb29yQ3VyJiYodC5iaWRmbG9vcmN1cj1lLmJpZEZsb29yQ3VyLnRvVXBwZXJDYXNlKCkpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLnB1Ymxpc2hlcklkJiYodC5wdWJpZD1lLnB1Ymxpc2hlcklkKSxlLnBsYWNlbWVudEtleSYmKHQucGtleT1lLnBsYWNlbWVudEtleSksZS50cmFuc2FjdGlvbklkJiYodC50aWQ9ZS50cmFuc2FjdGlvbklkKSwhaS5pc0VtcHR5KGUudmlkZW8pKXt2YXIgYT1wKHt9LGUudmlkZW8pOzEhPT1hLnNraXAmJihkZWxldGUgYS5za2lwbWluLGRlbGV0ZSBhLnNraXBhZnRlciwwIT09YS5za2lwJiYoaS5sb2dXYXJuKCJ2aWRlby5za2lwOiBpbnZhbGlkIHZhbHVlICciLmNvbmNhdChhLnNraXAsIicuIEV4cGVjdGVkIDAgb3IgMSIpKSxkZWxldGUgYS5za2lwKSksaS5pc0VtcHR5KGEpfHwodC52aWRlbz1hKX1pZihlLmtleVZhbHVlcylmb3IodmFyIG4gaW4gZS5rZXlWYWx1ZXMpZm9yKHZhciBzPTA7czxlLmtleVZhbHVlc1tuXS5sZW5ndGg7cysrKXQua3Z3PXQua3Z3fHx7fSx0Lmt2d1tuXT10Lmt2d1tuXXx8W10sdC5rdndbbl0ucHVzaChlLmtleVZhbHVlc1tuXVtzXSk7aWYodC5iYW5uZXI9e30sZS5zaXplJiZlLnNpemUudyYmZS5zaXplLmgmJih0LmJhbm5lci53PWUuc2l6ZS53LHQuYmFubmVyLmg9ZS5zaXplLmgpLGUuZm9ybWF0JiZpLmlzQXJyYXkoZS5mb3JtYXQpKXt2YXIgZD1lLmZvcm1hdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJmkuaXNJbnRlZ2VyKGVbMF0pJiZpLmlzSW50ZWdlcihlWzFdKSYmZVswXT49MCYmZVsxXT49MH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKTtkLmxlbmd0aD4wJiYodC5iYW5uZXIuZm9ybWF0PWQpfXJldHVybiB0LnBpZHx8dC5wdWJpZHx8dC5wa2V5fHx0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaHx8KHIuaW1wcmVzc2lvbk9iamVjdD1udWxsLHIuZXJyb3JDb2RlPXRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLk1JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUykscn19T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzQ3Nl0pOwp1cGJqc0NodW5rKFsyMDZdLHs1MDQ6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDUwNSl9LDUwNTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSk7dmFyIGk9dCgwKSxuPXQoMiksYT10KDMpLG89dCgxMSkscz10Lm4obyksZD10KDEpLGM9dCgyMik7ZnVuY3Rpb24gcChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gdihlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGIoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsaSl9cmV0dXJuIHR9ZnVuY3Rpb24gbShlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj91KE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bChlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6dShPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBsKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBmKGUpe3JldHVybihmPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geShlLHIpe3ZhciB0PSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighdCl7aWYoQXJyYXkuaXNBcnJheShlKXx8KHQ9YihlKSl8fHImJmUmJiJudW1iZXIiPT10eXBlb2YgZS5sZW5ndGgpe3QmJihlPXQpO3ZhciBpPTAsbj1mdW5jdGlvbigpe307cmV0dXJue3M6bixuOmZ1bmN0aW9uKCl7cmV0dXJuIGk+PWUubGVuZ3RoP3tkb25lOiEwfTp7ZG9uZTohMSx2YWx1ZTplW2krK119fSxlOmZ1bmN0aW9uKGUpe3Rocm93IGV9LGY6bn19dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfXZhciBhLG89ITAscz0hMTtyZXR1cm57czpmdW5jdGlvbigpe3Q9dC5jYWxsKGUpfSxuOmZ1bmN0aW9uKCl7dmFyIGU9dC5uZXh0KCk7cmV0dXJuIG89ZS5kb25lLGV9LGU6ZnVuY3Rpb24oZSl7cz0hMCxhPWV9LGY6ZnVuY3Rpb24oKXt0cnl7b3x8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGF9fX19ZnVuY3Rpb24gYihlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdihlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP3YoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIHYoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxpPW5ldyBBcnJheShyKTt0PHI7dCsrKWlbdF09ZVt0XTtyZXR1cm4gaX12YXIgZz0icm91bmRlbCIsaD1bbi5iLG4uZF0seD04ZTMsST17SlBZOjF9LE89InAiLHc9IngiLEE9e1NJVEU6WyJpZCIsIm5hbWUiLCJkb21haW4iLCJjYXQiLCJzZWN0aW9uY2F0IiwicGFnZWNhdCIsInBhZ2UiLCJyZWYiLCJzZWFyY2giLCJtb2JpbGUiLCJwcml2YWN5cG9saWN5IiwicHVibGlzaGVyIiwiY29udGVudCIsImtleXdvcmRzIiwiZXh0Il0sVVNFUjpbImlkIiwiYnV5ZXJ1aWQiLCJ5b2IiLCJnZW5kZXIiLCJrZXl3b3JkcyIsImN1c3RvbWRhdGEiLCJnZW8iLCJkYXRhIiwiZXh0Il19LFM9eyJsaXZlcmFtcC5jb20iOiJpZGwiLCJuZXRpZC5kZSI6Ik5FVElEIiwibmV1c3Rhci5iaXoiOiJmYWJyaWNrSWQiLCJ6ZW90YXAuY29tIjoiemVvdGFwSWRQbHVzIiwidWlkYXBpLmNvbSI6IlVJRDIiLCJhZHNlcnZlci5vcmciOiJURElEIn0sUD1bImJyaXRlcG9vbGlkIiwiaWQ1aWQiLCJsaXBiaWQiLCJoYWxvSWQiLCJjcml0ZW9JZCIsImxvdGFtZVBhbm9yYW1hSWQiLCJtZXJrbGVJZCIsInBhcnJhYmxlSWQiLCJjb25uZWN0aWQiLCJ0YXBhZElkIiwicXVhbnRjYXN0SWQiLCJwdWJjaWQiLCJURElEIiwiZmxvY0lkIl0sej1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiJdLFQ9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJwcm90b2NvbCIsInN0YXJ0ZGVsYXkiLCJwbGFjZW1lbnQiLCJsaW5lYXJpdHkiLCJza2lwIiwic2tpcG1pbiIsInNraXBhZnRlciIsInNlcXVlbmNlIiwiYmF0dHIiLCJtYXhleHRlbmRlZCIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIiwiYm94aW5nYWxsb3dlZCIsInBsYXliYWNrbWV0aG9kIiwicGxheWJhY2tlbmQiLCJkZWxpdmVyeSIsInBvcyIsImNvbXBhbmlvbmFkIiwiYXBpIiwiY29tcGFuaW9udHlwZSIsImV4dCIsInBsYXllclNpemUiLCJ3IiwiaCJdO2Z1bmN0aW9uIGooZSl7dmFyIHI9ayhlKTtyLmJhbm5lcj17fTt2YXIgdD1pLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnNpemUiKTtyZXR1cm4gdCYmKHIuYmFubmVyLnc9dFswXSxyLmJhbm5lci5oPXRbMV0saS5kZWVwQWNjZXNzKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1pLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KHQpKSksci5iYW5uZXIudG9wZnJhbWU9aS5pbklmcmFtZSgpPzA6MSxFKGUscixuLmIpLHJ9ZnVuY3Rpb24gQyhlKXt2YXIgcj1rKGUpLHQ9aS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKTtpZighcShlLHQsYSkpcmV0dXJue307Zm9yKHZhciBvIGluIHIudmlkZW89YT9pLmRlZXBDbG9uZShlLnBhcmFtcy52aWRlbyk6e30sdCktMT09PVQuaW5kZXhPZihvKXx8ci52aWRlby5oYXNPd25Qcm9wZXJ0eShvKXx8KHIudmlkZW9bb109dFtvXSk7aWYoci52aWRlby5taW5kdXJhdGlvbj5yLnZpZGVvLm1heGR1cmF0aW9uKXJldHVybiBpLmxvZ0Vycm9yKCJJWCBCaWQgQWRhcHRlcjogdmlkZW8gbWluZHVyYXRpb24gWyIuY29uY2F0KHIudmlkZW8ubWluZHVyYXRpb24sIl0gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB2aWRlbyBtYXhkdXJhdGlvbiBbIikuY29uY2F0KHIudmlkZW8ubWF4ZHVyYXRpb24sIl0iKSkse307dmFyIHM9YSYmYS5jb250ZXh0fHx0JiZ0LmNvbnRleHQ7aWYocyYmIXIudmlkZW8uaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpJiYocz09PWMuYT9yLnZpZGVvLnBsYWNlbWVudD0xOnM9PT1jLmI/ci52aWRlby5wbGFjZW1lbnQ9NDppLmxvZ1dhcm4oIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBjb250ZXh0ICciLmNvbmNhdChzLCInIGlzIG5vdCBzdXBwb3J0ZWQiKSkpLCFyLnZpZGVvLnd8fCFyLnZpZGVvLmgpe3ZhciBkPVUoaS5kZWVwQWNjZXNzKHIsInZpZGVvLnBsYXllclNpemUiKSl8fFUoaS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXplIikpO2lmKCFkKXJldHVybiBpLmxvZ1dhcm4oIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBzaXplIGlzIG1pc3NpbmcgaW4gW21lZGlhVHlwZXMudmlkZW9dIG1pc3NpbmciKSx7fTtyLnZpZGVvLnc9ZFswXSxyLnZpZGVvLmg9ZFsxXSxpLmRlZXBBY2Nlc3MociwiZXh0LnNpZCIpfHwoci5leHQuc2lkPWkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkoZCkpfXJldHVybiBFKGUscixuLmQpLHJ9ZnVuY3Rpb24gayhlKXt2YXIgcj17fTtyLmlkPWUuYmlkSWQsci5leHQ9e30sci5leHQuc2l0ZUlEPWUucGFyYW1zLnNpdGVJZCwhZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImlkIil8fCJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuaWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuaWR8fChyLmV4dC5zaWQ9U3RyaW5nKGUucGFyYW1zLmlkKSk7dmFyIHQ9aS5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdCIpO3JldHVybiB0JiYoci5leHQuZGZwX2FkX3VuaXRfY29kZT10KSxyfWZ1bmN0aW9uIEUoZSxyLHQpe3ZhciBuPW51bGwsYT1udWxsO2lmKGUucGFyYW1zLmJpZEZsb29yJiZlLnBhcmFtcy5iaWRGbG9vckN1ciYmKG49e2Zsb29yOmUucGFyYW1zLmJpZEZsb29yLGN1cnJlbmN5OmUucGFyYW1zLmJpZEZsb29yQ3VyfSksaS5pc0ZuKGUuZ2V0Rmxvb3IpKXt2YXIgbz0iKiIscz0iKiI7aWYodCYmaS5jb250YWlucyhoLHQpKXt2YXIgZD1yW3RdO289dCxzPVtkLncsZC5oXX10cnl7YT1lLmdldEZsb29yKHttZWRpYVR5cGU6byxzaXplOnN9KX1jYXRjaChlKXtpLmxvZ1dhcm4oInByaWNlRmxvb3JzIG1vZHVsZSBjYWxsIGdldEZsb29yIGZhaWxlZCwgZXJyb3IgOiAiLGUpfX1hPyhyLmJpZGZsb29yPWEuZmxvb3Isci5iaWRmbG9vcmN1cj1hLmN1cnJlbmN5LHIuZXh0LmZsPU8pOm4mJihyLmJpZGZsb29yPW4uZmxvb3Isci5iaWRmbG9vcmN1cj1uLmN1cnJlbmN5LHIuZXh0LmZsPXcpfWZ1bmN0aW9uIEQoZSxyLHQpe3ZhciBhPXt9LG89ISghaS5kZWVwQWNjZXNzKGUsImV4cCIpfHwhaS5pc0ludGVnZXIoZS5leHApKSxzPWkuZGVlcEFjY2VzcyhlLCJkZWFsaWQiKXx8aS5kZWVwQWNjZXNzKGUsImV4dC5kZWFsaWQiKTtyZXR1cm4gSS5oYXNPd25Qcm9wZXJ0eShyKT9hLmNwbT1lLnByaWNlL0lbcl06YS5jcG09ZS5wcmljZS8xMDAsYS5yZXF1ZXN0SWQ9ZS5pbXBpZCxzJiYoYS5kZWFsSWQ9cyksYS5uZXRSZXZlbnVlPXRydWUsYS5jdXJyZW5jeT1yLGEuY3JlYXRpdmVJZD1lLmhhc093blByb3BlcnR5KCJjcmlkIik/ZS5jcmlkOiItIixpLmRlZXBBY2Nlc3MoZSwiZXh0LnZhc3R1cmwiKT8oYS52YXN0VXJsPWUuZXh0LnZhc3R1cmwsYS53aWR0aD10LnZpZGVvLncsYS5oZWlnaHQ9dC52aWRlby5oLGEubWVkaWFUeXBlPW4uZCxhLnR0bD1vP2UuZXhwOjM2MDApOihhLmFkPWUuYWRtLGEud2lkdGg9ZS53LGEuaGVpZ2h0PWUuaCxhLm1lZGlhVHlwZT1uLmIsYS50dGw9bz9lLmV4cDozMDApLGEubWV0YT17fSxhLm1ldGEubmV0d29ya0lkPWkuZGVlcEFjY2VzcyhlLCJleHQuZHNwaWQiKSxhLm1ldGEuYnJhbmRJZD1pLmRlZXBBY2Nlc3MoZSwiZXh0LmFkdmJyYW5kaWQiKSxhLm1ldGEuYnJhbmROYW1lPWkuZGVlcEFjY2VzcyhlLCJleHQuYWR2YnJhbmQiKSxlLmFkb21haW4mJmUuYWRvbWFpbi5sZW5ndGg+MCYmKGEubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1lLmFkb21haW4pLGF9ZnVuY3Rpb24gRihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmMj09PWUubGVuZ3RoJiZpLmlzSW50ZWdlcihlWzBdKSYmaS5pc0ludGVnZXIoZVsxXSl9ZnVuY3Rpb24gUigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO2lmKEYoZSkpcmV0dXJuIGVbMF09PT1yWzBdJiZlWzFdPT09clsxXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdWzBdPT09clswXSYmZVt0XVsxXT09PXJbMV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcShlLHIsdCl7dmFyIG49ITA7cnx8aS5sb2dXYXJuKCJJWCBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlbyBpcyB0aGUgcHJlZmVycmVkIGxvY2F0aW9uIGZvciB2aWRlbyBwYXJhbXMgaW4gYWQgdW5pdCIpO3ZhciBhLG89eSh6KTt0cnl7Zm9yKG8ucygpOyEoYT1vLm4oKSkuZG9uZTspe3ZhciBzPWEudmFsdWUsZD1yJiZyLmhhc093blByb3BlcnR5KHMpLGM9dCYmdC5oYXNPd25Qcm9wZXJ0eShzKTtkfHxjfHwoaS5sb2dFcnJvcigiSVggQmlkIEFkYXB0ZXI6ICIuY29uY2F0KHMsIiBpcyBub3QgaW5jbHVkZWQgaW4gZWl0aGVyIHRoZSBhZHVuaXQgb3IgcGFyYW1zIGxldmVsIikpLG49ITEpfX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX1pZighbilyZXR1cm4hMTt2YXIgcD1yJiZyLmhhc093blByb3BlcnR5KCJwcm90b2NvbCIpLHU9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2xzIiksbT10JiZ0Lmhhc093blByb3BlcnR5KCJwcm90b2NvbCIpLGw9dCYmdC5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2xzIik7cmV0dXJuIHB8fHV8fG18fGx9ZnVuY3Rpb24gVSgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gRihlKT9lOiEhRihlWzBdKSYmZVswXX1mdW5jdGlvbiBCKGUscil7aWYoZSlyZXR1cm4gcygpKHIsKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09ZX0pKX1mdW5jdGlvbiBOKGUscix0LG8pe3ZhciBzPSJodHRwczovL2h0bGIuY2FzYWxlbWVkaWEuY29tL2N5Z251cyIsZD1mdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e307aWYoaS5pc0FycmF5KGUpKXt2YXIgYSxvPXkoZSk7dHJ5e2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXt2YXIgcz1hLnZhbHVlO1Nbcy5zb3VyY2VdJiZpLmRlZXBBY2Nlc3MocywidWlkcy4wIikmJihuW3Muc291cmNlXT0hMCxzLnVpZHNbMF0uZXh0PXtydGlQYXJ0bmVyOlNbcy5zb3VyY2VdfSxkZWxldGUgcy51aWRzWzBdLmF0eXBlLHQucHVzaChzKSl9fWNhdGNoKGUpe28uZShlKX1maW5hbGx5e28uZigpfX1pZihyJiZyLmlkJiZyLnZlcnNpb24pe3ZhciBkPXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3tpZDpyLmlkLGV4dDp7cnRpUGFydG5lcjoiZmxvY0lkIix2ZXI6ci52ZXJzaW9ufX1dfTt0LnB1c2goZCksblsiY2hyb21lLmNvbSJdPSEwfXJldHVybnt0b1NlbmQ6dCxzZWVuU291cmNlczpufX0oaS5kZWVwQWNjZXNzKGUsIjAudXNlcklkQXNFaWRzIiksaS5kZWVwQWNjZXNzKGUsIjAudXNlcklkLmZsb2NJZCIpKSxjPWQudG9TZW5kO2lmKHdpbmRvdy5oZWFkZXJ0YWcmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbyl7dmFyIHU9d2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8oKTtpZih1JiYib2JqZWN0Ij09PWYodSkpZm9yKHZhciBsIGluIHUpaWYodS5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIGI9dVtsXTshYi5yZXNwb25zZVBlbmRpbmcmJmIuZGF0YSYmIm9iamVjdCI9PT1mKGIuZGF0YSkmJk9iamVjdC5rZXlzKGIuZGF0YSkubGVuZ3RoJiYhZC5zZWVuU291cmNlc1tiLmRhdGEuc291cmNlXSYmYy5wdXNoKGIuZGF0YSl9fWlmKHImJnIuYmlkZGVyQ29kZT09PWcmJiFkLnNlZW5Tb3VyY2VzWyJsaXZlcmFtcC5jb20iXSlyZXR1cm5bXTt2YXIgdj17fTt2LmlkPWVbMF0uYmlkZGVyUmVxdWVzdElkLnRvU3RyaW5nKCksdi5zaXRlPXt9LHYuZXh0PXt9LHYuZXh0LnNvdXJjZT0icHJlYmlkIix2LmV4dC5peGRpYWc9e30sdi5leHQuaXhkaWFnLm1zZD0wLHYuZXh0Lml4ZGlhZy5tc2k9MCx2LmltcD1bXTt2YXIgaD1mdW5jdGlvbihlKXtmb3IodmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQuaW5kZXhPZihlKT09PXJ9KSksdD17bWZ1OjAsYnU6MCxpdTowLG51OjAsb3U6MCxhbGx1OjAscmVuOiExLHZlcnNpb246IjUuMTEuMCIsdXNlcklkczpfKGVbMF0pfSxuPWZ1bmN0aW9uKG4pe2lmKG89ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yW25dfSkpWzBdLGkuZGVlcEFjY2VzcyhvLCJtZWRpYVR5cGVzIikpe2lmKE9iamVjdC5rZXlzKG8ubWVkaWFUeXBlcykubGVuZ3RoPjEmJnQubWZ1KyssaS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMubmF0aXZlIikmJnQubnUrKyxpLmRlZXBBY2Nlc3MobywibWVkaWFUeXBlcy5iYW5uZXIiKSYmdC5idSsrLCJvdXRzdHJlYW0iPT09aS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXt0Lm91Kys7dmFyIGE9Im9iamVjdCI9PT1mKGkuZGVlcEFjY2VzcyhvLCJyZW5kZXJlciIpfHxpLmRlZXBBY2Nlc3MobywibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpKTt0LnJlbj10LnJlbiYmYT9pLmRlZXBBY2Nlc3ModCwicmVuIik6YX0iaW5zdHJlYW0iPT09aS5kZWVwQWNjZXNzKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiZ0Lml1KyssdC5hbGx1Kyt9fSxhPTA7YTxyLmxlbmd0aDthKyspe3ZhciBvO24oYSl9cmV0dXJuIHR9KGUpO2Zvcih2YXIgSSBpbiBoKXYuZXh0Lml4ZGlhZ1tJXT1oW0ldO2lmKGVbMF0uc2NoYWluJiYodi5zb3VyY2U9e2V4dDp7c2NoYWluOmVbMF0uc2NoYWlufX0pLGMubGVuZ3RoPjAmJih2LnVzZXI9e30sdi51c2VyLmVpZHM9YyksZG9jdW1lbnQucmVmZXJyZXImJiIiIT09ZG9jdW1lbnQucmVmZXJyZXImJih2LnNpdGUucmVmPWRvY3VtZW50LnJlZmVycmVyKSxyKXtpZihyLmdkcHJDb25zZW50KXt2YXIgTz1yLmdkcHJDb25zZW50O08uaGFzT3duUHJvcGVydHkoImdkcHJBcHBsaWVzIikmJih2LnJlZ3M9e2V4dDp7Z2RwcjpPLmdkcHJBcHBsaWVzPzE6MH19KSxPLmhhc093blByb3BlcnR5KCJjb25zZW50U3RyaW5nIikmJih2LnVzZXI9di51c2VyfHx7fSx2LnVzZXIuZXh0PXtjb25zZW50Ok8uY29uc2VudFN0cmluZ3x8IiJ9LE8uaGFzT3duUHJvcGVydHkoImFkZHRsQ29uc2VudCIpJiZPLmFkZHRsQ29uc2VudCYmKHYudXNlci5leHQuY29uc2VudGVkX3Byb3ZpZGVyc19zZXR0aW5ncz17Y29uc2VudGVkX3Byb3ZpZGVyczpPLmFkZHRsQ29uc2VudH0pKX1yLnVzcENvbnNlbnQmJmkuZGVlcFNldFZhbHVlKHYsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksci5yZWZlcmVySW5mbyYmKHYuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcil9YS5iLmdldENvbmZpZygiY29wcGEiKSYmaS5kZWVwU2V0VmFsdWUodiwicmVncy5jb3BwYSIsMSk7dmFyIHc9e307dy5zPWVbMF0ucGFyYW1zLnNpdGVJZCx3LnY9byx3LmFjPSJqIix3LnNkPTEsOC4xPT09byYmKHcubmY9MSk7dmFyIFA9ciYmci5iaWRkZXJDb2RlfHwiaXgiLHo9YS5iLmdldENvbmZpZyhQKSxUPVtdLGo9MCxDPU9iamVjdC5rZXlzKHQpLGs9IiIuY29uY2F0KHMpLmNvbmNhdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKG0obSh7fSx3KSx7fSx7cjpKU09OLnN0cmluZ2lmeSh2KX0pKSkubGVuZ3RoO2lmKGs+eClyZXR1cm4gaS5sb2dFcnJvcigiaXggYmlkZGVyOiBCYXNlIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIiksVDt2YXIgRT1rLEQ9MCxGPSExO2lmKHope2lmKCJvYmplY3QiPT09Zih6LmZpcnN0UGFydHlEYXRhKSl7dmFyIFI9ei5maXJzdFBhcnR5RGF0YSxxPSI/Ijtmb3IodmFyIFUgaW4gUilSLmhhc093blByb3BlcnR5KFUpJiYocSs9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChVKSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoUltVXSksIiYiKSk7cT1xLnNsaWNlKDAsLTEpLChEPWVuY29kZVVSSUNvbXBvbmVudChxKS5sZW5ndGgpPHg/KCJwYWdlImluIHYuc2l0ZT92LnNpdGUucGFnZSs9cTp2LnNpdGUucGFnZT1xLEUrPUQpOmkubG9nRXJyb3IoIml4IGJpZGRlcjogSVggY29uZmlnIEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfSJudW1iZXIiPT10eXBlb2Ygei50aW1lb3V0JiYody50PXoudGltZW91dCksImJvb2xlYW4iPT10eXBlb2Ygei5kZXRlY3RNaXNzaW5nU2l6ZXM/di5leHQuaXhkaWFnLmRtcz16LmRldGVjdE1pc3NpbmdTaXplczp2LmV4dC5peGRpYWcuZG1zPSEwfWZvcih2YXIgQj1mdW5jdGlvbihlKXtpZihFPj14fHxULmxlbmd0aD49NClyZXR1cm4iYnJlYWsiO2Zvcih2YXIgcj10W0NbZV1dLG89ci5taXNzaW5nQ291bnQsZD12b2lkIDA9PT1vPzA6byxjPXIubWlzc2luZ0ltcHMsdT12b2lkIDA9PT1jP1tdOmMsbD1yLml4SW1wcyxmPSExLHk9eC1FLGI9e2l4SW1wczp2b2lkIDA9PT1sP1tdOmwsbWlzc2luZ0Jhbm5lckltcHJlc3Npb25zOnV9LGc9T2JqZWN0LmtleXMoYikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYltlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQuYXBwbHkoZSxwKHIpKX0pLFtdKSxoPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7aW1wcmVzc2lvbk9iamVjdHM6Z30pKS5sZW5ndGg7aD55OylmPSEwLGcucG9wKCksaD1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmd9KSkubGVuZ3RoO2lmKGcubGVuZ3RoJiZuLmIgaW4gZ1swXSl7dmFyIEk9Z1swXSxPPXtpZDpJLmlkLGJhbm5lcjp7dG9wZnJhbWU6SS5iYW5uZXIudG9wZnJhbWUsZm9ybWF0OmcubWFwKChmdW5jdGlvbihlKXt2YXIgcj1lLmJhbm5lcjtyZXR1cm57dzpyLncsaDpyLmgsZXh0OmUuZXh0fX0pKX19OyJiaWRmbG9vciJpbiBnWzBdJiYoTy5iaWRmbG9vcj1nWzBdLmJpZGZsb29yKSwiYmlkZmxvb3JjdXIiaW4gZ1swXSYmKE8uYmlkZmxvb3JjdXI9Z1swXS5iaWRmbG9vcmN1ciksdi5pbXAucHVzaChPKSx2LmV4dC5peGRpYWcubXNkKz1kLHYuZXh0Lml4ZGlhZy5tc2krPXUubGVuZ3RofWVsc2V7dmFyIFM7KFM9di5pbXApLnB1c2guYXBwbHkoUyxwKGcpKX1FKz1oO3ZhciBQPWEuYi5nZXRDb25maWcoIm9ydGIyIil8fHt9O2lmKCFpLmlzRW1wdHkoUCkmJiFGKXt2LmV4dC5peGRpYWcuZnBkPSEwO3ZhciB6PW0oe30sUC5zaXRlfHxQLmNvbnRleHQpO09iamVjdC5rZXlzKHopLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09QS5TSVRFLmluZGV4T2YoZSkmJmRlbGV0ZSB6W2VdfSkpO3ZhciBEPW0oe30sUC51c2VyKTtPYmplY3Qua2V5cyhEKS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PUEuVVNFUi5pbmRleE9mKGUpJiZkZWxldGUgRFtlXX0pKTt2YXIgUj1pLmRlZXBDbG9uZSh2KTtpZihSLnNpdGU9aS5tZXJnZURlZXAoe30sUi5zaXRlLHopLFIudXNlcj1pLm1lcmdlRGVlcCh7fSxSLnVzZXIsRCksIiIuY29uY2F0KHMpLmNvbmNhdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKG0obSh7fSx3KSx7fSx7cjpKU09OLnN0cmluZ2lmeShSKX0pKSkubGVuZ3RoPHgpe3Yuc2l0ZT1pLm1lcmdlRGVlcCh7fSx2LnNpdGUseiksdi51c2VyPWkubWVyZ2VEZWVwKHt9LHYudXNlcixEKSxGPSEwO3ZhciBxPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShtKG0oe30seiksRCkpKS5sZW5ndGg7RSs9cX1lbHNlIGkubG9nRXJyb3IoIml4IGJpZGRlcjogRlBEIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIil9dmFyIFU9ZT09PUMubGVuZ3RoLTE7aWYoZnx8VSl7dmFyIEI9aS5kZWVwQ2xvbmUodyk7VSYmIWp8fCh2LmV4dC5peGRpYWcuc249aixCLnNuPWopLGorKyxCLnI9SlNPTi5zdHJpbmdpZnkodiksVC5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTpCfSksRT1rLHYuaW1wPVtdLHYuZXh0Lml4ZGlhZy5tc2Q9MCx2LmV4dC5peGRpYWcubXNpPTAsRj0hMX19LE49MDtOPEMubGVuZ3RoO04rKyl7aWYoImJyZWFrIj09PUIoTikpYnJlYWt9cmV0dXJuIFR9ZnVuY3Rpb24gXyhlKXt2YXIgcj1lLnVzZXJJZHx8e307cmV0dXJuIFAuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pKX1mdW5jdGlvbiBKKGUscil7aWYocilmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTtpZihyWzBdPT09aVswXSYmclsxXT09PWlbMV0pe2Uuc3BsaWNlKHQsMSk7YnJlYWt9fX1mdW5jdGlvbiBNKGUscix0KXt2YXIgbj1lLnRyYW5zYWN0aW9uSWQ7aWYoci5oYXNPd25Qcm9wZXJ0eShuKSl7dmFyIGE9W107cltuXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ1NpemVzIikmJihhPXJbbl0ubWlzc2luZ1NpemVzKSxKKGEsZS5wYXJhbXMuc2l6ZSkscltuXS5taXNzaW5nU2l6ZXM9YX1lbHNlIGlmKGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKXt2YXIgbz1pLmRlZXBDbG9uZShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTtKKG8sZS5wYXJhbXMuc2l6ZSk7dmFyIHM9e21pc3NpbmdTaXplczpvLGltcHJlc3Npb246dH07cltuXT1zfX1mdW5jdGlvbiBYKGUscix0KXt2YXIgYT1pLmRlZXBDbG9uZShyKTtyZXR1cm4gYS5leHQuc2lkPWkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkodCksYS5iYW5uZXIudz10WzBdLGEuYmFubmVyLmg9dFsxXSxFKGUsYSxuLmIpLGF9dmFyIFY9e2NvZGU6Iml4IixndmxpZDoxMCxhbGlhc2VzOlt7Y29kZTpnLGd2bGlkOjEwLHNraXBQYnNBbGlhc2luZzohMX1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6aCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcix0LG49aS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpLGE9aS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXplIiksbz1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSxzPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksZD1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIiksYz1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSxwPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZSIpJiYhaS5jb250YWlucyhoLGUubWVkaWFUeXBlKSlyZXR1cm4hMTtpZihpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIW8pcmV0dXJuITE7aWYoYSl7dmFyIHU9VShhKTtpZighdSlyZXR1cm4gaS5sb2dFcnJvcigiaXggYmlkZGVyIHBhcmFtczogc2l6ZSBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYoIVIoZS5zaXplcyx1KSYmIVIoZCx1KSYmIVIobyx1KSlyZXR1cm4gaS5sb2dFcnJvcigiaXggYmlkZGVyIHBhcmFtczogYmlkIHNpemUgaXMgbm90IGluY2x1ZGVkIGluIGFkIHVuaXQgc2l6ZXMgb3IgcGxheWVyIHNpemUuIiksITF9cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkPyhpLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExKTohYyYmIXB8fGMmJnAmJihyPWUucGFyYW1zLmJpZEZsb29yLHQ9ZS5wYXJhbXMuYmlkRmxvb3JDdXIsQm9vbGVhbigibnVtYmVyIj09dHlwZW9mIHImJiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXltBLVpdezN9JC8pKSk/ISghbyYmKHN8fG4pKXx8cSgwLHMsbik6KGkubG9nRXJyb3IoIml4IGJpZGRlciBwYXJhbXM6IGJpZEZsb29yIC8gYmlkRmxvb3JDdXIgcGFyYW1ldGVyIGhhcyBpbnZhbGlkIGZvcm1hdC4iKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtmb3IodmFyIHQ9W10sbz17fSxzPXt9LGQ9bnVsbCxjPXt9LHU9bShtKHt9LHtkZXRlY3RNaXNzaW5nU2l6ZXM6ITB9KSxhLmIuZ2V0Q29uZmlnKCJpeCIpKSxsPTA7bDxlLmxlbmd0aDtsKyspe2Q9ZVtsXTt2YXIgZj1pLmRlZXBBY2Nlc3MoZCwibWVkaWFUeXBlcy52aWRlbyIpLHk9aS5kZWVwQWNjZXNzKGQsInBhcmFtcy52aWRlbyIpO2lmKChkLm1lZGlhVHlwZT09PW4uZHx8Znx8eSkmJiFzLmhhc093blByb3BlcnR5KGQudHJhbnNhY3Rpb25JZCkpe3ZhciBiPUMoZCk7MCE9T2JqZWN0LmtleXMoYikubGVuZ3RoJiYoc1tkLnRyYW5zYWN0aW9uSWRdPXt9LHNbZC50cmFuc2FjdGlvbklkXS5peEltcHM9W10sc1tkLnRyYW5zYWN0aW9uSWRdLml4SW1wcy5wdXNoKGIpKX1pZihkLm1lZGlhVHlwZT09PW4uYnx8aS5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fCFkLm1lZGlhVHlwZSYmIWQubWVkaWFUeXBlcyl7dmFyIHY9aihkKTtpLmRlZXBBY2Nlc3MoZCwicGFyYW1zLnNpemUiKSYmKG8uaGFzT3duUHJvcGVydHkoZC50cmFuc2FjdGlvbklkKXx8KG9bZC50cmFuc2FjdGlvbklkXT17fSksb1tkLnRyYW5zYWN0aW9uSWRdLmhhc093blByb3BlcnR5KCJpeEltcHMiKXx8KG9bZC50cmFuc2FjdGlvbklkXS5peEltcHM9W10pLG9bZC50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaCh2KSksdS5oYXNPd25Qcm9wZXJ0eSgiZGV0ZWN0TWlzc2luZ1NpemVzIikmJnUuZGV0ZWN0TWlzc2luZ1NpemVzJiZNKGQsYyx2KX19Zm9yKHZhciBnIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGg9Y1tnXS5taXNzaW5nU2l6ZXM7by5oYXNPd25Qcm9wZXJ0eShnKXx8KG9bZ109e30pLG9bZ10uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdJbXBzIil8fChvW2ddLm1pc3NpbmdJbXBzPVtdLG9bZ10ubWlzc2luZ0NvdW50PTApO2Zvcih2YXIgeD1jW2ddLmltcHJlc3Npb24sST0wO0k8aC5sZW5ndGg7SSsrKXt2YXIgTz1YKGQseCxoW0ldKTtvW2ddLm1pc3NpbmdJbXBzLnB1c2goTyksb1tnXS5taXNzaW5nQ291bnQrK319cmV0dXJuIE9iamVjdC5rZXlzKG8pLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxwKE4oZSxyLG8sNy4yKSkpLE9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxwKE4oZSxyLHMsOC4xKSkpLHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1udWxsO2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5Iil8fCFlLmJvZHkuaGFzT3duUHJvcGVydHkoInNlYXRiaWQiKSlyZXR1cm4gdDtmb3IodmFyIG49ZS5ib2R5LGE9bi5zZWF0YmlkLG89MDtvPGEubGVuZ3RoO28rKylpZihhW29dLmhhc093blByb3BlcnR5KCJiaWQiKSlmb3IodmFyIHM9YVtvXS5iaWQsZD1KU09OLnBhcnNlKHIuZGF0YS5yKSxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBwPUIoc1tjXS5pbXBpZCxkLmltcCk7aT1EKHNbY10sbi5jdXIscCksdC5wdXNoKGkpfXJldHVybiB0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gaS5jb252ZXJ0VHlwZXMoe3NpdGVJRDoibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9qcy1zZWMuaW5kZXh3dy5jb20vdW0vaXhtYXRjaC5odG1sIn1dOltdfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKFYpfX0sWzUwNF0pOwp1cGJqc0NodW5rKFsxOTRdLHs1NDA6ZnVuY3Rpb24oZSxuLHIpe2UuZXhwb3J0cz1yKDU0MSl9LDU0MTpmdW5jdGlvbihlLG4scil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIHQ9cigwKSxkPXIoMiksaT1yKDEpLHM9e2NvZGU6ImxvY2tlcmRvbWUiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2QuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5hZFVuaXRJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciByLGQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNjaGFpbiYmKHI9cnx8ZS5zY2hhaW4pLHtyZXF1ZXN0SWQ6ZS5iaWRJZCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhZFVuaXRJZDp0LmdldEJpZElkUGFyYW1ldGVyKCJhZFVuaXRJZCIsZS5wYXJhbXMpLHNpemVzOmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc319KSksaT1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLmNhbm9uaWNhbFVybHx8IiIscz1uJiZuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLnJlZmVyZXJ8fCIiLGE9e2JpZFJlcXVlc3RzOmQsdXJsOmVuY29kZVVSSUNvbXBvbmVudChpKSxyZWZlcnJlcjplbmNvZGVVUklDb21wb25lbnQocyl9O3JldHVybiByJiYoYS5zY2hhaW49ciksbiYmKG4uZ2RwckNvbnNlbnQmJihhLmdkcHI9e2FwcGxpZXM6bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyxjb25zZW50Om4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ30pLG4udXNwQ29uc2VudCYmKGEudXNfcHJpdmFjeT17Y29uc2VudDpuLnVzcENvbnNlbnR9KSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2xvY2tlcmRvbWUuY29tL2xhZGJpZC9wcmViaWQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3JldHVybiBlJiZlLmJvZHkmJmUuYm9keS5iaWRzP2UuYm9keS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3JlcXVlc3RJZDplLnJlcXVlc3RJZCxjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWQsY3VycmVuY3k6ZS5jdXJyZW5jeSxuZXRSZXZlbnVlOmUubmV0UmV2ZW51ZSxhZDplLmFkLHR0bDplLnR0bCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW4mJkFycmF5LmlzQXJyYXkoZS5hZG9tYWluKT9lLmFkb21haW46W119fX0pKTpbXX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs1NDBdKTsKdXBianNDaHVuayhbMTgyXSx7NTcyOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big1NzMpfSw1NzM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBVfSkpO3ZhciByPW4oMSksaT1uKDApLGE9bigzKSxvPW4oMiksZD1uKDIwKSxzPW4oMTMpO2Z1bmN0aW9uIGMoKXtyZXR1cm4oYz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB1PSJtZWRpYW5ldCIscD0iaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3ZpZGVvL2J1bmRsZS5qcyIsbD0wLGY9MSxtPTIsZz0iY2xpZW50X3RpbWVvdXQiLGI9ImNsaWVudF9iaWRfd29uIix5PU9iamVjdChkLmEpKCksaD17fTtmdW5jdGlvbiB2KCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19ZnVuY3Rpb24gdyhlKXtyZXR1cm4gYyh7ZG9tYWluOihlPWV8fHt9KS5kb21haW58fGgudXJsRGF0YS5kb21haW4scGFnZTplLnBhZ2V8fGgudXJsRGF0YS5wYWdlLHJlZjplLnJlZnx8digpLGlzVG9wOmUuaXNUb3B8fGgudXJsRGF0YS5pc1RvcH0sZnVuY3Rpb24oKXtpZihoLnBhZ2VNZXRhKXJldHVybiBoLnBhZ2VNZXRhO3ZhciBlPXgoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXScsImhyZWYiKSx0PXgoJ21ldGFbcHJvcGVydHk9Im9nOnVybCJdJywiY29udGVudCIpLG49eCgnbWV0YVtuYW1lPSJ0d2l0dGVyOnVybCJdJywiY29udGVudCIpO3JldHVybiBoLnBhZ2VNZXRhPWMoe30sZSYme2Nhbm9uaWNhbF91cmw6ZX0sdCYme29nX3VybDp0fSxuJiZ7dHdpdHRlcl91cmw6bn0pLGgucGFnZU1ldGF9KCkpfWZ1bmN0aW9uIHgoZSx0KXt2YXIgbixyLGE9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG49aS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKG51bGwhPT1uJiZuW3RdKXJldHVybiBuW3RdfWNhdGNoKGUpe319KGUsdCk7cmV0dXJuIGEmJihuPWEsKHI9aS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixyLmhyZWYpfWZ1bmN0aW9uIF8oZSx0KXtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnR5cGU9PT10fSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gVChlLHQpe3ZhciBuPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMiKSxyPWkuZGVlcEFjY2Vzcyh0LCJnZHByQ29uc2VudCIpLG89aS5kZWVwQWNjZXNzKHQsInVzcENvbnNlbnQiKSxkPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQiKSxzPWkuZGVlcEFjY2VzcyhlLCJzY2hhaW4iKXx8e30sdT1VLmdldFdpbmRvd1NpemUoKSxwPSEoIXJ8fCFyLmdkcHJBcHBsaWVzKSxsPSEhbyxmPSEhYS5iLmdldENvbmZpZygiY29wcGEiKTtyZXR1cm4gYyh7fSx7Y3VzdG9tZXJfaWQ6bi5jaWR9LHtwcmViaWRfdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSx7Z2Rwcl9hcHBsaWVzOnB9LHAmJntnZHByX2NvbnNlbnRfc3RyaW5nOnIuY29uc2VudFN0cmluZ3x8IiJ9LHt1c3BfYXBwbGllczpsfSxsJiZ7dXNwX2NvbnNlbnRfc3RyaW5nOm98fCIifSx7Y29wcGFfYXBwbGllczpmfSwtMSE9PXUudyYmLTEhPT11LmgmJntzY3JlZW46dX0sZCYme3VzZXJfaWQ6ZH0sdXBianMubWVkaWFuZXRHbG9iYWxzLmFuYWx5dGljc0VuYWJsZWQmJnthbmFseXRpY3M6ITB9LCFpLmlzRW1wdHkocykmJntzY2hhaW46c30pfWZ1bmN0aW9uIGooZSl7dmFyIHQsbj17aWQ6ZS5iaWRJZCxleHQ6e2RmcF9pZDplLmFkVW5pdENvZGUsZGlzcGxheV9jb3VudDplLmJpZFJlcXVlc3RzQ291bnR9LGFsbDplLnBhcmFtc30scj1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8W10sYT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxkPWMoe30saS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpfHx7fSxhKTtpZihpLmlzRW1wdHkoZCl8fChuLnZpZGVvPWQpLHIubGVuZ3RoPjAmJihuLmJhbm5lcj0odD1yLGkuaXNBcnJheSh0KSYmMj09PXQubGVuZ3RoJiYhaS5pc0FycmF5KHRbMF0pP1tBKHQpXTp0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEEoZSl9KSkpKSxlLm5hdGl2ZVBhcmFtcyl0cnl7bi5uYXRpdmU9SlNPTi5zdHJpbmdpZnkoZS5uYXRpdmVQYXJhbXMpfWNhdGNoKGUpe2kubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IEluY29ycmVjdCBKU09OIDogYmlkUmVxdWVzdC5uYXRpdmVQYXJhbXMiKSl9ZS5wYXJhbXMuY3JpZCYmKG4udGFnaWQ9ZS5wYXJhbXMuY3JpZC50b1N0cmluZygpKTt2YXIgcz1wYXJzZUZsb2F0KGUucGFyYW1zLmJpZGZsb29yfHxlLnBhcmFtcy5iaWRGbG9vcik7cyYmKG4uYmlkZmxvb3I9cyk7dmFyIHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYoIXQmJi0xIT09ZS5pbmRleE9mKCIvIikpe3ZhciBuPWkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKGUpLmRpdklkO2kuaXNTdHIobikmJih0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKX1pZih0JiZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXt9O3JldHVybiBhLnRvcF9sZWZ0PXt5OnIudG9wLHg6ci5sZWZ0fSxhLmJvdHRvbV9yaWdodD17eTpyLmJvdHRvbSx4OnIucmlnaHR9LGF9cmV0dXJuIG51bGx9KGUuYWRVbml0Q29kZSk7aWYocCYmbi5iYW5uZXImJjAhPT1uLmJhbm5lci5sZW5ndGgpe3ZhciBnPWZ1bmN0aW9uKGUpe3JldHVybnt0b3BfbGVmdDp7eDplLnRvcF9sZWZ0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS50b3BfbGVmdC55K3dpbmRvdy5wYWdlWU9mZnNldH0sYm90dG9tX3JpZ2h0Ont4OmUuYm90dG9tX3JpZ2h0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS5ib3R0b21fcmlnaHQueSt3aW5kb3cucGFnZVlPZmZzZXR9fX0ocCk7bi5leHQuY29vcmRpbmF0ZXM9ZyxuLmV4dC52aWV3YWJpbGl0eT1JKHAudG9wX2xlZnQsRShuLmJhbm5lcikpLEkoZy50b3BfbGVmdCxFKG4uYmFubmVyKSk+LjU/bi5leHQudmlzaWJpbGl0eT1mOm4uZXh0LnZpc2liaWxpdHk9bX1lbHNlIG4uZXh0LnZpc2liaWxpdHk9bDt2YXIgYj1mdW5jdGlvbihlKXt2YXIgdD1bXTsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmW28uYixvLmQsby5jXS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobikmJihuPT1vLmI/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5mb3JFYWNoKChmdW5jdGlvbihyKXtTKGUsbixyLHQpfSkpOlMoZSxuLCIqIix0KSl9KSk7cmV0dXJuIHR9KGUpO3JldHVybiBiJiZiLmxlbmd0aD4wJiYobi5iaWRmbG9vcnM9Yiksbn1mdW5jdGlvbiBTKGUsdCxuLHIpe3ZhciBpPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTp0LHNpemU6bn0pO24ubGVuZ3RoPjEmJihpLnNpemU9biksaS5tZWRpYVR5cGU9dCxyLnB1c2goaSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9ZnVuY3Rpb24gSShlLHQpe3ZhciBuPXQudyp0Lmgscj1VLmdldFdpbmRvd1NpemUoKSxpPXt4OmUueCt0LncseTplLnkrdC5ofTtyZXR1cm4gMD09PW58fC0xPT09ci53fHwtMT09PXIuaD8wOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUueD5yLnh8fHQueDxuLnh8fGUueT5yLnl8fHQueTxuLnkpcmV0dXJuIDA7cmV0dXJuKE1hdGgubWluKHQueCxyLngpLU1hdGgubWF4KGUueCxuLngpKSooTWF0aC5taW4odC55LHIueSktTWF0aC5tYXgoZS55LG4ueSkpfShlLGkse3g6MCx5OjB9LHt4OnIudyx5OnIuaH0pL259ZnVuY3Rpb24gTyhlLHQpe3Q9aS5pc0FycmF5KHQpJiZ0fHxbXTt2YXIgbj17bG9naWQ6ImtmayIsZXZ0aWQ6InByb2plY3RldmVudHMiLHByb2plY3Q6InByZWJpZCJ9O3JldHVybiBuLmFjaWQ9aS5kZWVwQWNjZXNzKHQsIjAuYXVjdGlvbklkIil8fCIiLG4uY2lkPXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWR8fCIiLG4uY3JpZD10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGVlcEFjY2VzcyhlLCJwYXJhbXMuMC5jcmlkIil8fGUuYWRVbml0Q29kZX0pKS5qb2luKCJ8Iiksbi5hZHVuaXRfY291bnQ9dC5sZW5ndGh8fDAsbi5kbj1oLnVybERhdGEuZG9tYWlufHwiIixuLnJlcXVybD1oLnVybERhdGEucGFnZXx8IiIsbi5pc3RvcD1oLnVybERhdGEuaXNUb3B8fCIiLG4uZXZlbnQ9ZS5uYW1lfHwiIixuLnZhbHVlPWUudmFsdWV8fCIiLG4ucmQ9ZS5yZWxhdGVkX2RhdGF8fCIiLG59ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPXtwcm90b2NvbDoiaHR0cHMiLGhvc3RuYW1lOiJxc2VhcmNoLWEuYWthbWFpaGQubmV0L2xvZyIsc2VhcmNoOk8oZSx0KX07aS50cmlnZ2VyUGl4ZWwoaS5idWlsZFVybChuKSl9ZnVuY3Rpb24gTShlKXt2YXIgdCxuPWkuZGVlcEFjY2VzcyhlLCJjb250ZXh0Iil8fCIiLHI9aS5kZWVwQWNjZXNzKGUsInZ0byIpOyJvdXRzdHJlYW0iPT1uJiZyJiYoZS5yZW5kZXJlcj0oKHQ9cy5hLmluc3RhbGwoe3VybDpwfSkpLnNldFJlbmRlcigoZnVuY3Rpb24oZSl7d2luZG93Lm1uZXQucXVldWUucHVzaCgoZnVuY3Rpb24oKXt2YXIgdD17d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFRpbWVvdXQ6ZS52dG8sbWF4QWxsb3dlZFZhc3RUYWdSZWRpcmVjdHM6ZS5tYXZ0cixhbGxvd1ZwYWlkOmUuYXZwLGF1dG9QbGF5OmUuYXAscHJlbG9hZDplLnBsLG11dGU6ZS5tdH0sbj1lLmRmcF9pZCxyPWkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKG4pLmRpdklkfHxuO3dpbmRvdy5tbmV0Lm1lZGlhTmV0b3V0c3RyZWFtUGxheWVyKGUscix0KX0pKX0pKSx0KSl9d2luZG93Lm1uZXQ9d2luZG93Lm1uZXR8fHt9LHdpbmRvdy5tbmV0LnF1ZXVlPXdpbmRvdy5tbmV0LnF1ZXVlfHxbXSxoLnVybERhdGE9e2RvbWFpbjppLnBhcnNlVXJsKHkucmVmZXJlcikuaG9zdG5hbWUscGFnZTp5LnJlZmVyZXIsaXNUb3A6eS5yZWFjaGVkVG9wfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHM9dXBianMubWVkaWFuZXRHbG9iYWxzfHx7fTt2YXIgVT17Y29kZTp1LGd2bGlkOjE0MixzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5jLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zP2UucGFyYW1zLmNpZCYmaS5pc1N0cihlLnBhcmFtcy5jaWQpJiYhaS5pc0VtcHR5U3RyKGUucGFyYW1zLmNpZCk/KGModXBianMubWVkaWFuZXRHbG9iYWxzLCF1cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkJiZ7Y2lkOmUucGFyYW1zLmNpZH0pLCEwKTooaS5sb2dFcnJvcigiIi5jb25jYXQodSwiIDogY2lkIHNob3VsZCBiZSBhIHN0cmluZyIpKSwhMSk6KGkubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj1mdW5jdGlvbihlLHQpe3JldHVybntzaXRlOncoZVswXS5wYXJhbXMuc2l0ZSksZXh0OlQoZVswXSx0KSxpZDplWzBdLmF1Y3Rpb25JZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBqKGUpfSkpLHRtYXg6dC50aW1lb3V0fHxhLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9fShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoobj1yLmV4dC5jdXN0b21lcl9pZCwiaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3J0Yi9wcmViaWQ/Y2lkPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxkYXRhOkpTT04uc3RyaW5naWZ5KHIpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtpZighZXx8IWUuYm9keSlyZXR1cm4gaS5sb2dJbmZvKCIiLmNvbmNhdCh1LCIgOiByZXNwb25zZSBpcyBlbXB0eSIpKSxuO3ZhciByPWUuYm9keS5iaWRMaXN0O3JldHVybiBpLmlzQXJyYXkocikmJjAhPT1yLmxlbmd0aD8oKG49ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUubm9fYmlkJiZwYXJzZUZsb2F0KGUuY3BtKT4wfShlKX0pKSkuZm9yRWFjaChNKSxuKTooaS5sb2dJbmZvKCIiLmNvbmNhdCh1LCIgOiBubyBiaWRzIikpLG4pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPShuPXQsIWkuaXNFbXB0eShuKSYmblswXS5ib2R5JiZuWzBdLmJvZHkuZXh0JiZpLmlzQXJyYXkoblswXS5ib2R5LmV4dC5jc1VybCk/blswXS5ib2R5LmV4dC5jc1VybDpbXSk7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9fKHIsImlmcmFtZSIpOmUucGl4ZWxFbmFibGVkP18ociwiaW1hZ2UiKTp2b2lkIDB9LG9uVGltZW91dDpmdW5jdGlvbihlKXt0cnl7Qyh7bmFtZTpnLHZhbHVlOmUubGVuZ3RoLHJlbGF0ZWRfZGF0YTplWzBdLnRpbWVvdXR8fGEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX0sZSl9Y2F0Y2goZSl7fX0sb25CaWRXb246ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Yix2YWx1ZTplLmNwbX0sW2VdKX1jYXRjaChlKXt9fSxjbGVhck1uRGF0YTpmdW5jdGlvbigpe2g9e319LGdldFdpbmRvd1NpemU6ZnVuY3Rpb24oKXtyZXR1cm57dzp3aW5kb3cuc2NyZWVuLndpZHRofHwtMSxoOndpbmRvdy5zY3JlZW4uaGVpZ2h0fHwtMX19fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoVSl9fSxbNTcyXSk7CnVwYmpzQ2h1bmsoWzE3Nl0sezU4NDpmdW5jdGlvbihlLGQscil7ZS5leHBvcnRzPXIoNTg1KX0sNTg1OmZ1bmN0aW9uKGUsZCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGQudmFsaWRhdGVNdWx0aWJpZD1nLGQuYWRqdXN0QmlkZGVyUmVxdWVzdHNIb29rPXksZC5hZGRCaWRSZXNwb25zZUhvb2s9eCxkLnNvcnRCeU11bHRpYmlkPWgsZC50YXJnZXRCaWRQb29sSG9vaz1CLHIuZChkLCJyZXNldE11bHRpQ29uZmlnIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKSxyLmQoZCwicmVzZXRNdWx0aWJpZFVuaXRzIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgaT1yKDMpLHQ9cigxMCksbz1yKDApLG49cig5KSxhPXIubihuKSxjPXIoNSksdT1yLm4oYyksYj1yKDI4KSxsPXIoMzgpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLGQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGYoZSxkKTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGYoZSxkKX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZihlLGQpeyhudWxsPT1kfHxkPmUubGVuZ3RoKSYmKGQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLGk9bmV3IEFycmF5KGQpO3I8ZDtyKyspaVtyXT1lW3JdO3JldHVybiBpfXZhciBwPSExLG09e30sQz17fTtmdW5jdGlvbiBnKGUpe3ZhciBkPSEwLHI9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiEhKGUuYmlkZGVyJiYic3RyaW5nIj09dHlwZW9mIGUuYmlkZGVyfHxlLmJpZGRlcnMmJkFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKSl8fChvLmxvZ1dhcm4oIkZpbHRlcmluZyBtdWx0aWJpZCBlbnRyeS4gTWlzc2luZyByZXF1aXJlZCBiaWRkZXIgb3IgYmlkZGVycyBwcm9wZXJ0eS4iKSxkPSExLCExKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybigibnVtYmVyIiE9dHlwZW9mIGUubWF4Qmlkc3x8ZS5tYXhCaWRzPDF8fGUubWF4Qmlkcz45KSYmKGUubWF4Qmlkcz0ibnVtYmVyIiE9dHlwZW9mIGUubWF4Qmlkc3x8ZS5tYXhCaWRzPDE/MTo5LGQ9ITEpLGV9KSk7cmV0dXJuIGR8fGkuYi5zZXRDb25maWcoe211bHRpYmlkOnJ9KSxkfWZ1bmN0aW9uIHkoZSxkKXtkLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZS5iaWRkZXJDb2RlXSYmKGUuYmlkTGltaXQ9bVtlLmJpZGRlckNvZGVdLm1heGJpZHMpLGV9KSksZS5jYWxsKHRoaXMsZCl9ZnVuY3Rpb24geChlLGQscil7dmFyIHQ9by5kZWVwQWNjZXNzKHIsImZsb29yRGF0YS5mbG9vclZhbHVlIik7aWYoaS5iLmdldENvbmZpZygibXVsdGliaWQiKXx8digpLHAmJm1bci5iaWRkZXJDb2RlXSYmImFkcG9kIj09PW8uZGVlcEFjY2VzcyhyLCJ2aWRlby5jb250ZXh0IikpZS5jYWxsKHRoaXMsZCxyKTtlbHNlIGlmKHAmJm1bci5iaWRkZXJDb2RlXSlpZihtW3IuYmlkZGVyQ29kZV0ucHJlZml4JiYoci5tdWx0aWJpZFByZWZpeD1tW3IuYmlkZGVyQ29kZV0ucHJlZml4KSxyLm9yaWdpbmFsQmlkZGVyPXIuYmlkZGVyQ29kZSxvLmRlZXBBY2Nlc3MoQywiIi5jb25jYXQoZCwiLiIpLmNvbmNhdChyLmJpZGRlckNvZGUpKSlpZihDW2RdW3IuYmlkZGVyQ29kZV0ubWF4UmVhY2hlZHx8dCYmISh0PD1yLmNwbSkpby5sb2dXYXJuKCJGaWx0ZXJpbmcgbXVsdGliaWQgcmVjZWl2ZWQgZnJvbSBiaWRkZXIgIi5jb25jYXQoci5iaWRkZXJDb2RlLCI6ICIpKyhDW2RdW3IuYmlkZGVyQ29kZV0ubWF4UmVhY2hlZD8iTWF4aW11bSBiaWQgbGltaXQgcmVhY2hlZCBmb3IgYWQgdW5pdCBjb2RlICIuY29uY2F0KGQpOiJCaWQgY3BtIHVuZGVyIGZsb29ycyB2YWx1ZS4iKSk7ZWxzZXtyLm9yaWdpbmFsUmVxdWVzdElkPXIucmVxdWVzdElkLHIucmVxdWVzdElkPW8uZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLENbZF1bci5iaWRkZXJDb2RlXS5hZHMucHVzaChyKTt2YXIgbj1DW2RdW3IuYmlkZGVyQ29kZV0uYWRzLmxlbmd0aDttW3IuYmlkZGVyQ29kZV0ucHJlZml4JiYoci50YXJnZXRpbmdCaWRkZXI9bVtyLmJpZGRlckNvZGVdLnByZWZpeCtuKSxuPT09bVtyLmJpZGRlckNvZGVdLm1heGJpZHMmJihDW2RdW3IuYmlkZGVyQ29kZV0ubWF4UmVhY2hlZD0hMCksZS5jYWxsKHRoaXMsZCxyKX1lbHNlIG8uZGVlcEFjY2VzcyhyLCJmbG9vckRhdGEuZmxvb3JWYWx1ZSIpJiZvLmRlZXBTZXRWYWx1ZShDLFtkLHIuYmlkZGVyQ29kZV0se2Zsb29yOm8uZGVlcEFjY2VzcyhyLCJmbG9vckRhdGEuZmxvb3JWYWx1ZSIpfSksby5kZWVwU2V0VmFsdWUoQyxbZCxyLmJpZGRlckNvZGVdLHthZHM6W3JdfSksQ1tkXVtyLmJpZGRlckNvZGVdLmFkcy5sZW5ndGg9PT1tW3IuYmlkZGVyQ29kZV0ubWF4YmlkcyYmKENbZF1bci5iaWRkZXJDb2RlXS5tYXhSZWFjaGVkPSEwKSxlLmNhbGwodGhpcyxkLHIpO2Vsc2UgZS5jYWxsKHRoaXMsZCxyKX1mdW5jdGlvbiBoKGUsZCl7cmV0dXJuIGUuYmlkZGVyIT09ZS5iaWRkZXJDb2RlJiZkLmJpZGRlcj09PWQuYmlkZGVyQ29kZT8xOmUuYmlkZGVyPT09ZS5iaWRkZXJDb2RlJiZkLmJpZGRlciE9PWQuYmlkZGVyQ29kZT8tMTowfWZ1bmN0aW9uIEIoZSxkLHIpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTowO2lmKGkuYi5nZXRDb25maWcoIm11bHRpYmlkIil8fHYoKSxwKXt2YXIgbj1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuZGVhbFByaW9yaXRpemF0aW9uIiksYT1bXSxjPW8uZ3JvdXBCeShkLCJhZFVuaXRDb2RlIiksdT1bXS5jb25jYXQuYXBwbHkoW10sT2JqZWN0LmtleXMoYykucmVkdWNlKChmdW5jdGlvbihlLGQpe3ZhciBpPVtdLHU9by5ncm91cEJ5KGNbZF0sIm9yaWdpbmFsQmlkZGVyIiksYj1bXS5jb25jYXQuYXBwbHkoW10sT2JqZWN0LmtleXModSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdVtlXS5zb3J0KChmdW5jdGlvbihlLGQpe3JldHVybiBlLm9yaWdpbmFsQmlkZGVyJiZlLm9yaWdpbmFsQmlkZGVyIT09ZS5iaWRkZXJDb2RlJiYoZS5iaWRkZXJDb2RlPWUub3JpZ2luYWxCaWRkZXIpLGUub3JpZ2luYWxCaWRkZXImJmQub3JpZ2luYWxCaWRkZXIhPT1kLmJpZGRlckNvZGUmJihkLmJpZGRlckNvZGU9ZC5vcmlnaW5hbEJpZGRlciksZS5jcG0+ZC5jcG0/LTE6ZS5jcG08ZC5jcG0/MTowfSkpLm1hcCgoZnVuY3Rpb24oZSxkKXtyZXR1cm4gby5kZWVwQWNjZXNzKG0sIiIuY29uY2F0KGUuYmlkZGVyQ29kZSwiLnByZWZpeCIpKSYmMCE9PWQmJmQ8bVtlLmJpZGRlckNvZGVdLm1heGJpZHMmJihlLmJpZGRlckNvZGU9bVtlLmJpZGRlckNvZGVdLnByZWZpeCsoZCsxKSksZX0pKX0pKSksZj1vLmdyb3VwQnkoYiwiYmlkZGVyQ29kZSIpO3JldHVybiBPYmplY3Qua2V5cyhmKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gaS5wdXNoKGZbZV0ucmVkdWNlKHIpKX0pKSx0PjA/KChpPW4/aS5zb3J0KE9iamVjdChsLmMpKCEwKSk6aS5zb3J0KChmdW5jdGlvbihlLGQpe3JldHVybiBkLmNwbS1lLmNwbX0pKSkuc29ydChoKSxhLnB1c2guYXBwbHkoYSxzKGkuc2xpY2UoMCx0KSkpKTphLnB1c2guYXBwbHkoYSxzKGkpKSxbXS5jb25jYXQuYXBwbHkoW10sYSl9KSxbXSkpO2UuY2FsbCh0aGlzLHUscix0LCEwKX1lbHNlIGUuY2FsbCh0aGlzLGQscix0KX1pLmIuZ2V0Q29uZmlnKCJtdWx0aWJpZCIsKGZ1bmN0aW9uKGUpe0FycmF5LmlzQXJyYXkoZS5tdWx0aWJpZCkmJmUubXVsdGliaWQubGVuZ3RoJiZnKGUubXVsdGliaWQpJiYodigpLHA9ITAsZS5tdWx0aWJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZGRlcj9tW2UuYmlkZGVyXT17bWF4YmlkczplLm1heEJpZHMscHJlZml4OmUudGFyZ2V0QmlkZGVyY29kZVByZWZpeH06ZS5iaWRkZXJzLmZvckVhY2goKGZ1bmN0aW9uKGQpe21bZF09e21heGJpZHM6ZS5tYXhCaWRzLHByZWZpeDplLnRhcmdldEJpZGRlcmNvZGVQcmVmaXh9fSkpfSkpKX0pKTt2YXIgdj1mdW5jdGlvbigpe3A9ITEsbT17fX0sQT1mdW5jdGlvbigpe3JldHVybiBDPXt9fTthLmEub24odS5hLkVWRU5UUy5BVUNUSU9OX0lOSVQsQSksT2JqZWN0KHQuZCkoYi5lLHkpLE9iamVjdCh0LmEpKCJhZGRCaWRSZXNwb25zZSIpLmJlZm9yZSh4LDMpLE9iamVjdCh0LmQpKGwuYixCKX19LFs1ODRdKTsKdXBianNDaHVuayhbMTY5XSx7NTk4OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg1OTkpfSw1OTk6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciBpPXQoMCkscj10KDMpLG89dCgxKSxkPXQoMiksYT10KDcpLHM9Im5vYmlkIix1PU9iamVjdChhLmIpKDgxNixzKTtmdW5jdGlvbiBjKGUsbil7aS5sb2dJbmZvKCItTm9CaWQtICIrZSxuKX1mdW5jdGlvbiBwKGUsbil7ZnVuY3Rpb24gdChlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5kPT09ZSlyZXR1cm4gblt0XTtyZXR1cm4hMX0oZS5kaXYsbil8fHt9O3JldHVybiBlLmFjY291bnQmJih0LnM9ZS5hY2NvdW50KSxlLnNpemVzJiYodC56PWUuc2l6ZXMpLGUuZGl2JiYodC5kPWUuZGl2KSxlLnRhcmdldGluZz90Lmc9ZS50YXJnZXRpbmc6dC5nPXt9LGUuZGl2JiZmdW5jdGlvbihlLG4sdCl7Zm9yKHZhciBpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciByPWVbaV07cltuXSYmcltuXT09PXQmJmUuc3BsaWNlKGksMSl9fShuLCJkIixlLmRpdiksZS5zaXplTWFwcGluZyYmKHQuc209ZS5zaXplTWFwcGluZyksZS5zaXRlSWQmJih0LnNpZD1lLnNpdGVJZCksZS5wbGFjZW1lbnRJZCYmKHQucGlkPWUucGxhY2VtZW50SWQpLGUuYWRfdHlwZSYmKHQuYXQ9ZS5hZF90eXBlKSxlLnBhcmFtcyYmKHQucGFyYW1zPWUucGFyYW1zKSxuLnB1c2godCksbn1pZih2b2lkIDAhPT13aW5kb3cubm9iaWQucmVmcmVzaExpbWl0JiZ3aW5kb3cubm9iaWQucmVmcmVzaExpbWl0PHdpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQpcmV0dXJuITE7dmFyIG8sYT0obz0iX3VibG9jayIsdS5nZXRDb29raWUobykpO2lmKGEpcmV0dXJuIGMoIlJlcXVlc3QgYmxvY2tlZCBmb3IgdXNlci4gaG91cnM6ICIsYSksITE7Zm9yKHZhciBzPVtdLHA9MCxsPVtdLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGY9ZVtnXSxiPWYuYWRVbml0Q29kZTtzLnB1c2goYik7dmFyIHY9Zi5zaXplcztwPXZvaWQgMCE9PWYucGFyYW1zLnNpdGVJZCYmZi5wYXJhbXMuc2l0ZUlkP2YucGFyYW1zLnNpdGVJZDpwO3ZhciBtPWYucGFyYW1zLnBsYWNlbWVudElkLHc9ImJhbm5lciIsaD1pLmRlZXBBY2Nlc3MoZiwibWVkaWFUeXBlcy52aWRlbyIpLHk9aS5kZWVwQWNjZXNzKGYsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpOyhmLm1lZGlhVHlwZT09PWQuZHx8aCYmKCJpbnN0cmVhbSI9PT15fHwib3V0c3RyZWFtIj09PXkpKSYmKHc9InZpZGVvIikscCYmdCh7ZGl2OmIsc2l6ZXM6dixzaXRlSWQ6cCxwbGFjZW1lbnRJZDptLGFkX3R5cGU6dyxwYXJhbXM6Zi5wYXJhbXN9LGwpfXJldHVybiEhcCYmZnVuY3Rpb24odCxvLGQpe3ZhciBhLHMsdSxjLHAsbCxnLGYsYj17fTtiLnNpZD1vLGIubD1mdW5jdGlvbihlKXt2YXIgbj0iIjtyZXR1cm4gbj1lJiZlLnJlZmVyZXJJbmZvJiZlLnJlZmVyZXJJbmZvLnJlZmVyZXI/ZS5yZWZlcmVySW5mby5yZWZlcmVyOndpbmRvdy5jb250ZXh0JiZ3aW5kb3cuY29udGV4dC5sb2NhdGlvbiYmd2luZG93LmNvbnRleHQubG9jYXRpb24uaHJlZj93aW5kb3cuY29udGV4dC5sb2NhdGlvbi5ocmVmOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsZW5jb2RlVVJJQ29tcG9uZW50KG4ucmVwbGFjZSgvXCUvZywiIikpfShuKSxiLnR0PWVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC50aXRsZSksYi50dD1iLnR0LnJlcGxhY2UoLyd8O3xxdW90O3wzOTt8JmFtcDt8JnwjfFxyXG58XHJ8XG58XHR8XGZ8XCUwQXxcInxcJTIyfFwlNUN8XCUyM3xcJTI2fFwlMjZ8XCUwOS9nbSwiIiksYi5hPWZ1bmN0aW9uKGUsbil7dmFyIHQ9W107aWYoZSYmZS5sZW5ndGgpe2lmKG4pe3ZhciBpPVtdO2UgaW5zdGFuY2VvZiBBcnJheT9pPWU6aS5wdXNoKGUpO2Zvcih2YXIgcj0wLG89bi5sZW5ndGg7cjxvO3IrKyl7dmFyIGQ9bltyXTtkJiZkLmQmJmkuaW5kZXhPZihkLmQpPi0xJiZ0LnB1c2goZCl9fX1lbHNlIHQ9bjtyZXR1cm4gdH0odCxkfHxbXSksYi50PShhPW5ldyBEYXRlLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PTk/IjAiK2U6IiIrZX0sdT1hLmdldERhdGUoKSxjPWEuZ2V0RnVsbFllYXIoKSxwPWEuZ2V0TW9udGgoKSsxLGw9YS5nZXRIb3VycygpLGc9YS5nZXRNaW51dGVzKCksZj1hLmdldFNlY29uZHMoKSxjKyItIitzKHApKyItIitzKHUpKyIgIitzKGwpKyI6IitzKGcpKyI6IitzKGYpKSxiLnR6PU1hdGgucm91bmQoKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpKSxiLnI9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxuPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKTtyZXR1cm4iIi5jb25jYXQoZSwieCIpLmNvbmNhdChuKX1jYXRjaChlKXtpLmxvZ1dhcm4oIkNvdWxkIG5vdCBwYXJzZSBzY3JlZW4gZGltZW5zaW9ucywgZXJyb3IgZGV0YWlsczoiLGUpfX0oKSxiLmxhbmc9bmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlLGIucmVmPWRvY3VtZW50LnJlZmVycmVyLGIuZ2Rwcj1mdW5jdGlvbihlKXt2YXIgbj17fTtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmKG49e2NvbnNlbnRTdHJpbmc6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksbn0obiksYi51c3A9ZnVuY3Rpb24oZSl7dmFyIG49IiI7cmV0dXJuIGUmJmUudXNwQ29uc2VudCYmKG49ZS51c3BDb25zZW50KSxufShuKSxiLnBqYmRyPW4mJm4uYmlkZGVyQ29kZT9uLmJpZGRlckNvZGU6Im5vYmlkIjt2YXIgdj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg+MD9lWzBdLnNjaGFpbjpudWxsfShlKTt2JiYoYi5zY2hhaW49dik7dmFyIG09ITA9PT1yLmIuZ2V0Q29uZmlnKCJjb3BwYSIpP3tjb3BwYTohMH06ZSYmZS5sZW5ndGg+MD9lWzBdLmNvcHBhOm51bGw7bSYmKGIuY29wcGE9bSk7dmFyIHc9ZnVuY3Rpb24oZSl7aWYoaS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKXt2YXIgbj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1bXTtlLnVpZHMmJmUudWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0LnB1c2goe2lkOmUuaWQrIiJ9KX0pKSxlLnNvdXJjZSYmdC5sZW5ndGg+MCYmbi5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkczp0fSl9KSksbn19KGkuZGVlcEFjY2VzcyhlLCIwLnVzZXJJZEFzRWlkcyIpKTtyZXR1cm4gdyYmdy5sZW5ndGg+MCYmKGIuZWlkcz13KSxifShzLHAsbCl9ZnVuY3Rpb24gbChlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5hZFVuaXRDb2RlPT1lKXJldHVybiBuW3RdO3JldHVybiExfTshZnVuY3Rpb24oZSl7ZSYmdm9pZCAwIT09ZS5ybGltaXQmJih3aW5kb3cubm9iaWQucmVmcmVzaExpbWl0PWUucmxpbWl0KX0oZSksZnVuY3Rpb24oZSl7ZSYmdm9pZCAwIT09ZS51YmxvY2smJmZ1bmN0aW9uKGUsbix0KXt2YXIgaT1uZXcgRGF0ZTtpLnNldFRpbWUoaS5nZXRUaW1lKCkrNjAqdCo2MCoxZTMpO3ZhciByPSJleHBpcmVzPSIraS50b1VUQ1N0cmluZygpO3Uuc2V0Q29va2llKGUsbixyKX0oIl91YmxvY2siLCIxIixlLnVibG9jayl9KGUpO2Zvcih2YXIgaT1bXSxyPTA7ZS5iaWRzJiZyPGUuYmlkcy5sZW5ndGg7cisrKXt2YXIgbz1lLmJpZHNbcl07aWYoIShvLmJkcmlkPDEwMCkmJm4mJm4uYmlkZGVyUmVxdWVzdCYmbi5iaWRkZXJSZXF1ZXN0LmJpZHMpe3dpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrby5pZF09bzt2YXIgYT10KG8uZGl2aWQsbi5iaWRkZXJSZXF1ZXN0LmJpZHMpO2lmKGEpe3ZhciBzPXtyZXF1ZXN0SWQ6YS5iaWRJZCxjcG06MSooby5wcmljZT9vLnByaWNlOm8uYnVja2V0P28uYnVja2V0OjApLHdpZHRoOm8uc2l6ZS53LGhlaWdodDpvLnNpemUuaCxjcmVhdGl2ZUlkOm8uY3JlYXRpdmVpZHx8IiIsZGVhbElkOm8uZGVhbGlkfHwiIixjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozMDAsYWQ6by5hZG0sbWVkaWFUeXBlOm8uYXR5cGV8fGQuYn07by52YXN0VXJsJiYocy52YXN0VXJsPW8udmFzdFVybCksby52YXN0WG1sJiYocy52YXN0WG1sPW8udmFzdFhtbCksby52aWRlb0NhY2hlS2V5JiYocy52aWRlb0NhY2hlS2V5PW8udmlkZW9DYWNoZUtleSksby5tZXRhJiYocy5tZXRhPW8ubWV0YSksaS5wdXNoKHMpfX19cmV0dXJuIGl9d2luZG93Lm5vYmlkVmVyc2lvbj0iMS4zLjEiLHdpbmRvdy5ub2JpZD13aW5kb3cubm9iaWR8fHt9LHdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXM9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc3x8e30sd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbD0wLHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbD0wLHdpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQ9MCx3aW5kb3cubm9iaWQucmVuZGVyVGFnPWZ1bmN0aW9uKGUsbix0KXtjKCJub2JpZC5yZW5kZXJUYWcoKSIsbik7dmFyIGk9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIituXTtpZihpJiZpLmFkbTIpe2MoIm5vYmlkLnJlbmRlclRhZygpIGZvdW5kIHRhZyIsbik7dmFyIHI9aS5hZG0yO3JldHVybiBlLndyaXRlKHIpLHZvaWQgZS5jbG9zZSgpfWMoIm5vYmlkLnJlbmRlclRhZygpIHRhZyBOT1QgRk9VTkQgKkVSUk9SKiIsbil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oZSl7dmFyIG49IiIrZVtlLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIl07aWYoIm5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwfCI9PT1uLnN1YnN0cmluZygwLCJuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cHwiLmxlbmd0aCkpe2MoIlByZWJpZCByZWNlaXZlZCBuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cCBldmVudCIpO3ZhciB0PW4uc3Vic3RyaW5nKG4uaW5kZXhPZigifCIpKzEpO2lmKHdpbmRvdy5ub2JpZCYmd2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlcyl7dmFyIGk9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIit0XTtpZihpJiZpLmFkbTIpe3ZhciByPWkuYWRtMjtyJiZlLnNvdXJjZS5wb3N0TWVzc2FnZSgibmJUYWdSZW5kZXJlci5yZW5kZXJBZEluU2FmZUZyYW1lfCIrciwiKiIpfX19fSksITEpO3ZhciBnPXtjb2RlOnMsZ3ZsaWQ6ODE2LGFsaWFzZXM6W3tjb2RlOiJkdXJhdGlvbiIsZ3ZsaWQ6Njc0fV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbZC5iLGQuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGMoImlzQmlkUmVxdWVzdFZhbGlkIixlKSwhIWUucGFyYW1zLnNpdGVJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe2lmKGMoInZhbGlkQmlkUmVxdWVzdHMiLGUpLCFlfHxlLmxlbmd0aDw9MCljKCJFbXB0eSB2YWxpZEJpZFJlcXVlc3RzIik7ZWxzZXt2YXIgdD1wKGUsbik7aWYodCl7d2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudCsrO3ZhciByLG8sZD1KU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC8nfCZ8Iy9nLCIiKSxhPShyPSJodHRwczovL2Fkcy5zZXJ2ZW5vYmlkLmNvbS8iLChvPSJmdW5jdGlvbiI9PXR5cGVvZiBpLmdldFBhcmFtZXRlckJ5TmFtZSYmaS5nZXRQYXJhbWV0ZXJCeU5hbWUoIm5vYmlkLWVudiIpKT8iYmV0YSI9PW8/cj0iaHR0cHM6Ly9iZXRhLnNlcnZlbm9iaWQuY29tLyI6ImRldiI9PW8/cj0iLy9sb2NhbGhvc3Q6ODI4Mi8iOiJxYSI9PW8mJihyPSJodHRwczovL3FhLWFkcy5ub2JpZC5jb20vIik6cj0iaHR0cHM6Ly9hZHMuc2VydmVub2JpZC5jb20vIixyKyJhZHJlcT9jYj0iK01hdGguZmxvb3IoMTFlMypNYXRoLnJhbmRvbSgpKSkscz17fTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIG49ITA7cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJjI9PT1lLmdkcHJDb25zZW50LmFwaVZlcnNpb24mJihuPSEoITAhPT1pLmRlZXBBY2Nlc3MoZS5nZHByQ29uc2VudCwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLG59KG4pfHwocz17d2l0aENyZWRlbnRpYWxzOiExfSkse21ldGhvZDoiUE9TVCIsdXJsOmEsZGF0YTpkLGJpZGRlclJlcXVlc3Q6bixvcHRpb25zOnN9fX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGMoImludGVycHJldFJlc3BvbnNlIC0+IHNlcnZlclJlc3BvbnNlIixlKSxjKCJpbnRlcnByZXRSZXNwb25zZSAtPiBiaWRSZXF1ZXN0IixuKSxsKGUuYm9keSxuKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsbix0LHIpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIG89IiI7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcz9vKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHQuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpOm8rPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHQuY29uc2VudFN0cmluZykpLHImJihvLmxlbmd0aD4wP28rPSImIjpvKz0iPyIsbys9InVzcF9jb25zZW50PSIrciksW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9wdWJsaWMuc2VydmVub2JpZC5jb20vc3luYy5odG1sIitvfV19aWYoZS5waXhlbEVuYWJsZWQmJm4ubGVuZ3RoPjApe3ZhciBkPVtdO3JldHVybiBuWzBdLmJvZHkuc3luY3MmJm5bMF0uYm9keS5zeW5jcy5sZW5ndGg+MCYmblswXS5ib2R5LnN5bmNzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2QucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSksZH1yZXR1cm4gaS5sb2dXYXJuKCItTm9CaWQtIFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luYy4iLGUpLFtdfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWwrKyxjKCJUaW1lb3V0IHRvdGFsOiAiK3dpbmRvdy5ub2JpZC50aW1lb3V0VG90YWwsZSksd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbH0sb25CaWRXb246ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbCsrLGMoIkJpZFdvbiB0b3RhbDogIit3aW5kb3cubm9iaWQuYmlkV29uVG90YWwsZSksd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsfX07T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzU5OF0pOwp1cGJqc0NodW5rKFsxNjNdLHs2MTY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDYxNyl9LDYxNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiVVNFUl9JRF9DT0RFX1RPX1FVRVJZX0FSRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPW4oMyksYT1uKDEpLGk9bigwKSxvPW4oMiksZD1uKDEyKSxzPW4ubihkKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGEsaT1bXSxvPSEwLGQ9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKG89KHI9bi5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKHIudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtkPSEwLGE9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgYX19cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gdShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBtPVtvLmIsby5kXSxsPVsic3RhcnRkZWxheSIsIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInN0YXJ0ZGVsYXkiLCJza2lwcGFibGUiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsInByb3RvY29scyIsImJveGluZ2FsbG93ZWQiLCJsaW5lYXJpdHkiLCJkZWxpdmVyeSIsInByb3RvY29sIiwicGxhY2VtZW50IiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiXSxmPXticml0ZXBvb2xpZDoiYnJpdGVwb29saWQiLGNyaXRlb0lkOiJjcml0ZW9pZCIsZmFicmlja0lkOiJudWVzdGFyaWQiLGhhbG9JZDoiYXVkaWdlbnRpZCIsaWQ1aWQ6ImlkNWlkIixpZGxfZW52OiJscmUiLElEUDoiemVvdGFwaWQiLGlkeElkOiJpZHhpZCIsaW50ZW50SXFJZDoiaW50ZW50aXFpZCIsbGlwYjoibGlwYmlkIixsb3RhbWVQYW5vcmFtYUlkOiJsb3RhbWVpZCIsbWVya2xlSWQ6Im1lcmtsZWlkIixuZXRJZDoibmV0aWQiLHBhcnJhYmxlSWQ6InBhcnJhYmxlaWQiLHB1YmNpZDoicHViY2lkIixxdWFudGNhc3RJZDoicXVhbnRjYXN0aWQiLHRhcGFkSWQ6InRhcGFkaWQiLHRkaWQ6InR0ZHV1aWQiLHVpZDI6InVpZDIiLGZsb2NJZDoiZmxvYyIsYWRtaXhlcklkOiJhZG1peGVyaWQiLGRlZXBpbnRlbnRJZDoiZGVlcGludGVudGlkIixkbWRJZDoiZG1kaWQiLG5leHRyb2xsSWQ6Im5leHRyb2xsaWQiLG5vdmF0aXE6Im5vdmF0aXFpZCIsbXdPcGVuTGlua0lkOiJtd29wZW5saW5raWQiLGRhcElkOiJkYXBpZCIsYW14SWQ6ImFteGlkIn0sYj17Y29kZToib3BlbngiLGd2bGlkOjY5LHN1cHBvcnRlZE1lZGlhVHlwZXM6bSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcy5kZWxEb21haW58fGUucGFyYW1zLnBsYXRmb3JtO3JldHVybiBpLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmdD8hIWUucGFyYW1zLnVuaXR8fGkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgiKT4wOiEoIWUucGFyYW1zLnVuaXR8fCF0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1bXSxhPXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPXQsaS5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMudmlkZW8iKSYmIWkuZGVlcEFjY2VzcyhuLCJtZWRpYVR5cGVzLmJhbm5lciIpfHxuLm1lZGlhVHlwZT09PW8uZD9lWzBdLnB1c2godCk6ZVsxXS5wdXNoKHQpLGV9KSxbW10sW11dKX0oZSksMiksZD1hWzBdLGM9YVsxXTtyZXR1cm4gYy5sZW5ndGg+MCYmbi5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49W10sYT0hMSxkPXYoZSx0KSxzPWkuX21hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudW5pdH0pKTtkLmF1cz1pLl9tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGkucGFyc2VTaXplc0lucHV0KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLmpvaW4oIiwiKX0pKS5qb2luKCJ8IiksZC5kaXZpZHM9aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZS5hZFVuaXRDb2RlKX0pKS5qb2luKCIsIiksZC5hdWNzPWkuX21hcChlLChmdW5jdGlvbihlKXt2YXIgdD1pLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHR8fCIiKX0pKS5qb2luKCIsIikscy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSYmKGQuYXVpZD1zLmpvaW4oIiwiKSk7ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuZG9Ob3RUcmFja30pKSYmKGQubnM9MSk7KCEwPT09ci5iLmdldENvbmZpZygiY29wcGEiKXx8ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuY29wcGF9KSkpJiYoZC50ZmNkPTEpO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKXt2YXIgdD1pLl9tYXAoT2JqZWN0LmtleXMoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dFtlXTtpLmlzQXJyYXkobikmJihuPW4uam9pbigiLCIpKTtyZXR1cm4oZS50b0xvd2VyQ2FzZSgpKyI9IituLnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoIisiLCIuIikucmVwbGFjZSgiLyIsIl8iKX0odCxlLnBhcmFtcy5jdXN0b21QYXJhbXMpfSkpLHI9d2luZG93LmJ0b2EodC5qb2luKCImIikpO2E9ITAsbi5wdXNoKHIpfWVsc2Ugbi5wdXNoKCIiKX0pKSxhJiYoZC50cHM9bi5qb2luKCIsIikpO3JldHVybiB5KGQsby5iLGUpLHttZXRob2Q6IkdFVCIsdXJsOmQucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvYXJqIjoiaHR0cHM6Ly8iLmNvbmNhdChlWzBdLnBhcmFtcy5kZWxEb21haW4sIi93LzEuMC9hcmoiKSxkYXRhOmQscGF5bG9hZDp7YmlkczplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShjLHQpKSxkLmxlbmd0aD4wJiZkLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixhPWkuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvIiksZD12KFtlXSx0KSxjPWkuZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8iKXx8e30scD1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IiksdT1pLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIik7aS5pc0FycmF5KGUuc2l6ZXMpJiYyPT09ZS5zaXplcy5sZW5ndGgmJiFpLmlzQXJyYXkoZS5zaXplc1swXSk/KG49cGFyc2VJbnQoZS5zaXplc1swXSwxMCkscj1wYXJzZUludChlLnNpemVzWzFdLDEwKSk6aS5pc0FycmF5KGUuc2l6ZXMpJiZpLmlzQXJyYXkoZS5zaXplc1swXSkmJjI9PT1lLnNpemVzWzBdLmxlbmd0aD8obj1wYXJzZUludChlLnNpemVzWzBdWzBdLDEwKSxyPXBhcnNlSW50KGUuc2l6ZXNbMF1bMV0sMTApKTppLmlzQXJyYXkodSkmJjI9PT11Lmxlbmd0aCYmKG49cGFyc2VJbnQodVswXSwxMCkscj1wYXJzZUludCh1WzFdLDEwKSk7dmFyIG09e3c6bixoOnJ9LGY9ZS5wYXJhbXMudmlkZW98fGUucGFyYW1zLm9wZW5ydGJ8fHt9O2Yub3BlbnJ0YiYmKGY9Zi5vcGVucnRiKTtpLmlzQXJyYXkoZi5pbXApJiYoZj1mLmltcFswXS52aWRlbyk7T2JqZWN0LmtleXMoZikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcygpKGwsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZV09ZltlXX0pKSxPYmplY3Qua2V5cyhhKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkobCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbVtlXT1hW2VdfSkpO3ZhciBiPXtpbXA6W3t2aWRlbzptfV19O2Qub3BlbnJ0Yj1KU09OLnN0cmluZ2lmeShiKSxkLmF1aWQ9ZS5wYXJhbXMudW5pdCxkLnZ3ZD1ufHxjLnZ3ZCxkLnZodD1yfHxjLnZodCwib3V0c3RyZWFtIj09PXAmJihkLnZvcz0iMTAxIik7Yy5taW1lcyYmKGQudm1pbWVzPWMubWltZXMpO2UucGFyYW1zLnRlc3QmJihkLnZ0ZXN0PTEpO3ZhciBoPWkuZGVlcEFjY2VzcyhlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2gmJihkLmF1Y3M9ZW5jb2RlVVJJQ29tcG9uZW50KGgpKTtyZXR1cm4geShkLG8uZCxbZV0pLGR9KGUsdCk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6bi5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC92LzEuMC9hdmpwIjoiaHR0cHM6Ly8iLmNvbmNhdChlLnBhcmFtcy5kZWxEb21haW4sIi92LzEuMC9hdmpwIiksZGF0YTpuLHBheWxvYWQ6e2JpZDplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShlLHQpKX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuL2F2anAkLy50ZXN0KGUudXJsKT9vLmQ6by5ifSh0KT09PW8uZD9mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLHI9KHQuc3RhcnRUaW1lLFtdKTtpZih2b2lkIDAhPT1lJiYiIiE9PWUudmFzdFVybCYmZS5wdWJfcmV2PjApe3ZhciBhPWkucGFyc2VVcmwoZS52YXN0VXJsKS5zZWFyY2h8fHt9LGQ9e307ZC5yZXF1ZXN0SWQ9bi5iaWRJZCxlLmRlYWxfaWQmJihkLmRlYWxJZD1lLmRlYWxfaWQpLGQudHRsPTMwMCxkLm5ldFJldmVudWU9ITAsZC5jdXJyZW5jeT1lLmN1cnJlbmN5LGQuY3BtPXBhcnNlSW50KGUucHViX3JldiwxMCkvMWUzLGQud2lkdGg9cGFyc2VJbnQoZS53aWR0aCwxMCksZC5oZWlnaHQ9cGFyc2VJbnQoZS5oZWlnaHQsMTApLGQuY3JlYXRpdmVJZD1lLmFkaWQsZC52YXN0VXJsPWUudmFzdFVybCxkLm1lZGlhVHlwZT1vLmQsZS5waD1hLnBoLGUuY29sbz1hLmNvbG8sZS50cz1hLnRzLHIucHVzaChkKX1yZXR1cm4gcn0obix0LnBheWxvYWQpOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXQuYmlkcyxyPSh0LnN0YXJ0VGltZSxlLmFkcy5hZCksYT1bXSxpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV0sZD1wYXJzZUludChvLmlkeCwxMCkscz17fTtpZihzLnJlcXVlc3RJZD1uW2RdLmJpZElkLG8ucHViX3Jldil7cy5jcG09TnVtYmVyKG8ucHViX3JldikvMWUzO3ZhciBjPW8uY3JlYXRpdmVbMF07YyYmKHMud2lkdGg9Yy53aWR0aCxzLmhlaWdodD1jLmhlaWdodCkscy5jcmVhdGl2ZUlkPWMuaWQscy5hZD1vLmh0bWwsby5kZWFsX2lkJiYocy5kZWFsSWQ9by5kZWFsX2lkKSxzLnR0bD0zMDAscy5uZXRSZXZlbnVlPSEwLHMuY3VycmVuY3k9by5jdXJyZW5jeSxvLnRiZCYmKHMudGJkPW8udGJkKSxzLnRzPW8udHMscy5tZXRhPXt9LG8uYnJhbmRfaWQmJihzLm1ldGEuYnJhbmRJZD1vLmJyYW5kX2lkKSxvLmFkb21haW4mJmxlbmd0aChvLmFkb21haW4pPjA/cy5tZXRhLmFkdmVydGlzZXJEb21haW5zPW8uYWRvbWFpbjpzLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9W10sby5hZHZfaWQmJihzLm1ldGEuZHNwaWQ9by5hZHZfaWQpLGEucHVzaChzKX19cmV0dXJuIGF9KG4sdC5wYXlsb2FkKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUuaWZyYW1lRW5hYmxlZHx8ZS5waXhlbEVuYWJsZWQpcmV0dXJuW3t0eXBlOmUuaWZyYW1lRW5hYmxlZD8iaWZyYW1lIjoiaW1hZ2UiLHVybDppLmRlZXBBY2Nlc3ModCwiMC5ib2R5LmFkcy5waXhlbHMiKXx8aS5kZWVwQWNjZXNzKHQsIjAuYm9keS5waXhlbHMiKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj0iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9wZCIscj1bXTtlJiYoci5wdXNoKCJnZHByPSIrKGUuZ2RwckFwcGxpZXM/MTowKSksci5wdXNoKCJnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoZS5jb25zZW50U3RyaW5nfHwiIikpKTt0JiZyLnB1c2goInVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQoci5sZW5ndGg+MD8iPyIrci5qb2luKCImIik6IiIpfShuLHIpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHQpe3JldHVybiBpLmNvbnZlcnRUeXBlcyh7dW5pdDoic3RyaW5nIixjdXN0b21GbG9vcjoibnVtYmVyIn0sZSl9fTtmdW5jdGlvbiBoKGUpe3ZhciB0LG4scixhPXdpbmRvdyxpPWRvY3VtZW50LG89aS5kb2N1bWVudEVsZW1lbnQ7aWYoZSl7dHJ5e2E9d2luZG93LnRvcCxpPXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7cmV0dXJufW89aS5kb2N1bWVudEVsZW1lbnQscj1pLmJvZHksdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGh8fHIuY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodHx8ci5jbGllbnRIZWlnaHR9ZWxzZSBvPWkuZG9jdW1lbnRFbGVtZW50LHQ9YS5pbm5lcldpZHRofHxvLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8by5jbGllbnRIZWlnaHQ7cmV0dXJuIiIuY29uY2F0KHQsIngiKS5jb25jYXQobil9ZnVuY3Rpb24gdihlLHQpe3ZhciBuLGE9aS5pbklmcmFtZSgpO249e2p1OnIuYi5nZXRDb25maWcoInBhZ2VVcmwiKXx8dC5yZWZlcmVySW5mby5yZWZlcmVyLGNoOmRvY3VtZW50LmNoYXJTZXR8fGRvY3VtZW50LmNoYXJhY3RlclNldCxyZXM6IiIuY29uY2F0KHNjcmVlbi53aWR0aCwieCIpLmNvbmNhdChzY3JlZW4uaGVpZ2h0LCJ4IikuY29uY2F0KHNjcmVlbi5jb2xvckRlcHRoKSxpZnI6YSx0ejoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksdHdzOmgoYSksYmU6MSxiYzplWzBdLnBhcmFtcy5iY3x8IiIuY29uY2F0KCJoYl9wYiIsIl8iKS5jb25jYXQoIjMuMC4zIiksZGRkaWQ6aS5fbWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuam9pbigiLCIpLG5vY2FjaGU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9O3ZhciBvLGQscyxwLHUsbT1yLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyLmRhdGEiKTtpZihBcnJheS5pc0FycmF5KG0pJiZtLmxlbmd0aD4wKXt2YXIgbD1tLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5zZWdtZW50KSYmZS5zZWdtZW50Lmxlbmd0aD4wJiZ2b2lkIDAhPT1lLm5hbWUmJmUubmFtZS5sZW5ndGg+MH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG49Im9iamVjdCI9PT1jKHQuZXh0KSYmdC5leHQuc2VndGF4PyIiLmNvbmNhdCh0Lm5hbWUsIi8iKS5jb25jYXQodC5leHQuc2VndGF4KTp0Lm5hbWU7cmV0dXJuIGVbbl09KGVbbl18fFtdKS5jb25jYXQodC5zZWdtZW50Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KSkpLGV9KSx7fSksYj1PYmplY3Qua2V5cyhsKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIjoiK2xbZV0uam9pbigifCIpfSkpLmpvaW4oIiwiKTtiLmxlbmd0aD4wJiYobi5zbT1lbmNvZGVVUklDb21wb25lbnQoYikpfWlmKGVbMF0ucGFyYW1zLnBsYXRmb3JtJiYobi5waD1lWzBdLnBhcmFtcy5wbGF0Zm9ybSksdC5nZHByQ29uc2VudCl7dmFyIHY9dC5nZHByQ29uc2VudDt2b2lkIDAhPT12LmNvbnNlbnRTdHJpbmcmJihuLmdkcHJfY29uc2VudD12LmNvbnNlbnRTdHJpbmcpLHZvaWQgMCE9PXYuZ2RwckFwcGxpZXMmJihuLmdkcHI9di5nZHByQXBwbGllcz8xOjApLCJpYWIiPT09ci5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQuY21wQXBpIikmJihuLnhfZ2Rwcl9mPTEpfXJldHVybiB0JiZ0LnVzcENvbnNlbnQmJihuLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxpLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpJiZpLmRlZXBTZXRWYWx1ZShlWzBdLCJ1c2VySWQucHViY2lkIixpLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpKSxvPW4sZD1lWzBdLnVzZXJJZCxpLl9lYWNoKGQsKGZ1bmN0aW9uKGUsdCl7dmFyIG49Zlt0XTtpZihmLmhhc093blByb3BlcnR5KHQpKXN3aXRjaCh0KXtjYXNlImZsb2NJZCI6Y2FzZSJ1aWQyIjpvW25dPWUuaWQ7YnJlYWs7Y2FzZSJsaXBiIjppZihvW25dPWUubGlwYmlkLEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoPjApe3ZhciByPSJsaXZlaW50ZW50OiIrZS5zZWdtZW50cy5qb2luKCJ8Iik7by5zbT0iIi5jb25jYXQoby5zbT9vLnNtK2VuY29kZVVSSUNvbXBvbmVudCgiLCIpOiIiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX1icmVhaztjYXNlInBhcnJhYmxlSWQiOm9bbl09ZS5laWQ7YnJlYWs7Y2FzZSJpZDVpZCI6b1tuXT1lLnVpZDticmVhaztjYXNlIm5vdmF0aXEiOm9bbl09ZS5zbm93Zmxha2U7YnJlYWs7ZGVmYXVsdDpvW25dPWV9fSkpLG49byxlWzBdLnNjaGFpbiYmKG4uc2NoYWluPShzPWVbMF0uc2NoYWluLCIiLmNvbmNhdChzLnZlciwiLCIpLmNvbmNhdChzLmNvbXBsZXRlLCIhIikuY29uY2F0KChwPXMubm9kZXMsdT1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdLHAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfHwiIn0pKS5qb2luKCIsIil9KSkuam9pbigiISIpKSkpKSxufWZ1bmN0aW9uIHkoZSx0LG4pe3ZhciBhPVtdLGk9ITE7bi5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuPXt9LGE9ci5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpfHwiVVNEIjsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmKG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6YSxtZWRpYVR5cGU6dCxzaXplOiIqIn0pKTt2YXIgaT1uLmZsb29yfHxlLnBhcmFtcy5jdXN0b21GbG9vcnx8MDtyZXR1cm4gTWF0aC5yb3VuZCgxZTMqaSl9KGUsdCk7bj8oYS5wdXNoKG4pLGk9ITApOmEucHVzaCgwKX0pKSxpJiYoZS5hdW1mcz1hLmpvaW4oIiwiKSl9T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzYxNl0pOwp1cGJqc0NodW5rKFszM10sezY0MDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjQxKX0sNjQxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIucmVzZXRTeW5jZWRTdGF0dXM9ZnVuY3Rpb24oKXtVPTB9LHIucmVzZXRXdXJsTWFwPWZ1bmN0aW9uKCl7WD17fX0sci5QcmViaWRTZXJ2ZXI9JDt2YXIgbj10KDc3KSxpPXQoNDIpLHM9dCgwKSxvPXQoNSksYT10Lm4obyksYz10KDgpLGQ9dCgzKSxwPXQoMiksdT10KDM2KSxsPXQoMSksYj10KDkpLGY9dC5uKGIpLHY9dCgxMiksZz10Lm4odikseT10KDY0MiksbT10KDQpLGg9dCgxMSksQz10Lm4oaCk7ZnVuY3Rpb24gUyhlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24geChlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9TKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7TyhlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6UyhPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBPKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBqKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxzPVtdLG89ITAsYT0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEobz0obj10Lm5leHQoKSkuZG9uZSkmJihzLnB1c2gobi52YWx1ZSksIXJ8fHMubGVuZ3RoIT09cik7bz0hMCk7fWNhdGNoKGUpe2E9ITAsaT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gc30oZSxyKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBBKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBBKGUscil9KGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBBKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gRSgpe3JldHVybihFPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4odz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBQLGssXz1kLmIuZ2V0Q29uZmlnLEk9YS5hLlMyUy5TUkMsVT0wLEI9e3RpbWVvdXQ6MWUzLG1heEJpZHM6MSxhZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGFkYXB0ZXJPcHRpb25zOnt9LHN5bmNVcmxNb2RpZmllcjp7fSxiaWRkZXJzOltdfTtmdW5jdGlvbiBUKGUpe2lmKGUpe3ZhciByPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0sdD1bXTtyZXR1cm4gci5ldmVyeSgoZnVuY3Rpb24ocixuLGkpe2lmKChmdW5jdGlvbihlKXtbImVuZHBvaW50Iiwic3luY0VuZHBvaW50Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7aWYocy5pc1N0cihlW3JdKSl7dmFyIHQ9ZVtyXTtlW3JdPXtwMUNvbnNlbnQ6dCxub1AxQ29uc2VudDp0fX0hcy5pc1BsYWluT2JqZWN0KGVbcl0pfHxlW3JdLnAxQ29uc2VudCYmZVtyXS5ub1AxQ29uc2VudHx8WyJwMUNvbnNlbnQiLCJub1AxQ29uc2VudCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2Vbcl1bdF18fHMubG9nV2FybigiczJzQ29uZmlnLiIuY29uY2F0KHIsIi4iKS5jb25jYXQodCwiIG5vdCBkZWZpbmVkLiAgUEJTIHJlcXVlc3Qgd2lsbCBiZSBza2lwcGVkIGluIHNvbWUgUDEgc2NlbmFyaW9zLiIpKX0pKX0pKX0oZSksITEhPT1mdW5jdGlvbihlKXtpZihlLmRlZmF1bHRWZW5kb3Ipe3ZhciByPWUuZGVmYXVsdFZlbmRvcix0PU9iamVjdC5rZXlzKGUpO2lmKCF5LmFbcl0pcmV0dXJuIHMubG9nRXJyb3IoIkluY29ycmVjdCBvciB1bmF2YWlsYWJsZSBwcmViaWQgc2VydmVyIGRlZmF1bHQgdmVuZG9yIG9wdGlvbjogIityKSwhMTtPYmplY3Qua2V5cyh5LmFbcl0pLmZvckVhY2goKGZ1bmN0aW9uKG4pe0Jbbl0hPT1lW25dJiZnKCkodCxuKXx8KGVbbl09eS5hW3JdW25dKX0pKX1yZXR1cm4gZS5lbmFibGVkPSJib29sZWFuIj09dHlwZW9mIGUuZW5hYmxlZCYmZS5lbmFibGVkfShyKSkmJiExIT09ZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoWyJhY2NvdW50SWQiLCJiaWRkZXJzIiwiZW5kcG9pbnQiXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkocixlKSYmKHMubG9nRXJyb3IoZSsiIG1pc3NpbmcgaW4gc2VydmVyIHRvIHNlcnZlciBjb25maWciKSwhMCl9KSkubGVuZ3RoPjApcmV0dXJuITF9KHIpKXJldHVybiBBcnJheS5pc0FycmF5KHIuYmlkZGVycykmJihpW25dLmJpZGRlcnM9ci5iaWRkZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT10LmluZGV4T2YoZSkmJih0LnB1c2goZSksITApfSkpKSwhMDtyZXR1cm4gcy5sb2dXYXJuKCJwcmViaWRTZXJ2ZXI6IHMycyBjb25maWcgaXMgZGlzYWJsZWQiKSwhMX0pKT9QPXI6dm9pZCAwfX1mdW5jdGlvbiBSKGUscix0LG4pe2lmKFAubGVuZ3RoIT09VSl7VSsrO3ZhciBpPXt1dWlkOnMuZ2VuZXJhdGVVVUlEKCksYmlkZGVyczplLGFjY291bnQ6bi5hY2NvdW50SWR9LG89bi51c2VyU3luY0xpbWl0O3MuaXNOdW1iZXIobykmJm8+MCYmKGkubGltaXQ9byksciYmKGkuZ2Rwcj1yLmdkcHJBcHBsaWVzPzE6MCwhMSE9PXIuZ2RwckFwcGxpZXMmJihpLmdkcHJfY29uc2VudD1yLmNvbnNlbnRTdHJpbmcpKSx0JiYoaS51c19wcml2YWN5PXQpLCJib29sZWFuIj09dHlwZW9mIG4uY29vcFN5bmMmJihpLmNvb3BTeW5jPW4uY29vcFN5bmMpO3ZhciBhPUpTT04uc3RyaW5naWZ5KGkpO09iamVjdChtLmEpKEsobi5zeW5jRW5kcG9pbnQsciksKGZ1bmN0aW9uKGUpe3RyeXtEKChlPUpTT04ucGFyc2UoZSkpLmJpZGRlcl9zdGF0dXMsbil9Y2F0Y2goZSl7cy5sb2dFcnJvcihlKX19KSxhLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fWZ1bmN0aW9uIEQoZSxyKXtpZigwIT09ZS5sZW5ndGgpe3ZhciB0PWUuc2hpZnQoKTt0Lm5vX2Nvb2tpZT9mdW5jdGlvbihlLHIsdCxuLGkpe2lmKGkuc3luY1VybE1vZGlmaWVyJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5zeW5jVXJsTW9kaWZpZXJbdF0pe3EoZSxpLnN5bmNVcmxNb2RpZmllclt0XShlLHIsdCksdCxuKX1lbHNlIHEoZSxyLHQsbil9KHQudXNlcnN5bmMudHlwZSx0LnVzZXJzeW5jLnVybCx0LmJpZGRlcixzLmJpbmQuY2FsbChELG51bGwsZSxyKSxyKTpEKGUscil9fWZ1bmN0aW9uIHEoZSxyLHQsbil7cj8iaW1hZ2UiPT09ZXx8InJlZGlyZWN0Ij09PWU/KHMubG9nTWVzc2FnZSgnSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICInLmNvbmNhdCh0LCciJykpLHMudHJpZ2dlclBpeGVsKHIsbikpOiJpZnJhbWUiPT1lPyhzLmxvZ01lc3NhZ2UoJ0ludm9raW5nIGlmcmFtZSB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIicuY29uY2F0KHQsJyInKSkscy5pbnNlcnRVc2VyU3luY0lmcmFtZShyLG4pKToocy5sb2dFcnJvcignVXNlciBzeW5jIHR5cGUgIicuY29uY2F0KGUsJyIgbm90IHN1cHBvcnRlZCBmb3IgYmlkZGVyOiAiJykuY29uY2F0KHQsJyInKSksbigpKToocy5sb2dFcnJvcignTm8gc3luYyB1cmwgZm9yIGJpZGRlciAiJy5jb25jYXQodCwnIjogJykuY29uY2F0KHIpKSxuKCkpfWQuYi5zZXREZWZhdWx0cyh7czJzQ29uZmlnOkJ9KSxfKCJzMnNDb25maWciLChmdW5jdGlvbihlKXtyZXR1cm4gVChlLnMyc0NvbmZpZyl9KSk7dmFyIFY9e3Nwb25zb3JlZEJ5OjEsYm9keToyLHJhdGluZzozLGxpa2VzOjQsZG93bmxvYWRzOjUscHJpY2U6NixzYWxlUHJpY2U6NyxwaG9uZTo4LGFkZHJlc3M6OSxib2R5MjoxMCxjdGE6MTJ9LE49T2JqZWN0LmtleXMoViksej17aWNvbjoxLGltYWdlOjN9LE09e2ltZzoxLGpzOjJ9O1tWLHose2ltcHJlc3Npb246MSwidmlld2FibGUtbXJjNTAiOjIsInZpZXdhYmxlLW1yYzEwMCI6Mywidmlld2FibGUtdmlkZW81MCI6NH0sTV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZVtlW3JdXT1yfSkpfSkpO3ZhciBXPXt9LEo9e30sWD17fTt2YXIgRj1mdW5jdGlvbihlLHIsdCxuLGkpe3ZhciBvPVtdLGE9e30scD1yWzBdLGw9bmV3IFNldDtpZih0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmNvZGUsaT0xO2wuaGFzKHQpOylpKyssdD0iIi5jb25jYXQoZS5jb2RlLCItIikuY29uY2F0KGkpO2wuYWRkKHQpO3ZhciBiLGY9T2JqZWN0KHUuaCkocy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMubmF0aXZlIikpO2lmKGYpdHJ5e2I9Slt0XT1PYmplY3Qua2V5cyhmKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9ZltyXTtmdW5jdGlvbiBuKGUpe3JldHVybiBFKHtyZXF1aXJlZDp0LnJlcXVpcmVkPzE6MH0sZT9zLmNsZWFuT2JqKGUpOnt9KX1zd2l0Y2gocil7Y2FzZSJpbWFnZSI6Y2FzZSJpY29uIjp2YXIgaT16W3JdLG89cy5jbGVhbk9iaih7dHlwZTppLHc6cy5kZWVwQWNjZXNzKHQsInNpemVzLjAiKSxoOnMuZGVlcEFjY2Vzcyh0LCJzaXplcy4xIiksd21pbjpzLmRlZXBBY2Nlc3ModCwiYXNwZWN0X3JhdGlvcy4wLm1pbl93aWR0aCIpLGhtaW46cy5kZWVwQWNjZXNzKHQsImFzcGVjdF9yYXRpb3MuMC5taW5faGVpZ2h0Iil9KTtpZighKG8udyYmby5ofHxvLmhtaW4mJm8ud21pbikpdGhyb3ciaW52YWxpZCBpbWcgc2l6ZXMgKG11c3QgcHJvdmlkZSBzaXplcyBvciBtaW5faGVpZ2h0ICYgbWluX3dpZHRoIGlmIHVzaW5nIGFzcGVjdF9yYXRpb3MpIjtBcnJheS5pc0FycmF5KHQuYXNwZWN0X3JhdGlvcykmJihvLmV4dD17YXNwZWN0cmF0aW9zOnQuYXNwZWN0X3JhdGlvcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlLnJhdGlvX3dpZHRoLCI6IikuY29uY2F0KGUucmF0aW9faGVpZ2h0KX0pKX0pLGUucHVzaChuKHtpbWc6b30pKTticmVhaztjYXNlInRpdGxlIjppZighdC5sZW4pdGhyb3ciaW52YWxpZCB0aXRsZS5sZW4iO2UucHVzaChuKHt0aXRsZTp7bGVuOnQubGVufX0pKTticmVhaztkZWZhdWx0OnZhciBhPVZbcl07YSYmZS5wdXNoKG4oe2RhdGE6e3R5cGU6YSxsZW46dC5sZW59fSkpfXJldHVybiBlfSksW10pfWNhdGNoKGUpe3MubG9nRXJyb3IoImVycm9yIGNyZWF0aW5nIG5hdGl2ZSByZXF1ZXN0OiAiK1N0cmluZyhlKSl9dmFyIHY9cy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxnPXMuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihXWyIiLmNvbmNhdCh0KS5jb25jYXQoZS5iaWRkZXIpXT1lLmJpZF9pZCxjLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlcl0pe3ZhciByPWMuZGVmYXVsdC5iaWRkZXJSZWdpc3RyeVtlLmJpZGRlcl07ciYmIXIuZ2V0U3BlYygpLnNraXBQYnNBbGlhc2luZyYmKGFbZS5iaWRkZXJdPWMuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyXSl9fSkpO3ZhciB5PXt9O2lmKGcmJmcuc2l6ZXMpe3ZhciBtPXMucGFyc2VTaXplc0lucHV0KGcuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9aihlLnNwbGl0KCJ4IiksMiksdD1yWzBdLG49clsxXTtyZXR1cm57dzpwYXJzZUludCh0LDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTt5LmJhbm5lcj17Zm9ybWF0Om19LGcucG9zJiYoeS5iYW5uZXIucG9zPWcucG9zKX1pZihzLmlzRW1wdHkodil8fCgib3V0c3RyZWFtIiE9PXYuY29udGV4dHx8di5yZW5kZXJlcnx8ZS5yZW5kZXJlcj8oImluc3RyZWFtIiE9PXYuY29udGV4dHx8di5oYXNPd25Qcm9wZXJ0eSgicGxhY2VtZW50Iil8fCh2LnBsYWNlbWVudD0xKSx5LnZpZGVvPU9iamVjdC5rZXlzKHYpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuInBsYXllclNpemUiPT09cj8oZS53PXMuZGVlcEFjY2Vzcyh2LCIiLmNvbmNhdChyLCIuMC4wIikpLGUuaD1zLmRlZXBBY2Nlc3ModiwiIi5jb25jYXQociwiLjAuMSIpKSk6ZVtyXT12W3JdLGV9KSx7fSkpOnMubG9nRXJyb3IoIk91dHN0cmVhbSBiaWQgd2l0aG91dCByZW5kZXJlciBjYW5ub3QgYmUgc2VudCB0byBQcmViaWQgU2VydmVyLiIpKSxiKXRyeXt5Lm5hdGl2ZT17cmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7Y29udGV4dDoxLHBsY210dHlwZToxLGV2ZW50dHJhY2tlcnM6W3tldmVudDoxLG1ldGhvZHM6WzFdfV0sYXNzZXRzOmJ9KSx2ZXI6IjEuMiJ9fWNhdGNoKGUpe3MubG9nRXJyb3IoImVycm9yIGNyZWF0aW5nIG5hdGl2ZSByZXF1ZXN0OiAiK1N0cmluZyhlKSl9dmFyIGg9ZS5iaWRzLnJlZHVjZSgoZnVuY3Rpb24odCxpKXt2YXIgcz1jLmRlZmF1bHQuYmlkZGVyUmVnaXN0cnlbaS5iaWRkZXJdO3JldHVybiBzJiZzLmdldFNwZWMoKS50cmFuc2Zvcm1CaWRQYXJhbXMmJihpLnBhcmFtcz1zLmdldFNwZWMoKS50cmFuc2Zvcm1CaWRQYXJhbXMoaS5wYXJhbXMsITAsZSxyKSksdFtpLmJpZGRlcl09bi5hZGFwdGVyT3B0aW9ucyYmbi5hZGFwdGVyT3B0aW9uc1tpLmJpZGRlcl0/RSh7fSxpLnBhcmFtcyxuLmFkYXB0ZXJPcHRpb25zW2kuYmlkZGVyXSk6aS5wYXJhbXMsdH0pLHgoe30scy5kZWVwQWNjZXNzKGUsIm9ydGIySW1wLmV4dCIpKSksUz17aWQ6dCxleHQ6aCxzZWN1cmU6bi5zZWN1cmV9LE89eCh7fSxzLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEiKSk7T2JqZWN0LmtleXMoTykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7InBiYWRzbG90Ij09PWU/InN0cmluZyI9PXR5cGVvZiBPW2VdJiZPW2VdP3MuZGVlcFNldFZhbHVlKFMsImV4dC5kYXRhLnBiYWRzbG90IixPW2VdKTpkZWxldGUgUy5leHQuZGF0YS5wYmFkc2xvdDoiYWRzZXJ2ZXIiPT09ZT9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1zLmRlZXBBY2Nlc3MoTywiYWRzZXJ2ZXIuIi5jb25jYXQoZSkpOyJzdHJpbmciPT10eXBlb2YgciYmciYmcy5kZWVwU2V0VmFsdWUoUywiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoZS50b0xvd2VyQ2FzZSgpKSxyKX0pKTpzLmRlZXBTZXRWYWx1ZShTLCJleHQuZGF0YS4iLmNvbmNhdChlKSxPW2VdKX0pKSxFKFMseSk7dmFyIEE9QygpKHAuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIHIuYWRVbml0Q29kZT09PWUuY29kZSYmci5zdG9yZWRBdWN0aW9uUmVzcG9uc2V9KSk7QSYmcy5kZWVwU2V0VmFsdWUoUywiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLEEuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpO3ZhciB3PUMoKShwLmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiByLmFkVW5pdENvZGU9PT1lLmNvZGUmJiJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yfSkpO2lmKHcpe3ZhciBQO3RyeXtQPXcuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmQuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKXx8IlVTRCJ9KX1jYXRjaChlKXtzLmxvZ0Vycm9yKCJQQlM6IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfVAmJlAuY3VycmVuY3kmJiFpc05hTihwYXJzZUZsb2F0KFAuZmxvb3IpKSYmKFMuYmlkZmxvb3I9cGFyc2VGbG9hdChQLmZsb29yKSxTLmJpZGZsb29yY3VyPVAuY3VycmVuY3kpfShTLmJhbm5lcnx8Uy52aWRlb3x8Uy5uYXRpdmUpJiZvLnB1c2goUyl9KSksby5sZW5ndGgpe3ZhciBiPXtpZDplLnRpZCxzb3VyY2U6e3RpZDplLnRpZH0sdG1heDpuLnRpbWVvdXQsaW1wOm8sdGVzdDpuLnRlc3R8fDAsZXh0OntwcmViaWQ6e2F1Y3Rpb250aW1lc3RhbXA6cC5hdWN0aW9uU3RhcnQsdGFyZ2V0aW5nOntpbmNsdWRld2lubmVyczohMCxpbmNsdWRlYmlkZGVya2V5czohMX19fX07Yi5leHQucHJlYmlkPUUoYi5leHQucHJlYmlkLHtjaGFubmVsOntuYW1lOiJwYmpzIix2ZXJzaW9uOnVwYmpzLnZlcnNpb259fSksXygiZGVidWciKSYmKGIuZXh0LnByZWJpZD1FKGIuZXh0LnByZWJpZCx7ZGVidWc6ITB9KSksbi5leHRQcmViaWQmJiJvYmplY3QiPT09dyhuLmV4dFByZWJpZCkmJihiLmV4dC5wcmViaWQ9RShiLmV4dC5wcmViaWQsbi5leHRQcmViaWQpKTt2YXIgZj1kLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iik7ZiYmInN0cmluZyI9PXR5cGVvZiBmP2IuY3VyPVtmXTpBcnJheS5pc0FycmF5KGYpJiZmLmxlbmd0aCYmKGIuY3VyPVtmWzBdXSksZnVuY3Rpb24oZSxyLHQpe2UmJigib2JqZWN0Ij09PXcoZC5iLmdldENvbmZpZygiYXBwIikpPyhlLmFwcD1kLmIuZ2V0Q29uZmlnKCJhcHAiKSxlLmFwcC5wdWJsaXNoZXI9e2lkOnR9KTooZS5zaXRlPXt9LHMuaXNQbGFpbk9iamVjdChkLmIuZ2V0Q29uZmlnKCJzaXRlIikpJiYoZS5zaXRlPWQuYi5nZXRDb25maWcoInNpdGUiKSkscy5kZWVwQWNjZXNzKGUuc2l0ZSwicHVibGlzaGVyLmlkIil8fHMuZGVlcFNldFZhbHVlKGUuc2l0ZSwicHVibGlzaGVyLmlkIix0KSxlLnNpdGUucGFnZXx8KGUuc2l0ZS5wYWdlPXIpKSwib2JqZWN0Ij09PXcoZC5iLmdldENvbmZpZygiZGV2aWNlIikpJiYoZS5kZXZpY2U9ZC5iLmdldENvbmZpZygiZGV2aWNlIikpLGUuZGV2aWNlfHwoZS5kZXZpY2U9e30pLGUuZGV2aWNlLnd8fChlLmRldmljZS53PXdpbmRvdy5pbm5lcldpZHRoKSxlLmRldmljZS5ofHwoZS5kZXZpY2UuaD13aW5kb3cuaW5uZXJIZWlnaHQpKX0oYixyWzBdLnJlZmVyZXJJbmZvLnJlZmVyZXIsbi5hY2NvdW50SWQpO3ZhciB2PXMuZGVlcEFjY2VzcyhyLCIwLmJpZHMuMC5zY2hhaW4iKTt2JiYoYi5zb3VyY2UuZXh0PXtzY2hhaW46dn0pLHMuaXNFbXB0eShhKXx8KGIuZXh0LnByZWJpZC5hbGlhc2VzPXgoeCh7fSxiLmV4dC5wcmViaWQuYWxpYXNlcyksYSkpO3ZhciBnPXMuZGVlcEFjY2VzcyhyLCIwLmJpZHMuMC51c2VySWRBc0VpZHMiKTtzLmlzQXJyYXkoZykmJmcubGVuZ3RoPjAmJnMuZGVlcFNldFZhbHVlKGIsInVzZXIuZXh0LmVpZHMiLGcpLHMuaXNBcnJheShrKSYmay5sZW5ndGg+MCYmKGkmJnMuaXNBcnJheShpKSYmay5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZGRlcnMmJihlLmJpZGRlcnM9ZS5iaWRkZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGkuaW5jbHVkZXMoZSl9KSkpfSkpLHMuZGVlcFNldFZhbHVlKGIsImV4dC5wcmViaWQuZGF0YS5laWRwZXJtaXNzaW9ucyIsaykpO3ZhciB5PWQuYi5nZXRDb25maWcoIm11bHRpYmlkIik7aWYoeSYmcy5kZWVwU2V0VmFsdWUoYiwiZXh0LnByZWJpZC5tdWx0aWJpZCIseS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS50b0xvd2VyQ2FzZSgpXT1yW2VdfSkpLGUucHVzaCh0KSxlfSksW10pKSxyKXt2YXIgbTtpZihwLmdkcHJDb25zZW50KSJib29sZWFuIj09dHlwZW9mIHAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihtPXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxzLmRlZXBTZXRWYWx1ZShiLCJyZWdzLmV4dC5nZHByIixtKSxzLmRlZXBTZXRWYWx1ZShiLCJ1c2VyLmV4dC5jb25zZW50IixwLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYic3RyaW5nIj09dHlwZW9mIHAuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiZzLmRlZXBTZXRWYWx1ZShiLCJ1c2VyLmV4dC5Db25zZW50ZWRQcm92aWRlcnNTZXR0aW5ncy5jb25zZW50ZWRfcHJvdmlkZXJzIixwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCk7cC51c3BDb25zZW50JiZzLmRlZXBTZXRWYWx1ZShiLCJyZWdzLmV4dC51c19wcml2YWN5IixwLnVzcENvbnNlbnQpfSEwPT09XygiY29wcGEiKSYmcy5kZWVwU2V0VmFsdWUoYiwicmVncy5jb3BwYSIsMSk7dmFyIGg9Xygib3J0YjIiKXx8e307cmV0dXJuIGguc2l0ZSYmcy5tZXJnZURlZXAoYix7c2l0ZTpoLnNpdGV9KSxoLnVzZXImJnMubWVyZ2VEZWVwKGIse3VzZXI6aC51c2VyfSksZnVuY3Rpb24oZSl7dmFyIHI9ZC5iLmdldEJpZGRlckNvbmZpZygpLHQ9T2JqZWN0LmtleXMocikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXJbdF07aWYobi5vcnRiMil7dmFyIGk9e307bi5vcnRiMi5zaXRlJiYoaS5zaXRlPW4ub3J0YjIuc2l0ZSksbi5vcnRiMi51c2VyJiYoaS51c2VyPW4ub3J0YjIudXNlciksZS5wdXNoKHtiaWRkZXJzOlt0XSxjb25maWc6e29ydGIyOml9fSl9cmV0dXJuIGV9KSxbXSk7dC5sZW5ndGgmJnMuZGVlcFNldFZhbHVlKGUsImV4dC5wcmViaWQuYmlkZGVyY29uZmlnIix0KX0oYiksYn1zLmxvZ0Vycm9yKCJSZXF1ZXN0IHRvIFByZWJpZCBTZXJ2ZXIgcmVqZWN0ZWQgZHVlIHRvIGludmFsaWQgbWVkaWEgdHlwZShzKSBpbiBhZFVuaXQuIil9LEg9ZnVuY3Rpb24oZSxyLHQpe3ZhciBuPVtdLG89cy5kZWVwQWNjZXNzKGUsImV4dC5yZXNwb25zZXRpbWVtaWxsaXMiKSxjPXIuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyQ29kZX0pKTtyZXR1cm4gYyYmbyYmT2JqZWN0LmtleXMobykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9cy5kZWVwQ2xvbmUoYyk7dC5pc0R5bmFtaWM9ITAsdC5iaWRkZXJDb2RlPWUsdC5iaWRkZXJSZXF1ZXN0SWQ9cy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksdC5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKHIpe3IuYmlkZGVyPWUsci5iaWRkZXJSZXF1ZXN0SWQ9dC5iaWRkZXJSZXF1ZXN0SWQsci5iaWRfaWQ9cy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksci5iaWRJZD1yLmJpZF9pZCxXWyIiLmNvbmNhdChyLmFkVW5pdENvZGUpLmNvbmNhdChlKV09ci5iaWRfaWR9KSksci5wdXNoKHQpfSkpLFtbImVycm9ycyIsInNlcnZlckVycm9ycyJdLFsicmVzcG9uc2V0aW1lbWlsbGlzIiwic2VydmVyUmVzcG9uc2VUaW1lTXMiXV0uZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscix0LG4pe3ZhciBpPXMuZGVlcEFjY2VzcyhyLCJleHQuIi5jb25jYXQodCkpO2kmJk9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciB0PUMoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09cn0pKTt0JiYodFtuXT1pW3JdKX0pKX0ocixlLHRbMF0sdFsxXSl9KSksZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24obyl7KG8uYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oYyl7dmFyIGQsdT0iIi5jb25jYXQoYy5pbXBpZCkuY29uY2F0KG8uc2VhdCk7V1t1XSYmKGQ9cy5nZXRCaWRSZXF1ZXN0KFdbdV0scikpO3ZhciBsPWMucHJpY2UsYj0wIT09bD9hLmEuU1RBVFVTLkdPT0Q6YS5hLlNUQVRVUy5OT19CSUQsZj1PYmplY3QoaS5hKShiLGR8fHtiaWRkZXI6by5zZWF0LHNyYzpJfSk7Zi5jcG09bDt2YXIgdj1zLmRlZXBBY2Nlc3MoZSxbImV4dCIsInJlc3BvbnNldGltZW1pbGxpcyIsby5zZWF0XS5qb2luKCIuIikpO2QmJnYmJihkLnNlcnZlclJlc3BvbnNlVGltZU1zPXYpO3ZhciBnLHksbSxoPXMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLmJpZGlkIik7cy5pc1N0cihoKSYmKGYucGJzQmlkSWQ9aCkscy5pc1N0cihzLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC5ldmVudHMud2luIikpJiYoZz1kLmF1Y3Rpb25JZCx5PWYuYWRJZCxtPXMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSxbZyx5XS5ldmVyeShzLmlzU3RyKSYmKFhbIiIuY29uY2F0KGcpLmNvbmNhdCh5KV09bSkpO3ZhciBDPXMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLnRhcmdldGluZyIpO2lmKHMuaXNQbGFpbk9iamVjdChDKSYmKHMuaXNTdHIocy5kZWVwQWNjZXNzKGMsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpKSYmKEM9cy5nZXREZWZpbmVkUGFyYW1zKEMsT2JqZWN0LmtleXMoQykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4tMT09PWUuaW5kZXhPZigiaGJfd2ludXJsIikmJi0xPT09ZS5pbmRleE9mKCJoYl9iaWRpZCIpfSkpKSksZi5hZHNlcnZlclRhcmdldGluZz1DKSxmLnNlYXRCaWRJZD1jLmlkLHMuZGVlcEFjY2VzcyhjLCJleHQucHJlYmlkLnR5cGUiKT09PXAuZCl7Zi5tZWRpYVR5cGU9cC5kO3ZhciBTPWQuc2l6ZXMmJmQuc2l6ZXNbMF07Zi5wbGF5ZXJXaWR0aD1TWzBdLGYucGxheWVySGVpZ2h0PVNbMV0sYy5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PXcoYy5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZjLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZjLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KGYudmlkZW9DYWNoZUtleT1jLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLGYudmFzdFVybD1jLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOkMmJkMuaGJfdXVpZCYmQy5oYl9jYWNoZV9ob3N0JiZDLmhiX2NhY2hlX3BhdGgmJihmLnZpZGVvQ2FjaGVLZXk9Qy5oYl91dWlkLGYudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdChDLmhiX2NhY2hlX2hvc3QpLmNvbmNhdChDLmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdChDLmhiX3V1aWQpKSxjLmFkbSYmKGYudmFzdFhtbD1jLmFkbSksIWYudmFzdFVybCYmYy5udXJsJiYoZi52YXN0VXJsPWMubnVybCl9ZWxzZSBpZihzLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC50eXBlIik9PT1wLmMpe3ZhciB4LGo7Zi5tZWRpYVR5cGU9cC5jLGo9InN0cmluZyI9PXR5cGVvZiBjLmFkbT9mLmFkbT1KU09OLnBhcnNlKGMuYWRtKTpmLmFkbT1jLmFkbTt2YXIgQT0oTyh4PXt9LE0uaW1nLGouaW1wdHJhY2tlcnN8fFtdKSxPKHgsTS5qcyxqLmpzdHJhY2tlcj9bai5qc3RyYWNrZXJdOltdKSx4KTtpZihqLmV2ZW50dHJhY2tlcnMmJmouZXZlbnR0cmFja2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgTS5pbWc6QVtNLmltZ10ucHVzaChlLnVybCk7YnJlYWs7Y2FzZSBNLmpzOkFbTS5qc10ucHVzaChlLnVybCl9fSkpLHMuaXNQbGFpbk9iamVjdChqKSYmQXJyYXkuaXNBcnJheShqLmFzc2V0cykpe3ZhciBFPUpbYy5pbXBpZF07Zi5uYXRpdmU9cy5jbGVhbk9iaihqLmFzc2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9RVtyLmlkXTtyZXR1cm4gcy5pc1BsYWluT2JqZWN0KHIuaW1nKT9lW3QuaW1nLnR5cGU/elt0LmltZy50eXBlXToiaW1hZ2UiXT1zLnBpY2soci5pbWcsWyJ1cmwiLCJ3IGFzIHdpZHRoIiwiaCBhcyBoZWlnaHQiXSk6cy5pc1BsYWluT2JqZWN0KHIudGl0bGUpP2UudGl0bGU9ci50aXRsZS50ZXh0OnMuaXNQbGFpbk9iamVjdChyLmRhdGEpJiZOLmZvckVhY2goKGZ1bmN0aW9uKG4pe1Zbbl09PT10LmRhdGEudHlwZSYmKGVbbl09ci5kYXRhLnZhbHVlKX0pKSxlfSkscy5jbGVhbk9iaih7Y2xpY2tVcmw6ai5saW5rLGNsaWNrVHJhY2tlcnM6cy5kZWVwQWNjZXNzKGosImxpbmsuY2xpY2t0cmFja2VycyIpLGltcHJlc3Npb25UcmFja2VyczpBW00uaW1nXSxqYXZhc2NyaXB0VHJhY2tlcnM6QVtNLmpzXX0pKSl9ZWxzZSBzLmxvZ0Vycm9yKCJwcmViaWQgc2VydmVyIG5hdGl2ZSByZXNwb25zZSBjb250YWluZWQgbm8gYXNzZXRzIil9ZWxzZSBjLmFkbSYmYy5udXJsPyhmLmFkPWMuYWRtLGYuYWQrPXMuY3JlYXRlVHJhY2tQaXhlbEh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGMubnVybCkpKTpjLmFkbT9mLmFkPWMuYWRtOmMubnVybCYmKGYuYWRVcmw9Yy5udXJsKTtmLndpZHRoPWMudyxmLmhlaWdodD1jLmgsYy5kZWFsaWQmJihmLmRlYWxJZD1jLmRlYWxpZCksZi5yZXF1ZXN0SWQ9ZC5iaWRJZHx8ZC5iaWRfSWQsZi5jcmVhdGl2ZV9pZD1jLmNyaWQsZi5jcmVhdGl2ZUlkPWMuY3JpZCxjLmJ1cmwmJihmLmJ1cmw9Yy5idXJsKSxmLmN1cnJlbmN5PWUuY3VyP2UuY3VyOiJVU0QiLGYubWV0YT17fTt2YXIgUD1zLmRlZXBBY2Nlc3MoYywiZXh0LnByZWJpZC5tZXRhIik7UCYmcy5pc1BsYWluT2JqZWN0KFApJiYoZi5tZXRhPXMuZGVlcENsb25lKFApKSxjLmFkb21haW4mJihmLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9Yy5hZG9tYWluKTt2YXIgaz10LmRlZmF1bHRUdGx8fDYwO2YudHRsPWMuZXhwP2MuZXhwOmssZi5uZXRSZXZlbnVlPSFjLm5ldFJldmVudWV8fGMubmV0UmV2ZW51ZSxuLnB1c2goe2FkVW5pdDpkLmFkVW5pdENvZGUsYmlkOmZ9KX0pKX0pKSxufTtmdW5jdGlvbiBMKGUpe3ZhciByLHQsbj1mdW5jdGlvbihlLHIpe2lmKFtlLHJdLmV2ZXJ5KHMuaXNTdHIpKXJldHVybiBYWyIiLmNvbmNhdChlKS5jb25jYXQocildfShlLmF1Y3Rpb25JZCxlLmFkSWQpO3MuaXNTdHIobikmJihzLmxvZ01lc3NhZ2UoJ0ludm9raW5nIGltYWdlIHBpeGVsIGZvciB3dXJsIG9uIEJJRF9XSU46ICInLmNvbmNhdChuLCciJykpLHMudHJpZ2dlclBpeGVsKG4pLHI9ZS5hdWN0aW9uSWQsdD1lLmFkSWQsW3IsdF0uZXZlcnkocy5pc1N0cikmJihYWyIiLmNvbmNhdChyKS5jb25jYXQodCldPXZvaWQgMCkpfWZ1bmN0aW9uIEsoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9ITA7cmV0dXJuIGUmJmUuZ2RwckFwcGxpZXMmJjI9PT1lLmFwaVZlcnNpb24mJihyPSEoITAhPT1zLmRlZXBBY2Nlc3MoZSwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLHJ9KHIpP2UucDFDb25zZW50OmUubm9QMUNvbnNlbnR9ZnVuY3Rpb24gRyhlKXt2YXIgcix0O3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiYocj1lWzBdLmdkcHJDb25zZW50LHQ9ZVswXS51c3BDb25zZW50KSx7Z2RwckNvbnNlbnQ6cix1c3BDb25zZW50OnR9fWZ1bmN0aW9uICQoKXt2YXIgZT1uZXcgbi5hKCJwcmViaWRTZXJ2ZXIiKTtyZXR1cm4gZS5jYWxsQmlkcz1mdW5jdGlvbihlLHIsdCxuLGkpe3ZhciBvPXMuZGVlcENsb25lKGUuYWRfdW5pdHMpLHA9RyhyKSx1PXAuZ2RwckNvbnNlbnQsYj1wLnVzcENvbnNlbnQsdj1vLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWVkaWFUeXBlcyYmKGUubWVkaWFUeXBlcy5uYXRpdmV8fGUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpfSkpLHk9di5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSkuZmlsdGVyKHMudW5pcXVlcyl9KSkucmVkdWNlKHMuZmxhdHRlbikuZmlsdGVyKHMudW5pcXVlcyk7aWYoQXJyYXkuaXNBcnJheShQKSl7aWYoIXIuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyQ29kZX0pKSYmZS5zMnNDb25maWcmJmUuczJzQ29uZmlnLnN5bmNFbmRwb2ludCYmSyhlLnMyc0NvbmZpZy5zeW5jRW5kcG9pbnQsdSkpUihlLnMyc0NvbmZpZy5iaWRkZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGMuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2VdfHxlfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0LmluZGV4T2YoZSk9PT1yfSkpLHUsYixlLnMyc0NvbmZpZyk7dmFyIG09RihlLHIsdixlLnMyc0NvbmZpZyx5KSxoPW0mJkpTT04uc3RyaW5naWZ5KG0pO3MubG9nSW5mbygiQmlkUmVxdWVzdDogIitoKTt2YXIgQz1LKGUuczJzQ29uZmlnLmVuZHBvaW50LHUpO20mJmgmJkM/aShDLHtzdWNjZXNzOmZ1bmN0aW9uKGkpe3JldHVybiBmdW5jdGlvbihlLHIsdCxuLGksbyl7dmFyIHAsdT1bXSxiPUcodCksdj1iLmdkcHJDb25zZW50LHk9Yi51c3BDb25zZW50O3RyeXtpZihwPUpTT04ucGFyc2UoZSksdT1IKHAsdCxvKSxyPXIuY29uY2F0KHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlfSkpKS5maWx0ZXIocy51bmlxdWVzKSx0LmZpbmQoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlckNvZGV9KSkpaWYobyYmby5zeW5jRW5kcG9pbnQmJksoby5zeW5jRW5kcG9pbnQsdikpUih0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGMuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyQ29kZV18fGUuYmlkZGVyQ29kZX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUscix0KXtyZXR1cm4gdC5pbmRleE9mKGUpPT09cn0pKSx2LHksbyk7dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuKG51bGwse2JpZGRlckNvZGU6ZS5iaWRkZXJDb2RlLGFkZFJlcXVlc3RPbmx5OiEwfSl9KSksdS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1lLmFkVW5pdCxpPWUuYmlkO09iamVjdChsLmlzVmFsaWQpKHIsaSx0KSYmbihyLGkpfSkpLHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09ZS5iaWRkZXJDb2RlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBmLmEuZW1pdChhLmEuRVZFTlRTLkJJRERFUl9ET05FLGUpfSkpfWNhdGNoKGUpe3MubG9nRXJyb3IoZSl9KCFwfHxwLnN0YXR1cyYmZygpKHAuc3RhdHVzLCJFcnJvciIpKSYmcy5sb2dFcnJvcigiZXJyb3IgcGFyc2luZyByZXNwb25zZTogIixwLnN0YXR1cyk7aSgpLGZ1bmN0aW9uKGUscix0KXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWMuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO24mJm4ucmVnaXN0ZXJTeW5jcyYmZC5iLnJ1bldpdGhCaWRkZXIoZSxzLmJpbmQuY2FsbChuLnJlZ2lzdGVyU3luY3MsbixbXSxyLHQpKX0pKX0ocix2LHkpfShpLHkscix0LG4sZS5zMnNDb25maWcpfSxlcnJvcjpufSxoLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSk6cy5sb2dFcnJvcigiUEJTIHJlcXVlc3Qgbm90IG1hZGUuICBDaGVjayBlbmRwb2ludHMuIil9fSxmLmEub24oYS5hLkVWRU5UUy5CSURfV09OLEwpLEUodGhpcyx7Y2FsbEJpZHM6ZS5jYWxsQmlkcyxzZXRCaWRkZXJDb2RlOmUuc2V0QmlkZGVyQ29kZSx0eXBlOkl9KX1PYmplY3Qocy5nZXRQcmViaWRJbnRlcm5hbCkoKS5zZXRFaWRQZXJtaXNzaW9ucz1mdW5jdGlvbihlKXtrPWV9LGMuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIobmV3ICQsInByZWJpZFNlcnZlciIpfSw2NDI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0Ijt0LmQociwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIG49e2FwcG5leHVzOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMtc2ltcGxlLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMtc2ltcGxlLmNvbS9wYnMvdjEvY29va2llX3N5bmMifSx0aW1lb3V0OjFlM30sYXBwbmV4dXNwc3A6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2liLmFkbnhzLmNvbS9vcGVucnRiMi9wcmViaWQiLG5vUDFDb25zZW50OiJodHRwczovL2liLmFkbnhzLXNpbXBsZS5jb20vb3BlbnJ0YjIvcHJlYmlkIn0sdGltZW91dDoxZTN9LHJ1Ymljb246e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vY29va2llX3N5bmMifSx0aW1lb3V0OjUwMH0sb3Blbng6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9jb29raWVfc3luYyJ9LHRpbWVvdXQ6MWUzfSxzbmlnZWw6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvY29va2llX3N5bmMifSx0aW1lb3V0OjQwMH19fX0sWzY0MF0pOwp1cGJqc0NodW5rKFsxNDldLHs2NTE6ZnVuY3Rpb24oZSxkLG4pe2UuZXhwb3J0cz1uKDY1Mil9LDY1MjpmdW5jdGlvbihlLGQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQoZCwicHViUHJvdmlkZWRJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIG89bigxMCksdT1uKDApLGk9e25hbWU6InB1YlByb3ZpZGVkSWQiLGRlY29kZTpmdW5jdGlvbihlKXt2YXIgZD1lP3twdWJQcm92aWRlZElkOmV9OnZvaWQgMDtyZXR1cm4gdS5sb2dJbmZvKCJQdWJQcm92aWRlZElkOiBEZWNvZGVkIHZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZCkpLGR9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciBkPWUmJmUucGFyYW1zfHx7fSxuPVtdO3JldHVybiB1LmlzQXJyYXkoZC5laWRzKSYmKG49bi5jb25jYXQoZC5laWRzKSksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWlkc0Z1bmN0aW9uJiYobj1uLmNvbmNhdChkLmVpZHNGdW5jdGlvbigpKSkse2lkOm59fX07T2JqZWN0KG8uZSkoInVzZXJJZCIsaSl9fSxbNjUxXSk7CnVwYmpzQ2h1bmsoWzE0N10sezY1NzpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNjU4KX0sNjU4OmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gRn0pKTt2YXIgdD1hKDApLGk9YSgxKSxuPWEoMikscz1hKDMpLG89YSgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBhPWFyZ3VtZW50c1tyXTtmb3IodmFyIHQgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSx0KSYmKGVbdF09YVt0XSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlLHIpe3ZhciBhPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksYS5wdXNoLmFwcGx5KGEsdCl9cmV0dXJuIGF9ZnVuY3Rpb24gYyhlLHIsYSl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTphLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT1hLGV9ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBsPSJwdWJtYXRpYyIsbT0iUHViTWF0aWM6ICIsZz0iVVNEIixiPXZvaWQgMCxoPSJodHRwczovL3B1Ym1hdGljLmJidm1zLmNvbS9yLyIuY29uY2F0KCIkUkVOREVSRVIiLCIuanMiKSxmPXtrYWRwYWdldXJsOiIiLGdlbmRlcjoiIix5b2I6IiIsbGF0OiIiLGxvbjoiIix3aWlkOiIiLHByb2ZJZDoiIix2ZXJJZDoiIn0seT0ibnVtYmVyIix2PSJzdHJpbmciLEU9ImJvb2xlYW4iLEk9ImFycmF5Iix3PXttaW1lczpJLG1pbmR1cmF0aW9uOnksbWF4ZHVyYXRpb246eSxzdGFydGRlbGF5OnkscGxheWJhY2ttZXRob2Q6SSxhcGk6SSxwcm90b2NvbHM6SSx3OnksaDp5LGJhdHRyOkksbGluZWFyaXR5OnkscGxhY2VtZW50OnksbWluYml0cmF0ZTp5LG1heGJpdHJhdGU6eSxza2lwOnl9LFA9e1RJVExFOntJRDoxLEtFWToidGl0bGUiLFRZUEU6MH0sSU1BR0U6e0lEOjIsS0VZOiJpbWFnZSIsVFlQRTowfSxJQ09OOntJRDozLEtFWToiaWNvbiIsVFlQRTowfSxTUE9OU09SRURCWTp7SUQ6NCxLRVk6InNwb25zb3JlZEJ5IixUWVBFOjF9LEJPRFk6e0lEOjUsS0VZOiJib2R5IixUWVBFOjJ9LENMSUNLVVJMOntJRDo2LEtFWToiY2xpY2tVcmwiLFRZUEU6MH0sVklERU86e0lEOjcsS0VZOiJ2aWRlbyIsVFlQRTowfSxFWFQ6e0lEOjgsS0VZOiJleHQiLFRZUEU6MH0sREFUQTp7SUQ6OSxLRVk6ImRhdGEiLFRZUEU6MH0sTE9HTzp7SUQ6MTAsS0VZOiJsb2dvIixUWVBFOjB9LFNQT05TT1JFRDp7SUQ6MTEsS0VZOiJzcG9uc29yZWQiLFRZUEU6MX0sREVTQzp7SUQ6MTIsS0VZOiJkYXRhIixUWVBFOjJ9LFJBVElORzp7SUQ6MTMsS0VZOiJyYXRpbmciLFRZUEU6M30sTElLRVM6e0lEOjE0LEtFWToibGlrZXMiLFRZUEU6NH0sRE9XTkxPQURTOntJRDoxNSxLRVk6ImRvd25sb2FkcyIsVFlQRTo1fSxQUklDRTp7SUQ6MTYsS0VZOiJwcmljZSIsVFlQRTo2fSxTQUxFUFJJQ0U6e0lEOjE3LEtFWToic2FsZXByaWNlIixUWVBFOjd9LFBIT05FOntJRDoxOCxLRVk6InBob25lIixUWVBFOjh9LEFERFJFU1M6e0lEOjE5LEtFWToiYWRkcmVzcyIsVFlQRTo5fSxERVNDMjp7SUQ6MjAsS0VZOiJkZXNjMiIsVFlQRToxMH0sRElTUExBWVVSTDp7SUQ6MjEsS0VZOiJkaXNwbGF5dXJsIixUWVBFOjExfSxDVEE6e0lEOjIyLEtFWToiY3RhIixUWVBFOjEyfX0sTz0xLFQ9MixTPTMsRD1be2lkOlAuU1BPTlNPUkVEQlkuSUQscmVxdWlyZWQ6ITAsZGF0YTp7dHlwZToxfX0se2lkOlAuVElUTEUuSUQscmVxdWlyZWQ6ITB9LHtpZDpQLklNQUdFLklELHJlcXVpcmVkOiEwfV0sWT17MToiUE1QIiw1OiJQUkVGIiw2OiJQTVBHIn0seD0xLFI9MixrPXtib290c3RyYXBQbGF5ZXI6ZnVuY3Rpb24oZSl7dmFyIHI9e2NvZGU6ZS5hZFVuaXRDb2RlfTtpZihlLnZhc3RYbWw/ci52YXN0WG1sPWUudmFzdFhtbDplLnZhc3RVcmwmJihyLnZhc3RVcmw9ZS52YXN0VXJsKSxlLnZhc3RYbWx8fGUudmFzdFVybCl7Zm9yKHZhciBhLGk9ay5nZXRSZW5kZXJlcklkKCJwdWJtYXRpYyIsZS5yZW5kZXJlckNvZGUpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKSxzPTA7czx3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVycy5sZW5ndGg7cysrKWlmKHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdLl9pZD09PWkpe2E9d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc107YnJlYWt9YT9hLmJvb3RzdHJhcChyLG4pOnQubG9nV2FybigiIi5jb25jYXQobSwiOiBDb3VsZG4ndCBmaW5kIGEgcmVuZGVyZXIgd2l0aCAiKS5jb25jYXQoaSkpfWVsc2UgdC5sb2dXYXJuKCIiLmNvbmNhdChtLCI6IE5vIHZhc3RYbWwgb3IgdmFzdFVybCBvbiBiaWQsIGJhaWxpbmcuLi4iKSl9LG5ld1JlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIGE9aC5yZXBsYWNlKCIkUkVOREVSRVIiLGUpLGk9by5hLmluc3RhbGwoe3VybDphLGxvYWRlZDohMSxhZFVuaXRDb2RlOnJ9KTt0cnl7aS5zZXRSZW5kZXIoay5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe3QubG9nV2FybigiIi5jb25jYXQobSwiOiBFcnJvciB0eWluZyB0byBzZXRSZW5kZXIgb24gcmVuZGVyZXIiKSxlKX1yZXR1cm4gaX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXtrLmJvb3RzdHJhcFBsYXllcihlKX0pKX0sZ2V0UmVuZGVyZXJJZDpmdW5jdGlvbihlLHIpe3JldHVybiIiLmNvbmNhdChlLCItIikuY29uY2F0KHIpfX0sQT1bbi5iLG4uZCxuLmNdLEM9MCx6PSExLEs9e30sTj17fTtmdW5jdGlvbiBVKGUscil7aWYoIXQuaXNTdHIocikpcmV0dXJuIHImJnQubG9nV2FybigiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UocikpLGI7c3dpdGNoKGUpe2Nhc2UicG16b25laWQiOnJldHVybiByLnNwbGl0KCIsIikuc2xpY2UoMCw1MCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuam9pbigpO2Nhc2Uia2FkZmxvb3IiOmNhc2UibGF0IjpjYXNlImxvbiI6cmV0dXJuIHBhcnNlRmxvYXQocil8fGI7Y2FzZSJ5b2IiOnJldHVybiBwYXJzZUludChyKXx8YjtkZWZhdWx0OnJldHVybiByfX1mdW5jdGlvbiBxKGUpe3ZhciByO2UucGFyYW1zLmFkVW5pdD0iIixlLnBhcmFtcy5hZFVuaXRJbmRleD0iMCIsZS5wYXJhbXMud2lkdGg9MCxlLnBhcmFtcy5oZWlnaHQ9MCxlLnBhcmFtcy5hZFNsb3Q9KHI9ZS5wYXJhbXMuYWRTbG90LHQuaXNTdHIocik/ci5yZXBsYWNlKC9eXHMrL2csIiIpLnJlcGxhY2UoL1xzKyQvZywiIik6KHImJnQubG9nV2FybigicHVibWF0aWM6IGFkU2xvdCBtdXN0IGJlIGEgc3RyaW5nLiBJZ25vcmluZyBhZFNsb3QiKSwiIikpO3ZhciBhPWUucGFyYW1zLmFkU2xvdCxpPWEuc3BsaXQoIjoiKTtpZihhPWlbMF0sMj09aS5sZW5ndGgmJihlLnBhcmFtcy5hZFVuaXRJbmRleD1pWzFdKSxpPWEuc3BsaXQoIkAiKSxlLnBhcmFtcy5hZFVuaXQ9aVswXSxpLmxlbmd0aD4xKXtpZigyIT0oaT1pWzFdLnNwbGl0KCJ4IikpLmxlbmd0aClyZXR1cm4gdm9pZCB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBBZFNsb3QgRXJyb3I6IGFkU2xvdCBub3QgaW4gcmVxdWlyZWQgZm9ybWF0Iik7ZS5wYXJhbXMud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksZS5wYXJhbXMuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApfWVsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5iKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKSl7Zm9yKHZhciBzPTAsbz1bXTtzPGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoO3MrKykyPT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXS5sZW5ndGgmJm8ucHVzaChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdKTtlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPW8sZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg+PTEmJihlLnBhcmFtcy53aWR0aD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzBdLGUucGFyYW1zLmhlaWdodD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzFdLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5zcGxpY2UoMSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aC0xKSl9fWZ1bmN0aW9uIE0oZSxyLGEpe3ZhciBpLG49Iklnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgIithKyIsIGZvdW5kICIrdShyKTtzd2l0Y2goYSl7Y2FzZSBFOmk9dC5pc0Jvb2xlYW47YnJlYWs7Y2FzZSB5Omk9dC5pc051bWJlcjticmVhaztjYXNlIHY6aT10LmlzU3RyO2JyZWFrO2Nhc2UgSTppPXQuaXNBcnJheX1yZXR1cm4gaShyKT9yOih0LmxvZ1dhcm4obStuKSxiKX1mdW5jdGlvbiBqKGUscil7dmFyIGE9ZS5LRVk7cmV0dXJue2lkOmUuSUQscmVxdWlyZWQ6clthXS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTplLlRZUEUsbGVuOnJbYV0ubGVuLGV4dDpyW2FdLmV4dH19fWZ1bmN0aW9uIEwoZSl7dmFyIHI9e2Fzc2V0czpbXX07Zm9yKHZhciBhIGluIGUpe2lmKGUuaGFzT3duUHJvcGVydHkoYSkpe3ZhciBpPXt9O2lmKCEoci5hc3NldHMmJnIuYXNzZXRzLmxlbmd0aD4wJiZyLmFzc2V0cy5oYXNPd25Qcm9wZXJ0eShhKSkpc3dpdGNoKGEpe2Nhc2UgUC5USVRMRS5LRVk6ZVthXS5sZW58fGVbYV0ubGVuZ3RoP2k9e2lkOlAuVElUTEUuSUQscmVxdWlyZWQ6ZVthXS5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjplW2FdLmxlbnx8ZVthXS5sZW5ndGgsZXh0OmVbYV0uZXh0fX06dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IFRpdGxlIExlbmd0aCBpcyByZXF1aXJlZCBmb3IgbmF0aXZlIGFkOiAiK0pTT04uc3RyaW5naWZ5KGUpKTticmVhaztjYXNlIFAuSU1BR0UuS0VZOmVbYV0uc2l6ZXMmJmVbYV0uc2l6ZXMubGVuZ3RoPjA/aT17aWQ6UC5JTUFHRS5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6Uyx3OmVbYV0ud3x8ZVthXS53aWR0aHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1swXTpiKSxoOmVbYV0uaHx8ZVthXS5oZWlnaHR8fChlW2FdLnNpemVzP2VbYV0uc2l6ZXNbMV06Yiksd21pbjplW2FdLndtaW58fGVbYV0ubWluaW11bVdpZHRofHwoZVthXS5taW5zaXplcz9lW2FdLm1pbnNpemVzWzBdOmIpLGhtaW46ZVthXS5obWlufHxlW2FdLm1pbmltdW1IZWlnaHR8fChlW2FdLm1pbnNpemVzP2VbYV0ubWluc2l6ZXNbMV06YiksbWltZXM6ZVthXS5taW1lcyxleHQ6ZVthXS5leHR9fTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogSW1hZ2Ugc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSBQLklDT04uS0VZOmVbYV0uc2l6ZXMmJmVbYV0uc2l6ZXMubGVuZ3RoPjA/aT17aWQ6UC5JQ09OLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpPLHc6ZVthXS53fHxlW2FdLndpZHRofHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzBdOmIpLGg6ZVthXS5ofHxlW2FdLmhlaWdodHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1sxXTpiKX19OnQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgUC5WSURFTy5LRVk6aT17aWQ6UC5WSURFTy5JRCxyZXF1aXJlZDplW2FdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVthXS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW2FdLm1heGR1cmF0aW9uLHByb3RvY29sczplW2FdLnByb3RvY29scyxtaW1lczplW2FdLm1pbWVzLGV4dDplW2FdLmV4dH19O2JyZWFrO2Nhc2UgUC5FWFQuS0VZOmk9e2lkOlAuRVhULklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIFAuTE9HTy5LRVk6aT17aWQ6UC5MT0dPLklELHJlcXVpcmVkOmVbYV0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpULHc6ZVthXS53fHxlW2FdLndpZHRofHwoZVthXS5zaXplcz9lW2FdLnNpemVzWzBdOmIpLGg6ZVthXS5ofHxlW2FdLmhlaWdodHx8KGVbYV0uc2l6ZXM/ZVthXS5zaXplc1sxXTpiKX19O2JyZWFrO2Nhc2UgUC5TUE9OU09SRURCWS5LRVk6Y2FzZSBQLkJPRFkuS0VZOmNhc2UgUC5SQVRJTkcuS0VZOmNhc2UgUC5MSUtFUy5LRVk6Y2FzZSBQLkRPV05MT0FEUy5LRVk6Y2FzZSBQLlBSSUNFLktFWTpjYXNlIFAuU0FMRVBSSUNFLktFWTpjYXNlIFAuUEhPTkUuS0VZOmNhc2UgUC5BRERSRVNTLktFWTpjYXNlIFAuREVTQzIuS0VZOmNhc2UgUC5ESVNQTEFZVVJMLktFWTpjYXNlIFAuQ1RBLktFWTppPWooTlthXSxlKX19aSYmaS5pZCYmKHIuYXNzZXRzW3IuYXNzZXRzLmxlbmd0aF09aSl9dmFyIG49RC5sZW5ndGgscz0wO3JldHVybiBELmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgYT1yLmFzc2V0cy5sZW5ndGgsdD0wO3Q8YTt0KyspaWYoZS5pZD09ci5hc3NldHNbdF0uaWQpe3MrKzticmVha319KSksej1uIT1zLHJ9ZnVuY3Rpb24gVyhlKXt2YXIgcixhPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMsaT1bXTtpZihhIT09YiYmdC5pc0FycmF5KGEpKXtpZihyPXt9LGUucGFyYW1zLndpZHRofHxlLnBhcmFtcy5oZWlnaHQpci53PWUucGFyYW1zLndpZHRoLHIuaD1lLnBhcmFtcy5oZWlnaHQ7ZWxzZXtpZigwPT09YS5sZW5ndGgpcmV0dXJuIHI9Yix0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI7ci53PXBhcnNlSW50KGFbMF1bMF0sMTApLHIuaD1wYXJzZUludChhWzBdWzFdLDEwKSxhPWEuc3BsaWNlKDEsYS5sZW5ndGgtMSl9YS5sZW5ndGg+MCYmKGk9W10sYS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmxlbmd0aD4xJiZpLnB1c2goe3c6ZVswXSxoOmVbMV19KX0pKSxpLmxlbmd0aD4wJiYoci5mb3JtYXQ9aSkpLHIucG9zPTAsci50b3BmcmFtZT10LmluSWZyYW1lKCk/MDoxfWVsc2UgdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IG1lZGlhVHlwZXMuYmFubmVyLnNpemUgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYmFubmVyIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKSxyPWI7cmV0dXJuIHJ9ZnVuY3Rpb24gXyhlKXt2YXIgcixhPXQubWVyZ2VEZWVwKHQuZGVlcEFjY2VzcyhlLm1lZGlhVHlwZXMsInZpZGVvIiksZS5wYXJhbXMudmlkZW8pO2lmKGEhPT1iKXtmb3IodmFyIGkgaW4gcj17fSx3KWEuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPU0oaSxhW2ldLHdbaV0pKTt0LmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sMTApLHIuaD1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSwxMCkpOnQuaXNOdW1iZXIoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYoci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0sMTApKX1lbHNlIHI9Yix0LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogVmlkZW8gY29uZmlnIHBhcmFtcyBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIgd2l0aCBtZWRpYVR5cGUgc2V0IGFzIHZpZGVvLiBJZ25vcmluZyB2aWRlbyBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIik7cmV0dXJuIHJ9ZnVuY3Rpb24gQihlLHIpe3ZhciBhLGksbz17fSxkPXt9LGw9ZS5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKT9lLnNpemVzOltdLG09IiIsaD1bXTtpZihmdW5jdGlvbihlLHIpe3IucGFyYW1zLmRlYWxzJiYodC5pc0FycmF5KHIucGFyYW1zLmRlYWxzKT9yLnBhcmFtcy5kZWFscy5mb3JFYWNoKChmdW5jdGlvbihyKXt0LmlzU3RyKHIpJiZyLmxlbmd0aD4zPyhlLnBtcHx8KGUucG1wPXtwcml2YXRlX2F1Y3Rpb246MCxkZWFsczpbXX0pLGUucG1wLmRlYWxzLnB1c2goe2lkOnJ9KSk6dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IGRlYWwtaWQgcHJlc2VudCBpbiBhcnJheSBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhIHN0cmluZ3Mgd2l0aCBtb3JlIHRoYW4gMyBjaGFyYXRlcnMgbGVuZ3RoLCBkZWFsLWlkIGlnbm9yZWQ6ICIrcil9KSk6dC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IGJpZC5wYXJhbXMuZGVhbHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3MuIikpfShvPXtpZDplLmJpZElkLHRhZ2lkOmUucGFyYW1zLmFkVW5pdHx8dm9pZCAwLGJpZGZsb29yOlUoImthZGZsb29yIixlLnBhcmFtcy5rYWRmbG9vciksc2VjdXJlOjEsZXh0OntwbVpvbmVJZDpVKCJwbXpvbmVpZCIsZS5wYXJhbXMucG16b25laWQpfSxiaWRmbG9vcmN1cjplLnBhcmFtcy5jdXJyZW5jeT9VKCJjdXJyZW5jeSIsZS5wYXJhbXMuY3VycmVuY3kpOmd9LGUpLGZ1bmN0aW9uKGUscil7dmFyIGEsaT0iIjtpZihyLnBhcmFtcy5kY3RyKWlmKGk9ci5wYXJhbXMuZGN0cix0LmlzU3RyKGkpJiZpLmxlbmd0aD4wKXt2YXIgbj1pLnNwbGl0KCJ8Iik7aT0iIixuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2krPWUubGVuZ3RoPjA/ZS50cmltKCkrInwiOiIifSkpLGE9aS5sZW5ndGgsInwiPT09aS5zdWJzdHJpbmcoYSxhLTEpJiYoaT1pLnN1YnN0cmluZygwLGEtMSkpLGUuZXh0LmtleV92YWw9aS50cmltKCl9ZWxzZSB0LmxvZ1dhcm4oIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6IGRjdHIgd2l0aCB2YWx1ZSA6ICIraSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgZW1wdHkgb3Igbm9uLXN0cmluZyB2YWx1ZSIpfShvLGUpLGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSlmb3IobSBpbiBlLm1lZGlhVHlwZXMpc3dpdGNoKG0pe2Nhc2Ugbi5iOihhPVcoZSkpIT09YiYmKG8uYmFubmVyPWEpO2JyZWFrO2Nhc2Ugbi5jOmQucmVxdWVzdD1KU09OLnN0cmluZ2lmeShMKGUubmF0aXZlUGFyYW1zKSksej90LmxvZ1dhcm4oIlB1Yk1hdGljOiBFcnJvcjogRXJyb3IgaW4gTmF0aXZlIGFkdW5pdCAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYWR1bml0LiBSZWZlciB0byBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9zaG93LW5hdGl2ZS1hZHMuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLiIpOm8ubmF0aXZlPWQ7YnJlYWs7Y2FzZSBuLmQ6KGk9XyhlKSkhPT1iJiYoby52aWRlbz1pKX1lbHNlIGE9e3BvczowLHc6ZS5wYXJhbXMud2lkdGgsaDplLnBhcmFtcy5oZWlnaHQsdG9wZnJhbWU6dC5pbklmcmFtZSgpPzA6MX0sdC5pc0FycmF5KGwpJiZsLmxlbmd0aD4xJiYoKGw9bC5zcGxpY2UoMSxsLmxlbmd0aC0xKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksYS5mb3JtYXQ9aCksby5iYW5uZXI9YTtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9wKE9iamVjdChhKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7YyhlLHIsYVtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhhKSk6cChPYmplY3QoYSkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLHIpKX0pKX1yZXR1cm4gZX0oe30sdC5kZWVwQWNjZXNzKHIsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKGEpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJwYmFkc2xvdCI9PT1yPyJzdHJpbmciPT10eXBlb2YgYVtyXSYmYVtyXSYmdC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRhdGEucGJhZHNsb3QiLGFbcl0pOiJhZHNlcnZlciI9PT1yP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBpPXQuZGVlcEFjY2VzcyhhLCJhZHNlcnZlci4iLmNvbmNhdChyKSk7InN0cmluZyI9PXR5cGVvZiBpJiZpJiYodC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoci50b0xvd2VyQ2FzZSgpKSxpKSwiYWRzbG90Ij09PXImJnQuZGVlcFNldFZhbHVlKGUsImV4dC5kZnBfYWRfdW5pdF9jb2RlIixpKSl9KSk6dC5kZWVwU2V0VmFsdWUoZSwiZXh0LmRhdGEuIi5jb25jYXQociksYVtyXSl9KSl9KG8sZSksZnVuY3Rpb24oZSxyKXt2YXIgYT0tMTsiZnVuY3Rpb24iIT10eXBlb2Ygci5nZXRGbG9vcnx8cy5iLmdldENvbmZpZygicHVibWF0aWMuZGlzYWJsZUZsb29ycyIpfHxbbi5iLG4uZCxuLmNdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBpPXIuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmUuYmlkZmxvb3JjdXIsbWVkaWFUeXBlOnQsc2l6ZToiKiJ9KTtpZigib2JqZWN0Ij09PXUoaSkmJmkuY3VycmVuY3k9PT1lLmJpZGZsb29yY3VyJiYhaXNOYU4ocGFyc2VJbnQoaS5mbG9vcikpKXt2YXIgbj1wYXJzZUZsb2F0KGkuZmxvb3IpO2E9LTE9PWE/bjpNYXRoLm1pbihuLGEpfX19KSk7ZS5iaWRmbG9vciYmKGE9TWF0aC5tYXgoYSxlLmJpZGZsb29yKSk7ZS5iaWRmbG9vcj0haXNOYU4oYSkmJmE+MD9hOmJ9KG8sZSksby5oYXNPd25Qcm9wZXJ0eShuLmIpfHxvLmhhc093blByb3BlcnR5KG4uYyl8fG8uaGFzT3duUHJvcGVydHkobi5kKT9vOmJ9ZnVuY3Rpb24gVihlLHIpe3ZhciBhPW51bGwsaT10LmRlZXBBY2Nlc3MoZSwiMC51c2VySWQuZmxvY0lkIik7aWYoaSYmaS5pZClzd2l0Y2gocil7Y2FzZSBSOmE9e2lkOiJGTE9DIixuYW1lOiJGTE9DIixleHQ6e3ZlcjppLnZlcnNpb259LHNlZ21lbnQ6W3tpZDppLmlkLG5hbWU6ImNocm9tZS5jb20iLHZhbHVlOmkuaWQudG9TdHJpbmcoKX1dfTticmVhaztjYXNlIHg6ZGVmYXVsdDphPXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3thdHlwZToxLGlkOmkuaWQsZXh0Ont2ZXI6aS52ZXJzaW9ufX1dfX1yZXR1cm4gYX1mdW5jdGlvbiBHKGUpe3JldHVybiEwPT09dC5pc0FycmF5KGUpJiZlLmxlbmd0aD4wfXQuX2VhY2goUCwoZnVuY3Rpb24oZSl7S1tlLklEXT1lLktFWX0pKSx0Ll9lYWNoKFAsKGZ1bmN0aW9uKGUpe05bZS5LRVldPWV9KSk7dmFyIEY9e2NvZGU6bCxndmxpZDo3NixzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoZSYmZS5wYXJhbXMpe2lmKCF0LmlzU3RyKGUucGFyYW1zLnB1Ymxpc2hlcklkKSlyZXR1cm4gdC5sb2dXYXJuKCJQdWJNYXRpYzogRXJyb3I6IHB1Ymxpc2hlcklkIGlzIG1hbmRhdG9yeSBhbmQgY2Fubm90IGJlIG51bWVyaWMgKHdyYXAgaXQgaW4gcXVvdGVzIGluIHlvdXIgY29uZmlnKS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpLCExO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uZCkpe3ZhciByPXQuZGVlcEFjY2VzcyhlLm1lZGlhVHlwZXMsInZpZGVvLm1pbWVzIiksYT10LmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLm1pbWVzIik7aWYoITE9PT1HKHIpJiYhMT09PUcoYSkpcmV0dXJuIHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBGb3IgdmlkZW8gYWRzLCBiaWQubWVkaWFUeXBlcy52aWRlby5taW1lcyBPUiBiaWQucGFyYW1zLnZpZGVvLm1pbWVzIHNob3VsZCBiZSBwcmVzZW50IGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5LiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDoiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZighZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoImNvbnRleHQiKSlyZXR1cm4gdC5sb2dFcnJvcigiIi5jb25jYXQobSwiOiBubyBjb250ZXh0IHNwZWNpZmllZCBpbiBiaWQuIFJlamVjdGluZyBiaWQ6ICIpLGUpLCExO2lmKCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCYmIXQuaXNTdHIoZS5wYXJhbXMub3V0c3RyZWFtQVUpJiYhZS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXIiKSYmIWUubWVkaWFUeXBlc1tuLmRdLmhhc093blByb3BlcnR5KCJyZW5kZXJlciIpKXJldHVybiBlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5iKXx8ZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYyk/KGRlbGV0ZSBlLm1lZGlhVHlwZXNbbi5kXSx0LmxvZ1dhcm4oIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBtZWRpYXR5cGUgVmlkZW8gb2YgYmlkOiAnKSxlKSwhMCk6KHQubG9nRXJyb3IoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBiaWQ6ICcpLGUpLCExKX1yZXR1cm4hMH1yZXR1cm4hMX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBhO3ImJnIucmVmZXJlckluZm8mJihhPXIucmVmZXJlckluZm8pO3ZhciBpLG89ZnVuY3Rpb24oZSl7cmV0dXJue3BhZ2VVUkw6ZSYmZS5yZWZlcmVyP2UucmVmZXJlcjp3aW5kb3cubG9jYXRpb24uaHJlZixyZWZVUkw6d2luZG93LmRvY3VtZW50LnJlZmVycmVyfX0oYSkscD1mdW5jdGlvbihlKXtyZXR1cm57aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W2ddLGltcDpbXSxzaXRlOntwYWdlOmUucGFnZVVSTCxyZWY6ZS5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fX0obyksYz0iIixsPVtdLG09W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigoaT10LmRlZXBDbG9uZShlKSkucGFyYW1zLmFkU2xvdD1pLnBhcmFtcy5hZFNsb3R8fCIiLHEoaSksaS5wYXJhbXMuaGFzT3duUHJvcGVydHkoInZpZGVvIikpO2Vsc2UgaWYoIShpLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmkubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmMpfHwwIT09aS5wYXJhbXMud2lkdGh8fDAhPT1pLnBhcmFtcy5oZWlnaHQpKXJldHVybiB2b2lkIHQubG9nV2FybigiUHViTWF0aWM6IFNraXBwaW5nIHRoZSBub24tc3RhbmRhcmQgYWRzbG90OiAiLGkucGFyYW1zLmFkU2xvdCxKU09OLnN0cmluZ2lmeShpKSk7by5wdWJJZD1vLnB1YklkfHxpLnBhcmFtcy5wdWJsaXNoZXJJZCwobz1mdW5jdGlvbihlLHIpe3ZhciBhLGksbjtmb3IoYSBpbiByLmthZHBhZ2V1cmx8fChyLmthZHBhZ2V1cmw9ci5wYWdlVVJMKSxmKWYuaGFzT3duUHJvcGVydHkoYSkmJihpPWVbYV0pJiYoIm9iamVjdCI9PT11KG49ZlthXSkmJihpPW4uZihpLHIpKSx0LmlzU3RyKGkpP3JbYV09aTp0LmxvZ1dhcm4oIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6ICIrYSsiIHdpdGggdmFsdWUgOiAiK2ZbYV0rIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kICIrdShpKSkpO3JldHVybiByfShpLnBhcmFtcyxvKSkudHJhbnNhY3Rpb25JZD1pLnRyYW5zYWN0aW9uSWQsIiI9PT1jP2M9aS5wYXJhbXMuY3VycmVuY3l8fGI6aS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikmJmMhPT1pLnBhcmFtcy5jdXJyZW5jeSYmdC5sb2dXYXJuKCJQdWJNYXRpYzogQ3VycmVuY3kgc3BlY2lmaWVyIGlnbm9yZWQuIE9ubHkgb25lIGN1cnJlbmN5IHBlcm1pdHRlZC4iKSxpLnBhcmFtcy5jdXJyZW5jeT1jLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIikmJnQuaXNTdHIoaS5wYXJhbXMuZGN0cikmJmwucHVzaChpLnBhcmFtcy5kY3RyKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmNhdCIpJiZ0LmlzQXJyYXkoaS5wYXJhbXMuYmNhdCkmJihtPW0uY29uY2F0KGkucGFyYW1zLmJjYXQpKTt2YXIgcj1CKGkpO3ImJnAuaW1wLnB1c2gocil9KSksMCE9cC5pbXAubGVuZ3RoKXt2YXIgaCx5O3Auc2l0ZS5wdWJsaXNoZXIuaWQ9by5wdWJJZC50cmltKCksQz1vLnB1YklkLnRyaW0oKSxwLmV4dC53cmFwcGVyPXt9LHAuZXh0LndyYXBwZXIucHJvZmlsZT1wYXJzZUludChvLnByb2ZJZCl8fGIscC5leHQud3JhcHBlci52ZXJzaW9uPXBhcnNlSW50KG8udmVySWQpfHxiLHAuZXh0LndyYXBwZXIud2lpZD1vLndpaWR8fHIuYXVjdGlvbklkLHAuZXh0LndyYXBwZXIud3Y9InByZWJpZF9wcmViaWRfNS4xMS4wIixwLmV4dC53cmFwcGVyLnRyYW5zYWN0aW9uSWQ9by50cmFuc2FjdGlvbklkLHAuZXh0LndyYXBwZXIud3A9InBianMiLHAudXNlci5nZW5kZXI9by5nZW5kZXI/by5nZW5kZXIudHJpbSgpOmIscC51c2VyLmdlbz17fSxwLnVzZXIuZ2VvLmxhdD1VKCJsYXQiLG8ubGF0KSxwLnVzZXIuZ2VvLmxvbj1VKCJsb24iLG8ubG9uKSxwLnVzZXIueW9iPVUoInlvYiIsby55b2IpLHAuZGV2aWNlLmdlbz1wLnVzZXIuZ2VvLHAuc2l0ZS5wYWdlPW8ua2FkcGFnZXVybC50cmltKCl8fHAuc2l0ZS5wYWdlLnRyaW0oKSxwLnNpdGUuZG9tYWluPShoPXAuc2l0ZS5wYWdlLCh5PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj1oLHkuaG9zdG5hbWUpLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJjb250ZW50IikpJiYocC5zaXRlLmNvbnRlbnQ9cy5iLmdldENvbmZpZygiY29udGVudCIpKSwib2JqZWN0Ij09PXUocy5iLmdldENvbmZpZygiZGV2aWNlIikpJiYocC5kZXZpY2U9ZChwLmRldmljZSxzLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkpLHQuZGVlcFNldFZhbHVlKHAsInNvdXJjZS50aWQiLG8udHJhbnNhY3Rpb25JZCksLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwdWJtYXRpY1Rlc3Q9dHJ1ZSIpJiYocC50ZXN0PTEpLGVbMF0uc2NoYWluJiZ0LmRlZXBTZXRWYWx1ZShwLCJzb3VyY2UuZXh0LnNjaGFpbiIsZVswXS5zY2hhaW4pLHImJnIuZ2RwckNvbnNlbnQmJih0LmRlZXBTZXRWYWx1ZShwLCJ1c2VyLmV4dC5jb25zZW50IixyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHQuZGVlcFNldFZhbHVlKHAsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksciYmci51c3BDb25zZW50JiZ0LmRlZXBTZXRWYWx1ZShwLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmdC5kZWVwU2V0VmFsdWUocCwicmVncy5jb3BwYSIsMSksZnVuY3Rpb24oZSxyKXt2YXIgYT10LmRlZXBBY2Nlc3MociwiMC51c2VySWRBc0VpZHMiKSxpPVYocix4KTtpJiYoYXx8KGE9W10pLGEucHVzaChpKSksdC5pc0FycmF5KGEpJiZhLmxlbmd0aD4wJiZ0LmRlZXBTZXRWYWx1ZShlLCJ1c2VyLmVpZHMiLGEpfShwLGUpLGZ1bmN0aW9uKGUscil7KHI9ci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZXx8KHQubG9nV2FybigiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGJlIGEgc3RyaW5nLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKSwhMSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsYSl7aWYoZS5sZW5ndGg+MylyZXR1cm4gYS5pbmRleE9mKGUpPT09cjt0LmxvZ1dhcm4oIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkpLmxlbmd0aD4wJiYodC5sb2dXYXJuKCJQdWJNYXRpYzogYmNhdDogU2VsZWN0ZWQ6ICIsciksZS5iY2F0PXIpfShwLG0pLGZ1bmN0aW9uKGUscil7dmFyIGE9VihyLFIpO2EmJihlLnVzZXJ8fChlLnVzZXI9e30pLGUudXNlci5kYXRhfHwoZS51c2VyLmRhdGE9W10pLGUudXNlci5kYXRhLnB1c2goYSkpfShwLGUpO3ZhciB2PXMuYi5nZXRDb25maWcoIm9ydGIyIil8fHt9O3JldHVybiB2LnNpdGUmJnQubWVyZ2VEZWVwKHAse3NpdGU6di5zaXRlfSksdi51c2VyJiZ0Lm1lcmdlRGVlcChwLHt1c2VyOnYudXNlcn0pLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJhcHAiKSkmJihwLmFwcD1zLmIuZ2V0Q29uZmlnKCJhcHAiKSxwLmFwcC5wdWJsaXNoZXI9cC5zaXRlLnB1Ymxpc2hlcixwLmFwcC5leHQ9cC5zaXRlLmV4dHx8Yiwib2JqZWN0IiE9PXUocC5hcHAuY29udGVudCkmJihwLmFwcC5jb250ZW50PXAuc2l0ZS5jb250ZW50fHxiKSxkZWxldGUgcC5zaXRlKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vaGJvcGVuYmlkLnB1Ym1hdGljLmNvbS90cmFuc2xhdG9yP3NvdXJjZT1wcmViaWQtY2xpZW50IixkYXRhOkpTT04uc3RyaW5naWZ5KHApLGJpZGRlclJlcXVlc3Q6cn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBhPVtdLGk9ZyxzPUpTT04ucGFyc2Uoci5kYXRhKSxvPXMuc2l0ZSYmcy5zaXRlLnJlZj9zLnNpdGUucmVmOiIiO3RyeXtlLmJvZHkmJmUuYm9keS5zZWF0YmlkJiZ0LmlzQXJyYXkoZS5ib2R5LnNlYXRiaWQpJiYoaT1lLmJvZHkuY3VyfHxpLGUuYm9keS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkJiZ0LmlzQXJyYXkoZS5iaWQpJiZlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihkKXt2YXIgcD17cmVxdWVzdElkOmQuaW1waWQsY3BtOihwYXJzZUZsb2F0KGQucHJpY2UpfHwwKS50b0ZpeGVkKDIpLHdpZHRoOmQudyxoZWlnaHQ6ZC5oLGNyZWF0aXZlSWQ6ZC5jcmlkfHxkLmlkLGRlYWxJZDpkLmRlYWxpZCxjdXJyZW5jeTppLG5ldFJldmVudWU6dHJ1ZSx0dGw6MzAwLHJlZmVycmVyOm8sYWQ6ZC5hZG0scG1fc2VhdDplLnNlYXR8fG51bGwscG1fZHNwaWQ6ZC5leHQmJmQuZXh0LmRzcGlkP2QuZXh0LmRzcGlkOm51bGwscGFydG5lckltcElkOmQuaWR8fCIifTtzLmltcCYmcy5pbXAubGVuZ3RoPjAmJnMuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGQuaW1waWQ9PT1lLmlkKXN3aXRjaChmdW5jdGlvbihlLHIpe2lmKGUuZXh0JiZudWxsIT1lLmV4dC5CaWRUeXBlKXIubWVkaWFUeXBlPUFbZS5leHQuQmlkVHlwZV07ZWxzZXt0LmxvZ0luZm8oIlB1Yk1hdGljOiBiaWQuZXh0LkJpZFR5cGUgZG9lcyBub3QgZXhpc3QsIGNoZWNraW5nIGFsdGVybmF0aXZlbHkgZm9yIG1lZGlhVHlwZSIpO3ZhciBhPWUuYWRtLGk9IiIscz1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKGEuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJyk+PTApci5tZWRpYVR5cGU9bi5iO2Vsc2UgaWYocy50ZXN0KGEpKXIubWVkaWFUeXBlPW4uZDtlbHNlIHRyeXsoaT1KU09OLnBhcnNlKGEucmVwbGFjZSgvXFwvZywiIikpKSYmaS5uYXRpdmUmJihyLm1lZGlhVHlwZT1uLmMpfWNhdGNoKGUpe3QubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK2EpfX19KGQscCkscC5tZWRpYVR5cGUpe2Nhc2Ugbi5iOmJyZWFrO2Nhc2Ugbi5kOnAud2lkdGg9ZC5oYXNPd25Qcm9wZXJ0eSgidyIpP2QudzplLnZpZGVvLncscC5oZWlnaHQ9ZC5oYXNPd25Qcm9wZXJ0eSgiaCIpP2QuaDplLnZpZGVvLmgscC52YXN0WG1sPWQuYWRtLGZ1bmN0aW9uKGUscil7dmFyIGEsdCxpO2lmKHIuYmlkZGVyUmVxdWVzdCYmci5iaWRkZXJSZXF1ZXN0LmJpZHMpe2Zvcih2YXIgcz0wO3M8ci5iaWRkZXJSZXF1ZXN0LmJpZHMubGVuZ3RoO3MrKylyLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5iaWRJZD09PWUucmVxdWVzdElkJiYoYT1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5wYXJhbXMsdD1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCxpPXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLmFkVW5pdENvZGUpO3QmJiJvdXRzdHJlYW0iPT09dCYmYSYmYS5vdXRzdHJlYW1BVSYmaSYmKGUucmVuZGVyZXJDb2RlPWEub3V0c3RyZWFtQVUsZS5yZW5kZXJlcj1rLm5ld1JlbmRlcmVyKGUucmVuZGVyZXJDb2RlLGkpKX19KHAscik7YnJlYWs7Y2FzZSBuLmM6IWZ1bmN0aW9uKGUscil7aWYoci5uYXRpdmU9e30sZS5oYXNPd25Qcm9wZXJ0eSgiYWRtIikpe3ZhciBhPSIiO3RyeXthPUpTT04ucGFyc2UoZS5hZG0ucmVwbGFjZSgvXFwvZywiIikpfWNhdGNoKGUpe3JldHVybiB2b2lkIHQubG9nV2FybigiUHViTWF0aWM6IEVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK3IuYWRtKX1pZihhJiZhLm5hdGl2ZSYmYS5uYXRpdmUuYXNzZXRzJiZhLm5hdGl2ZS5hc3NldHMubGVuZ3RoPjApe3IubWVkaWFUeXBlPW4uYztmb3IodmFyIGk9MCxzPWEubmF0aXZlLmFzc2V0cy5sZW5ndGg7aTxzO2krKylzd2l0Y2goYS5uYXRpdmUuYXNzZXRzW2ldLmlkKXtjYXNlIFAuVElUTEUuSUQ6ci5uYXRpdmUudGl0bGU9YS5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlJiZhLm5hdGl2ZS5hc3NldHNbaV0udGl0bGUudGV4dDticmVhaztjYXNlIFAuSU1BR0UuSUQ6ci5uYXRpdmUuaW1hZ2U9e3VybDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSBQLklDT04uSUQ6ci5uYXRpdmUuaWNvbj17dXJsOmEubmF0aXZlLmFzc2V0c1tpXS5pbWcmJmEubmF0aXZlLmFzc2V0c1tpXS5pbWcudXJsLGhlaWdodDphLm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbaV0uaW1nLmgsd2lkdGg6YS5uYXRpdmUuYXNzZXRzW2ldLmltZyYmYS5uYXRpdmUuYXNzZXRzW2ldLmltZy53fTticmVhaztjYXNlIFAuU1BPTlNPUkVEQlkuSUQ6Y2FzZSBQLkJPRFkuSUQ6Y2FzZSBQLkxJS0VTLklEOmNhc2UgUC5ET1dOTE9BRFMuSUQ6Y2FzZSBQLlBSSUNFOmNhc2UgUC5TQUxFUFJJQ0UuSUQ6Y2FzZSBQLlBIT05FLklEOmNhc2UgUC5BRERSRVNTLklEOmNhc2UgUC5ERVNDMi5JRDpjYXNlIFAuQ1RBLklEOmNhc2UgUC5SQVRJTkcuSUQ6Y2FzZSBQLkRJU1BMQVlVUkwuSUQ6ci5uYXRpdmVbS1thLm5hdGl2ZS5hc3NldHNbaV0uaWRdXT1hLm5hdGl2ZS5hc3NldHNbaV0uZGF0YSYmYS5uYXRpdmUuYXNzZXRzW2ldLmRhdGEudmFsdWV9ci5uYXRpdmUuY2xpY2tVcmw9YS5uYXRpdmUubGluayYmYS5uYXRpdmUubGluay51cmwsci5uYXRpdmUuY2xpY2tUcmFja2Vycz1hLm5hdGl2ZS5saW5rJiZhLm5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnN8fFtdLHIubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycz1hLm5hdGl2ZS5pbXB0cmFja2Vyc3x8W10sci5uYXRpdmUuanN0cmFja2VyPWEubmF0aXZlLmpzdHJhY2tlcnx8W10sci53aWR0aHx8KHIud2lkdGg9MCksci5oZWlnaHR8fChyLmhlaWdodD0wKX19fShkLHApfX0pKSxkLmV4dCYmZC5leHQuZGVhbF9jaGFubmVsJiYocC5kZWFsQ2hhbm5lbD1ZW2QuZXh0LmRlYWxfY2hhbm5lbF18fG51bGwpLHAubWV0YT17fSxkLmV4dCYmZC5leHQuZHNwaWQmJihwLm1ldGEubmV0d29ya0lkPWQuZXh0LmRzcGlkKSxkLmV4dCYmZC5leHQuYWR2aWQmJihwLm1ldGEuYnV5ZXJJZD1kLmV4dC5hZHZpZCksZC5hZG9tYWluJiZkLmFkb21haW4ubGVuZ3RoPjAmJihwLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZC5hZG9tYWluLHAubWV0YS5jbGlja1VybD1kLmFkb21haW5bMF0pLGUuZXh0JiZlLmV4dC5idXlpZCYmKHAuYWRzZXJ2ZXJUYXJnZXRpbmc9e2hiX2J1eWlkX3B1Ym1hdGljOmUuZXh0LmJ1eWlkfSksYS5wdXNoKHApfSkpfSkpKX1jYXRjaChlKXt0LmxvZ0Vycm9yKGUpfXJldHVybiBhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEsdCl7dmFyIGk9IiIrQztyZXR1cm4gYSYmKGkrPSImZ2Rwcj0iKyhhLmdkcHJBcHBsaWVzPzE6MCksaSs9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoYS5jb25zZW50U3RyaW5nfHwiIikpLHQmJihpKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmKGkrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvdXNlcl9zeW5jLmh0bWw/a2RudHVpZD0xJnA9IitpfV06W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2ltYWdlOC5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvSW1nU3luYz9wPSIraX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5jb252ZXJ0VHlwZXMoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoRil9fSxbNjU3XSk7CnVwYmpzQ2h1bmsoWzI5XSx7NjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO24uYT1mdW5jdGlvbihlKXt2YXIgbix0PWUudXJsLHI9ZS5hbmFseXRpY3NUeXBlLHU9ZS5nbG9iYWwsbD1lLmhhbmRsZXIsTz1bXSxtPTAsVT0hMDsoZnVuY3Rpb24oKXtpZihVKXtmb3IodmFyIGU9MDtlPE8ubGVuZ3RoO2UrKylPW2VdKCk7Ty5wdXNoPWZ1bmN0aW9uKGUpe2UoKX0sVT0hMX1zLmxvZ01lc3NhZ2UoImV2ZW50IGNvdW50IHNlbnQgdG8gIi5jb25jYXQodSwiOiAiKS5jb25jYXQobSkpfSkoKTtyZXR1cm57dHJhY2s6ZnVuY3Rpb24oZSl7dmFyIG49ZS5ldmVudFR5cGUsdD1lLmFyZ3M7dGhpcy5nZXRBZGFwdGVyVHlwZSgpPT09UyYmd2luZG93W3VdKGwsbix0KTt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1OJiZCLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSxlbnF1ZXVlOlIsZW5hYmxlQW5hbHl0aWNzOmosZGlzYWJsZUFuYWx5dGljczpmdW5jdGlvbigpe3MuX2VhY2gobiwoZnVuY3Rpb24oZSxuKXtjLm9mZihuLGUpfSkpLHRoaXMuZW5hYmxlQW5hbHl0aWNzPXRoaXMuX29sZEVuYWJsZT90aGlzLl9vbGRFbmFibGU6an0sZ2V0QWRhcHRlclR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0R2xvYmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldEhhbmRsZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0VXJsOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fTtmdW5jdGlvbiBCKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHI9ZS5hcmdzLHU9ZS5jYWxsYmFjaztPYmplY3QoYS5hKSh0LHUsSlNPTi5zdHJpbmdpZnkoe2V2ZW50VHlwZTpuLGFyZ3M6cn0pKX1mdW5jdGlvbiBSKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzLHI9dGhpczt1JiZ3aW5kb3dbdV0mJm4mJnQ/dGhpcy50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSk6Ty5wdXNoKChmdW5jdGlvbigpe20rKyxyLnRyYWNrKHtldmVudFR5cGU6bixhcmdzOnR9KX0pKX1mdW5jdGlvbiBqKGUpe3ZhciB0LHI9dGhpcyxhPXRoaXM7Im9iamVjdCIhPT1pKGUpfHwib2JqZWN0IiE9PWkoZS5vcHRpb25zKXx8KHZvaWQgMD09PWUub3B0aW9ucy5zYW1wbGluZ3x8TWF0aC5yYW5kb20oKTxwYXJzZUZsb2F0KGUub3B0aW9ucy5zYW1wbGluZykpPyhjLmdldEV2ZW50cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO24hPT1UJiZSLmNhbGwoYSx7ZXZlbnRUeXBlOm4sYXJnczp0fSl9fSkpLG8odD17fSx5LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6eSxhcmdzOmV9KX0pKSxvKHQsZywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmcsYXJnczplfSl9KSksbyh0LHYsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTp2LGFyZ3M6ZX0pfSkpLG8odCxiLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6YixhcmdzOmV9KX0pKSxvKHQsVCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOlQsYXJnczplfSl9KSksbyh0LGQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpkLGFyZ3M6ZX0pfSkpLG8odCxFLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6RSxhcmdzOmV9KX0pKSxvKHQsXywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOl8sYXJnczplfSl9KSksbyh0LEEsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpBLGFyZ3M6ZX0pfSkpLG8odCxwLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6cCxhcmdzOmV9KX0pKSxvKHQsRCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkQsYXJnczplfSl9KSksbyh0LGgsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpoLGFyZ3M6ZX0pfSkpLG8odCxJLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6SSxhcmdzOmV9KX0pKSxvKHQscSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnEsYXJnczplfSl9KSksbyh0LGYsKGZ1bmN0aW9uKG4pe24uY29uZmlnPSJvYmplY3QiPT09aShlKSYmZS5vcHRpb25zfHx7fSxyLmVucXVldWUoe2V2ZW50VHlwZTpmLGFyZ3M6bn0pfSkpLG49dCxzLl9lYWNoKG4sKGZ1bmN0aW9uKGUsbil7Yy5vbihuLGUpfSkpKTpzLmxvZ01lc3NhZ2UoJ0FuYWx5dGljcyBhZGFwdGVyIGZvciAiJy5jb25jYXQodSwnIiBkaXNhYmxlZCBieSBzYW1wbGluZycpKTt0aGlzLl9vbGRFbmFibGU9dGhpcy5lbmFibGVBbmFseXRpY3MsdGhpcy5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oKXtyZXR1cm4gcy5sb2dNZXNzYWdlKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgYWxyZWFkeSBlbmFibGVkLCB1bm5lY2Vzc2FyeSBjYWxsIHRvIGBlbmFibGVBbmFseXRpY3NgLicpKX19fTt2YXIgcj10KDUpLHU9dC5uKHIpLGE9dCg0KTtmdW5jdGlvbiBvKGUsbix0KXtyZXR1cm4gbiBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW25dPXQsZX1mdW5jdGlvbiBpKGUpe3JldHVybihpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGM9dCg5KSxzPXQoMCksbD11LmEuRVZFTlRTLGY9bC5BVUNUSU9OX0lOSVQscD1sLkFVQ1RJT05fRU5ELHk9bC5SRVFVRVNUX0JJRFMsZz1sLkJJRF9SRVFVRVNURUQsVD1sLkJJRF9USU1FT1VULHY9bC5CSURfUkVTUE9OU0UsYj1sLk5PX0JJRCxkPWwuQklEX1dPTixFPWwuQklEX0FESlVTVE1FTlQsXz1sLkJJRERFUl9ET05FLEE9bC5TRVRfVEFSR0VUSU5HLEQ9bC5BRF9SRU5ERVJfRkFJTEVELGg9bC5BRF9SRU5ERVJfU1VDQ0VFREVELEk9bC5BVUNUSU9OX0RFQlVHLHE9bC5BRERfQURfVU5JVFMsTj0iZW5kcG9pbnQiLFM9ImJ1bmRsZSJ9LDY2MTpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoNjYyKX0sNjYyOmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciByPXQoNiksdT10KDgpLGE9T2JqZWN0KHIuYSkoe2dsb2JhbDoiUHVic3RhY2tBbmFseXRpY3MiLGhhbmRsZXI6Im9uIixhbmFseXRpY3NUeXBlOiJidW5kbGUifSk7dS5kZWZhdWx0LnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcih7YWRhcHRlcjphLGNvZGU6InB1YnN0YWNrIn0pLG4uZGVmYXVsdD1hfX0sWzY2MV0pOwp1cGJqc0NodW5rKFsxNDRdLHs2NzM6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDY3NCl9LDY3NDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIG49dCgwKSxpPXQoMSksYT10KDEzKTtmdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgcz0xMDAsdT0yMDAsbz01MCxjPTE1MCxwPTUwLGw9IlVTRCIsZj1bImNwIiwiY3QiLCJjZiIsInZpZGVvIiwiYmF0dHIiLCJiY2F0IiwiYmFkdiIsImJpZGZsb29yIl0sbT17Y29kZToicHVsc2Vwb2ludCIsZ3ZsaWQ6ODEsYWxpYXNlczpbInB1bHNlTGl0ZSIsInB1bHNlcG9pbnRMaXRlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbImJhbm5lciIsIm5hdGl2ZSIsInZpZGVvIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJmUucGFyYW1zLmNwJiZlLnBhcmFtcy5jdCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYmlkLmNvbnRleHR3ZWIuY29tL2hlYWRlci9vcnRiP3NyYz1wcmViaWQiLGRhdGE6e2lkOmVbMF0uYmlkZGVyUmVxdWVzdElkLGltcDplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybntpZDplLmJpZElkLGJhbm5lcjp2KGUpLG5hdGl2ZTpoKGUpLHRhZ2lkOmUucGFyYW1zLmN0LnRvU3RyaW5nKCksdmlkZW86YihlKSxiaWRmbG9vcjprKGUpLGV4dDpnKGUpfX0oZSl9KSksc2l0ZTpPKGUsciksYXBwOlQoZSksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfSxiY2F0OmVbMF0ucGFyYW1zLmJjYXQsYmFkdjplWzBdLnBhcmFtcy5iYWR2LHVzZXI6eChlWzBdLHIpLHJlZ3M6QyhyKSxzb3VyY2U6UChlWzBdLnNjaGFpbil9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9e30saT17fSxkPXt9LHM9ci5ib2R5O2UuZGF0YS5pbXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlLmlkXT1lfSkpLHMmJnMuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aVtlLmltcGlkXT1lfSkpfSkpO2UuYmlkZGVyUmVxdWVzdCYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMmJmUuYmlkZGVyUmVxdWVzdC5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2RbZS5iaWRJZF09ZX0pKTt2YXIgdT1bXTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoaVtlXSl7dmFyIHI9e3JlcXVlc3RJZDplLGNwbTppW2VdLnByaWNlLGNyZWF0aXZlX2lkOmlbZV0uY3JpZCxjcmVhdGl2ZUlkOmlbZV0uY3JpZCxhZElkOmUsdHRsOmlbZV0uZXhwfHwyMCxuZXRSZXZlbnVlOnRydWUsY3VycmVuY3k6cy5jdXJ8fGwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6aVtlXS5hZG9tYWlufHxbXX19O3RbZV0udmlkZW8/KGRbZV0mJiJvdXRzdHJlYW0iPT09bi5kZWVwQWNjZXNzKGRbZV0sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYoci5yZW5kZXJlcj0obz1uLmRlZXBBY2Nlc3MoZFtlXSwicmVuZGVyZXIub3B0aW9ucyIpLGM9bi5kZWVwQWNjZXNzKGlbZV0sImV4dC5vdXRzdHJlYW0iKSwocD1hLmEuaW5zdGFsbCh7dXJsOmMucmVuZGVyZXJVcmwsY29uZmlnOntkZWZhdWx0T3B0aW9uczpjLmNvbmZpZyxyZW5kZXJlck9wdGlvbnM6byx0eXBlOmMudHlwZX0sbG9hZGVkOiExfSkpLnNldFJlbmRlcigoZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciByPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7KG5ldyB3aW5kb3cuUHVsc2VQb2ludE91dHN0cmVhbVJlbmRlcmVyKS5yZW5kZXIoe2FkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLHZhc3RYbWw6ZS52YXN0WG1sLHR5cGU6ci50eXBlLGRlZmF1bHRPcHRpb25zOnIuZGVmYXVsdE9wdGlvbnMscmVuZGVyZXJPcHRpb25zOm99KX0pKX0pKSxwKSksci52YXN0WG1sPWlbZV0uYWRtLHIubWVkaWFUeXBlPSJ2aWRlbyIsci53aWR0aD1pW2VdLncsci5oZWlnaHQ9aVtlXS5oKTp0W2VdLmJhbm5lcj8oci5hZD1pW2VdLmFkbSxyLndpZHRoPWlbZV0ud3x8dFtlXS5iYW5uZXIudyxyLmhlaWdodD1pW2VdLmh8fHRbZV0uYmFubmVyLmgpOnRbZV0ubmF0aXZlJiYoci5uYXRpdmU9ZnVuY3Rpb24oZSxyKXtpZihlLm5hdGl2ZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dHJ5e2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7bi5sb2dFcnJvcigicHVsc2Vwb2ludExpdGUuc2FmZVBhcnNlIiwiRVJST1IiLGUpfXJldHVybiBudWxsfShyLmFkbSksaT17fTtpZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzKXJldHVybiB0Lm5hdGl2ZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS50aXRsZT1lLnRpdGxlP2UudGl0bGUudGV4dDppLnRpdGxlLGkuYm9keT1lLmRhdGEmJjI9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6aS5ib2R5LGkuc3BvbnNvcmVkQnk9ZS5kYXRhJiYxPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuc3BvbnNvcmVkQnksaS5pbWFnZT1lLmltZyYmMz09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaW1hZ2UsaS5pY29uPWUuaW1nJiYxPT09ZS5pbWcudHlwZT9lLmltZy51cmw6aS5pY29ufSkpLHQubmF0aXZlLmxpbmsmJihpLmNsaWNrVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0Lm5hdGl2ZS5saW5rLnVybCkpLGkuaW1wcmVzc2lvblRyYWNrZXJzPXQubmF0aXZlLmltcHRyYWNrZXJzLGl9cmV0dXJuIG51bGx9KHRbZV0saVtlXSksci5tZWRpYVR5cGU9Im5hdGl2ZSIpLHUucHVzaChyKX12YXIgbyxjLHB9KSksdX0ocixlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gifV06ZS5waXhlbEVuYWJsZWQ/W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaC9wcmViaWQifV06dm9pZCAwfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbi5jb252ZXJ0VHlwZXMoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHYoZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik7aWYociYmbi5pc0FycmF5KHIpKXJldHVybiByLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG4uaXNBcnJheShlKSYmMj09PWUubGVuZ3RofSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpO3JldHVybiBudWxsfShlKSx0PWZ1bmN0aW9uKGUscil7aWYoZS5wYXJhbXMuY2Ype3ZhciB0PWUucGFyYW1zLmNmLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKTtyZXR1cm5bcGFyc2VJbnQoZS5wYXJhbXMuY3d8fHRbMF0sMTApLHBhcnNlSW50KGUucGFyYW1zLmNofHx0WzFdLDEwKV19aWYociYmci5sZW5ndGg+MClyZXR1cm5bclswXS53LHJbMF0uaF07cmV0dXJuWzEsMV19KGUscik7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcj97dzp0WzBdLGg6dFsxXSxiYXR0cjplLnBhcmFtcy5iYXR0cixmb3JtYXQ6cn06bnVsbH1mdW5jdGlvbiBiKGUpe3JldHVybiBlLnBhcmFtcy52aWRlbz9kKHt9LGUucGFyYW1zLnZpZGVvLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP2UubWVkaWFUeXBlcy52aWRlbzp7fSx7YmF0dHI6ZS5wYXJhbXMuYmF0dHJ9KTpudWxsfWZ1bmN0aW9uIGcoZSl7dmFyIHI9e30sdD17fTtyZXR1cm4gZi5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT0xfSkpLE9iamVjdC5rZXlzKGUucGFyYW1zKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0W25dfHwocltuXT1lLnBhcmFtc1tuXSl9KSksT2JqZWN0LmtleXMocikubGVuZ3RoPjA/e3ByZWJpZDpyfTpudWxsfWZ1bmN0aW9uIGgoZSl7aWYoZS5uYXRpdmVQYXJhbXMpe3ZhciByPVtdO3JldHVybiB5KHIsZnVuY3Rpb24oZSxyLHQpe2lmKHIpcmV0dXJue2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19O3JldHVybiBudWxsfShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnRpdGxlLHMpKSx5KHIsdyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMix1KSkseShyLHcoci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5zcG9uc29yZWRCeSwxLG8pKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxwLHApKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMsYyxjKSkse3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2Fzc2V0czpyfSksdmVyOiIxLjEiLGJhdHRyOmUucGFyYW1zLmJhdHRyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGUscil7ciYmZS5wdXNoKHIpfWZ1bmN0aW9uIEkoZSxyLHQsbixpKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6dCx3bWluOnIud21pbnx8bixobWluOnIuaG1pbnx8aX19Om51bGx9ZnVuY3Rpb24gdyhlLHIsdCxuKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnQsbGVuOnIubGVufHxufX06bnVsbH1mdW5jdGlvbiBPKGUscil7dmFyIHQ9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCI7cmV0dXJuIGVbMF0ucGFyYW1zLmFwcD9udWxsOntwdWJsaXNoZXI6e2lkOnQudG9TdHJpbmcoKX0scmVmOnEoKSxwYWdlOnImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIifX1mdW5jdGlvbiBUKGUpe3ZhciByPWUmJmUubGVuZ3RoPjA/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO3JldHVybiB0P3twdWJsaXNoZXI6e2lkOnIudG9TdHJpbmcoKX0sYnVuZGxlOnQuYnVuZGxlLHN0b3JldXJsOnQuc3RvcmVVcmwsZG9tYWluOnQuZG9tYWlufTpudWxsfWZ1bmN0aW9uIHEoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiB4KGUscil7dmFyIHQ9e307aWYociYmci5nZHByQ29uc2VudCYmKHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGUmJmUudXNlcklkKXt0LmVpZHM9W10sUih0LmVpZHMsZS51c2VySWQucHViY2lkLCJwdWJjb21tb24iKSxSKHQuZWlkcyxlLnVzZXJJZC5icml0ZXBvb2xpZCwiYnJpdGVwb29sLmNvbSIpLFIodC5laWRzLGUudXNlcklkLmNyaXRlb0lkLCJjcml0ZW8iKSxSKHQuZWlkcyxlLnVzZXJJZC5pZGxfZW52LCJpZGVudGl0eUxpbmsiKSxSKHQuZWlkcyxuLmRlZXBBY2Nlc3MoZSwidXNlcklkLmlkNWlkLnVpZCIpLCJpZDUtc3luYy5jb20iLG4uZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQuZXh0IikpLFIodC5laWRzLG4uZGVlcEFjY2VzcyhlLCJ1c2VySWQucGFycmFibGVJZC5laWQiKSwicGFycmFibGUuY29tIiksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJlIodC5laWRzLGUudXNlcklkLmxpcGIubGlwYmlkLCJsaXZlaW50ZW50LmNvbSIpLFIodC5laWRzLGUudXNlcklkLnRkaWQsImFkc2VydmVyLm9yZyIse3J0aVBhcnRuZXI6IlRESUQifSk7dmFyIGk9ZS51c2VySWQuZGlnaXRydXN0aWQ7aWYoaSYmaS5kYXRhKXt2YXIgYT17fTtpLmRhdGEuaWQmJihhLmlkPWkuZGF0YS5pZCksaS5kYXRhLmtleXYmJihhLmtleXY9aS5kYXRhLmtleXYpLHQuZGlnaXRydXN0PWF9fXJldHVybntleHQ6dH19ZnVuY3Rpb24gUihlLHIsdCxuKXtpZihyKXt2YXIgaT17aWQ6cn07biYmKGkuZXh0PW4pLGUucHVzaCh7c291cmNlOnQsdWlkczpbaV19KX19ZnVuY3Rpb24gQyhlKXtpZihlLmdkcHJDb25zZW50fHxlLnVzcENvbnNlbnQpe3ZhciByPXt9O3JldHVybiBlLmdkcHJDb25zZW50JiYoci5nZHByPWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxlLnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx7ZXh0OnJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU/e2V4dDp7c2NoYWluOmV9fTpudWxsfWZ1bmN0aW9uIGsoZSl7dmFyIHI9ZS5wYXJhbXMuYmlkZmxvb3I7aWYobi5pc0ZuKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHttZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLmJhbm5lcj8iYmFubmVyIjplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiTmF0aXZlIixzaXplOiIqIixjdXJyZW5jeTpsfSk7dCYmdC5mbG9vciYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzY3M10pOwp1cGJqc0NodW5rKFsxMzJdLHs3MDE6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDcwMil9LDcwMjpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSk7dmFyIGk9YSgwKSx0PWEoMSkscz1hKDIpO3ZhciBuPW5ldyBmdW5jdGlvbigpe3RoaXMuY29kZT0icmh5dGhtb25lIix0aGlzLnN1cHBvcnRlZE1lZGlhVHlwZXM9W3MuZCxzLmJdO3ZhciBlPVsyLDMsNSw2XSxyPVsidmlkZW8vbXA0Il0sYT1bMSwyLDMsNF0sdD1bMV0sbj1bMSwyLDVdLGQ9e30scD10aGlzO2Z1bmN0aW9uIG8oZSxyKXt2YXIgYSx0PVtdLHM9MDtpZihyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnN0YWNrLmxlbmd0aCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO24uaHJlZj1yLnJlZmVyZXJJbmZvLnN0YWNrWzBdLHM9Imh0dHBzOiI9PW4ucHJvdG9jb2w/MTowfWZvcih2YXIgcD0wO3A8ZS5sZW5ndGg7cCsrKXtkW2VbcF0uYWRVbml0Q29kZV09ZVtwXTt2YXIgbz17fTtpZihvLmlkPWVbcF0uYWRVbml0Q29kZSxvLmJpZGZsb29yPTAsby5zZWN1cmU9cyxpLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8ImJhbm5lciI9PT1pLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlIikpe3ZhciBjPXYoZVtwXSk7YyYmKG8uYmFubmVyPWMpfShpLmRlZXBBY2Nlc3MoZVtwXSwibWVkaWFUeXBlcy52aWRlbyIpfHwidmlkZW8iPT09aS5kZWVwQWNjZXNzKGVbcF0sIm1lZGlhVHlwZSIpKSYmKG8udmlkZW89dShlW3BdKSksKG8uYmFubmVyfHxvLnZpZGVvKSYmKG8uZXh0PXtiaWRkZXI6e3BsYWNlbWVudElkOihhPWVbcF0pLnBhcmFtcy5wbGFjZW1lbnRJZCx6b25lOmEucGFyYW1zJiZhLnBhcmFtcy56b25lP2EucGFyYW1zLnpvbmU6IjFyIixwYXRoOmEucGFyYW1zJiZhLnBhcmFtcy5wYXRoP2EucGFyYW1zLnBhdGg6Im12byJ9fSx0LnB1c2gobykpfXJldHVybiB0fWZ1bmN0aW9uIGMoZSl7dmFyIHI9e2RvbWFpbjoiIixwYWdlOiIiLHJlZjoiIn07aWYoZSYmZS5yZWZlcmVySW5mbyl7dmFyIGE9ZS5yZWZlcmVySW5mbztpZihyLnJlZj1hLnJlZmVyZXIsYS5zdGFjay5sZW5ndGgpe3IucGFnZT1hLnN0YWNrW2Euc3RhY2subGVuZ3RoLTFdO3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtpLmhyZWY9YS5zdGFja1swXSxyLmRvbWFpbj1pLmhvc3RuYW1lfX1yZXR1cm4gcn1mdW5jdGlvbiBtKGUpe3ZhciByPXBhcnNlSW50KGVbMF0pLGE9cGFyc2VJbnQoZVsxXSk7cmV0dXJuIHI9PXImJmE9PWEmJltyLGFdfWZ1bmN0aW9uIHYoZSl7dmFyIHI9ZS5zaXplcztlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpO3ZhciBhPWkucGFyc2VTaXplc0lucHV0KHIpLHQ9W107cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9bShlLnNwbGl0KCJ4IikpO3ImJnQucHVzaCh7dzpyWzBdLGg6clsxXX0pfX0pKSwhIXQubGVuZ3RoJiZ7Zm9ybWF0OnR9fWZ1bmN0aW9uIHUocyl7dmFyIGQ9W107aWYoaS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXt2YXIgcD1zLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtpLmlzQXJyYXkocy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYocD1zLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk7dmFyIG89bShwKTtvJiYoZD1vKX1yZXR1cm57bWltZXM6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKXx8cixwcm90b2NvbHM6aS5kZWVwQWNjZXNzKHMsIm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzIil8fGUsdzpkWzBdLGg6ZFsxXSxzdGFydGRlbGF5OmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnN0YXJ0ZGVsYXkiKXx8MCxza2lwOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLnNraXAiKXx8MCxwbGF5YmFja21ldGhvZDppLmRlZXBBY2Nlc3MocywibWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCIpfHxhLGRlbGl2ZXJ5OmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5Iil8fHQsYXBpOmkuZGVlcEFjY2VzcyhzLCJtZWRpYVR5cGVzLnZpZGVvLmFwaSIpfHxufX1mdW5jdGlvbiBsKGUscil7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspaWYoclthXS5wYXJhbXMmJnJbYV0ucGFyYW1zW2VdKXJldHVybiByW2FdLnBhcmFtc1tlXX10aGlzLmlzQmlkUmVxdWVzdFZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMucGxhY2VtZW50SWQpfSx0aGlzLmdldFVzZXJTeW5jcz1mdW5jdGlvbihlLHIsYSl7cmV0dXJuW119LHRoaXMuYnVpbGRSZXF1ZXN0cz1mdW5jdGlvbihlLHIpe3ZhciBhPWwoInBsYWNlbWVudElkIixlKTtpZih2b2lkIDA9PT1hfHxlLmxlbmd0aDwxKXJldHVybltdO3ZhciB0PWwoImVuZHBvaW50IixlKXx8Imh0dHBzOi8vdGFnLjFyeC5pby9ybXAve3BsYWNlbWVudElkfS8wL3twYXRofT96PXt6b25lfSIscz1sKCJ6b25lIixlKXx8IjFyIixuPWwoInBhdGgiLGUpfHwibXZvIjt0PSh0PSh0PXQucmVwbGFjZSgvXHtwbGFjZW1lbnRJZFx9L2ksYSkpLnJlcGxhY2UoL1x7em9uZVx9L2kscykpLnJlcGxhY2UoL1x7cGF0aFx9L2ksbik7dmFyIGQ9LyhednwoXC4wKSskKS9naTt0Kz0iJmhidj0iKyI1LjExLjAiLnJlcGxhY2UoZCwiIikrIiwiKyIyLjEiLnJlcGxhY2UoZCwiIik7dmFyIHA9ZnVuY3Rpb24oZSxyKXt2YXIgYT17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOm8oZSxyKSxzaXRlOmMociksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOiIiLGRudDppLmdldEROVCgpPzE6MH0sdXNlcjp7ZXh0Ontjb25zZW50OmkuZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpP3IuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIn19LGF0OjEsdG1heDoxZTMscmVnczp7ZXh0OntnZHByOiEhaS5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJkJvb2xlYW4oMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKX19fTtyZXR1cm4gZVswXS5zY2hhaW4mJihhLnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksYX0oZSxyKTtyZXR1cm4gcC5pbXAubGVuZ3RoP3ttZXRob2Q6IlBPU1QiLHVybDp0LGRhdGE6SlNPTi5zdHJpbmdpZnkocCl9Ont9fSx0aGlzLmludGVycHJldFJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYm9keXx8W10sYT1bXSxpPTA7aWYoci5zZWF0YmlkKXt2YXIgdD1bXTtmb3IoaT0wO2k8ci5zZWF0YmlkLmxlbmd0aDtpKyspZm9yKHZhciBzPTA7czxyLnNlYXRiaWRbaV0uYmlkLmxlbmd0aDtzKyspdC5wdXNoKHIuc2VhdGJpZFtpXS5iaWRbc10pO3I9dH1mb3IoaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbj1yW2ldLG89ZFtuLmltcGlkXSxjPXtyZXF1ZXN0SWQ6by5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLnByaWNlKSx3aWR0aDpuLncsaGVpZ2h0Om4uaCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW59LGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07by5tZWRpYVR5cGVzJiZvLm1lZGlhVHlwZXMudmlkZW8/KGMudmFzdFVybD1uLm51cmwsYy5tZWRpYVR5cGU9InZpZGVvIixjLnR0bD02MDApOmMuYWQ9bi5hZG0sYS5wdXNoKGMpfXJldHVybiBhfX07T2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzcwMV0pOwp1cGJqc0NodW5rKFsxMjZdLHs3MTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDcyMCl9LDcyMDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIF99KSksci5oYXNWaWRlb01lZGlhVHlwZT1PLHQuZChyLCJyZXNldFJ1YmlDb25mIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSxyLm1hc1NpemVPcmRlcmluZz1SLHIuZGV0ZXJtaW5lUnViaWNvblZpZGVvU2l6ZUlkPXosci5nZXRQcmljZUdyYW51bGFyaXR5PVQsci5oYXNWYWxpZFZpZGVvUGFyYW1zPUUsci5oYXNWYWxpZFN1cHBseUNoYWluUGFyYW1zPVUsci5lbmNvZGVQYXJhbT1QLHIucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe049ITF9O3ZhciBuPXQoMCksaT10KDEpLG89dCgzKSxhPXQoMikscz10KDExKSxjPXQubihzKSxkPXQoMTMpLHU9dCgxNCk7ZnVuY3Rpb24gcChlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24gbChlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9wKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dihlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6cChPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBtKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAscz0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEoYT0obj10Lm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXJ8fG8ubGVuZ3RoIT09cik7YT0hMCk7fWNhdGNoKGUpe3M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBpfX1yZXR1cm4gb30oZSxyKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBnKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBnKGUscil9KGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gdihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gYihlKXtyZXR1cm4oYj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB5PSJodHRwczovL3ZpZGVvLW91dHN0cmVhbS5ydWJpY29ucHJvamVjdC5jb20vYXBleC0yLjAuMC5qcyIseD17fTtvLmIuZ2V0Q29uZmlnKCJydWJpY29uIiwoZnVuY3Rpb24oZSl7bi5tZXJnZURlZXAoeCxlLnJ1Ymljb24pfSkpO3ZhciBoPXsxOiI0Njh4NjAiLDI6IjcyOHg5MCIsNToiMTIweDkwIiw3OiIxMjV4MTI1Iiw4OiIxMjB4NjAwIiw5OiIxNjB4NjAwIiwxMDoiMzAweDYwMCIsMTM6IjIwMHgyMDAiLDE0OiIyNTB4MjUwIiwxNToiMzAweDI1MCIsMTY6IjMzNngyODAiLDE3OiIyNDB4NDAwIiwxOToiMzAweDEwMCIsMzE6Ijk4MHgxMjAiLDMyOiIyNTB4MzYwIiwzMzoiMTgweDUwMCIsMzU6Ijk4MHgxNTAiLDM3OiI0Njh4NDAwIiwzODoiOTMweDE4MCIsMzk6Ijc1MHgxMDAiLDQwOiI3NTB4MjAwIiw0MToiNzUweDMwMCIsNDI6IjJ4NCIsNDM6IjMyMHg1MCIsNDQ6IjMwMHg1MCIsNDg6IjMwMHgzMDAiLDUzOiIxMDI0eDc2OCIsNTQ6IjMwMHgxMDUwIiw1NToiOTcweDkwIiw1NzoiOTcweDI1MCIsNTg6IjEwMDB4OTAiLDU5OiIzMjB4ODAiLDYwOiIzMjB4MTUwIiw2MToiMTAwMHgxMDAwIiw2NDoiNTgweDUwMCIsNjU6IjY0MHg0ODAiLDY2OiI5MzB4NjAwIiw2NzoiMzIweDQ4MCIsNjg6IjE4MDB4MTAwMCIsNzI6IjMyMHgzMjAiLDczOiIzMjB4MTYwIiw3ODoiOTgweDI0MCIsNzk6Ijk4MHgzMDAiLDgwOiI5ODB4NDAwIiw4MzoiNDgweDMwMCIsODU6IjMwMHgxMjAiLDkwOiI1NDh4MTUwIiw5NDoiOTcweDMxMCIsOTU6Ijk3MHgxMDAiLDk2OiI5NzB4MjEwIiwxMDE6IjQ4MHgzMjAiLDEwMjoiNzY4eDEwMjQiLDEwMzoiNDgweDI4MCIsMTA1OiIyNTB4ODAwIiwxMDg6IjMyMHgyNDAiLDExMzoiMTAwMHgzMDAiLDExNzoiMzIweDEwMCIsMTI1OiI4MDB4MjUwIiwxMjY6IjIwMHg2MDAiLDE0NDoiOTgweDYwMCIsMTQ1OiI5ODB4MTUwIiwxNTI6IjEwMDB4MjUwIiwxNTY6IjY0MHgzMjAiLDE1OToiMzIweDI1MCIsMTc5OiIyNTB4NjAwIiwxOTU6IjYwMHgzMDAiLDE5ODoiNjQweDM2MCIsMTk5OiI2NDB4MjAwIiwyMTM6IjEwMzB4NTkwIiwyMTQ6Ijk4MHgzNjAiLDIyMToiMXgxIiwyMjk6IjMyMHgxODAiLDIzMDoiMjAwMHgxNDAwIiwyMzI6IjU4MHg0MDAiLDIzNDoiNng2IiwyNTE6IjJ4MiIsMjU2OiI0ODB4ODIwIiwyNTc6IjQwMHg2MDAiLDI1ODoiNTAweDIwMCIsMjU5OiI5OTh4MjAwIiwyNjQ6Ijk3MHgxMDAwIiwyNjU6IjE5MjB4MTA4MCIsMjc0OiIxODAweDIwMCIsMjc4OiIzMjB4NTAwIiwyODI6IjMyMHg0MDAiLDI4ODoiNjQweDM4MCIsNTQ4OiI1MDB4MTAwMCIsNTUwOiI5ODB4NDgwIiw1NTI6IjMwMHgyMDAiLDU1ODoiNjQweDY0MCJ9O24uX2VhY2goaCwoZnVuY3Rpb24oZSxyKXtyZXR1cm4gaFtlXT1yfSkpO3ZhciBfPXtjb2RlOiJydWJpY29uIixndmxpZDo1MixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PWIoZS5wYXJhbXMpKXJldHVybiExO2Zvcih2YXIgcj0wLHQ9WyJhY2NvdW50SWQiLCJzaXRlSWQiLCJ6b25lSWQiXTtyPHQubGVuZ3RoO3IrKylpZihlLnBhcmFtc1t0W3JdXT1wYXJzZUludChlLnBhcmFtc1t0W3JdXSksaXNOYU4oZS5wYXJhbXNbdFtyXV0pKXJldHVybiBuLmxvZ0Vycm9yKCJSdWJpY29uOiB3cm9uZyBmb3JtYXQgb2YgYWNjb3VudElkIG9yIHNpdGVJZCBvciB6b25lSWQuIiksITE7dmFyIGk9dyhlLCEwKTtyZXR1cm4hIWkmJigidmlkZW8iIT09aXx8RShlKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxpPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4idmlkZW8iPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe2Uuc3RhcnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3ZhciB0PXtpZDplLnRyYW5zYWN0aW9uSWQsdGVzdDpvLmIuZ2V0Q29uZmlnKCJkZWJ1ZyIpPzE6MCxjdXI6WyJVU0QiXSxzb3VyY2U6e3RpZDplLnRyYW5zYWN0aW9uSWR9LHRtYXg6ci50aW1lb3V0LGltcDpbe2V4cDpvLmIuZ2V0Q29uZmlnKCJzMnNDb25maWcuZGVmYXVsdFR0bCIpLGlkOmUuYWRVbml0Q29kZSxzZWN1cmU6MSxleHQ6dih7fSxlLmJpZGRlcixlLnBhcmFtcyksdmlkZW86bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e319XSxleHQ6e3ByZWJpZDp7Y2hhbm5lbDp7bmFtZToicGJqcyIsdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSxjYWNoZTp7dmFzdHhtbDp7cmV0dXJuQ3JlYXRpdmU6ITA9PT14LnJldHVyblZhc3R9fSx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExLHByaWNlZ3JhbnVsYXJpdHk6VChvLmIpfSxiaWRkZXJzOntydWJpY29uOntpbnRlZ3JhdGlvbjp4LmludF90eXBlfHwicGJqcyJ9fX19fTsicnViaWNvbiIhPT1lLmJpZGRlciYmKHQuZXh0LnByZWJpZC5hbGlhc2VzPXYoe30sZS5iaWRkZXIsInJ1Ymljb24iKSk7dmFyIGkscyxjPU9iamVjdCh1LmEpKCkuaW5zdGFsbGVkTW9kdWxlcztpZighY3x8Yy5sZW5ndGgmJi0xPT09Yy5pbmRleE9mKCJydWJpY29uQW5hbHl0aWNzQWRhcHRlciIpfHxuLmRlZXBTZXRWYWx1ZSh0LCJleHQucHJlYmlkLmFuYWx5dGljcyIse3J1Ymljb246eyJjbGllbnQtYW5hbHl0aWNzIjohMH19KSwiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRGbG9vcnx8eC5kaXNhYmxlRmxvb3JzKWk9cGFyc2VGbG9hdChuLmRlZXBBY2Nlc3MoZSwicGFyYW1zLmZsb29yIikpO2Vsc2V7dmFyIGQ7dHJ5e2Q9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiJ2aWRlbyIsc2l6ZTpTKGUsInZpZGVvIil9KX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1pPSJvYmplY3QiIT09YihkKXx8IlVTRCIhPT1kLmN1cnJlbmN5fHxpc05hTihwYXJzZUludChkLmZsb29yKSk/dm9pZCAwOnBhcnNlRmxvYXQoZC5mbG9vcil9KGlzTmFOKGkpfHwodC5pbXBbMF0uYmlkZmxvb3I9aSksdC5pbXBbMF0uZXh0W2UuYmlkZGVyXS52aWRlby5zaXplX2lkPXooZSksZnVuY3Rpb24oZSxyLHQpe2lmKCFlKXJldHVybjsib2JqZWN0Ij09PWIoby5iLmdldENvbmZpZygiYXBwIikpP2UuYXBwPW8uYi5nZXRDb25maWcoImFwcCIpOmUuc2l0ZT17cGFnZTpBKHIsdCl9OyJvYmplY3QiPT09YihvLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihlLmRldmljZT1vLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSk7ci5wYXJhbXMudmlkZW8ubGFuZ3VhZ2UmJlsic2l0ZSIsImRldmljZSJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF0mJihlW3RdLmNvbnRlbnQ9Zih7bGFuZ3VhZ2U6ci5wYXJhbXMudmlkZW8ubGFuZ3VhZ2V9LGVbdF0uY29udGVudCkpfSkpfSh0LGUsciksZnVuY3Rpb24oZSxyKXsib2JqZWN0Ij09PWIoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwJiYoZS5pbXBbMF0udmlkZW8uc2tpcD1yLnBhcmFtcy52aWRlby5za2lwKTsib2JqZWN0Ij09PWIoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwYWZ0ZXImJihlLmltcFswXS52aWRlby5za2lwYWZ0ZXI9ci5wYXJhbXMudmlkZW8uc2tpcGRlbGF5KTsib2JqZWN0Ij09PWIoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5wb3MmJigiYXRmIj09PXIucGFyYW1zLnBvc2l0aW9uP2UuaW1wWzBdLnZpZGVvLnBvcz0xOiJidGYiPT09ci5wYXJhbXMucG9zaXRpb24mJihlLmltcFswXS52aWRlby5wb3M9MykpO3ZhciB0PVMociwidmlkZW8iKTtlLmltcFswXS52aWRlby53PXRbMF0sZS5pbXBbMF0udmlkZW8uaD10WzFdfSh0LGUpLHIuZ2RwckNvbnNlbnQpJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHM9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLG4uZGVlcFNldFZhbHVlKHQsInJlZ3MuZXh0LmdkcHIiLHMpLG4uZGVlcFNldFZhbHVlKHQsInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpO3IudXNwQ29uc2VudCYmbi5kZWVwU2V0VmFsdWUodCwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KTt2YXIgcD1uLmRlZXBBY2Nlc3MociwiYmlkcy4wLnVzZXJJZEFzRWlkcyIpO3AmJnAubGVuZ3RoJiZuLmRlZXBTZXRWYWx1ZSh0LCJ1c2VyLmV4dC5laWRzIixwKTt2YXIgbD1vLmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7bCYmbi5kZWVwU2V0VmFsdWUodCwidXNlci5pZCIsbCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZuLmRlZXBTZXRWYWx1ZSh0LCJyZWdzLmNvcHBhIiwxKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJm4uZGVlcFNldFZhbHVlKHQsInNvdXJjZS5leHQuc2NoYWluIixlLnNjaGFpbik7dmFyIG09by5iLmdldENvbmZpZygibXVsdGliaWQiKTtyZXR1cm4gbSYmbi5kZWVwU2V0VmFsdWUodCwiZXh0LnByZWJpZC5tdWx0aWJpZCIsbS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS50b0xvd2VyQ2FzZSgpXT1yW2VdfSkpLGUucHVzaCh0KSxlfSksW10pKSxDKGUsYS5kLHQpLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlJiZuLmRlZXBTZXRWYWx1ZSh0LmltcFswXSwiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpLG4uZGVlcFNldFZhbHVlKHQuaW1wWzBdLCJleHQucHJlYmlkLmF1Y3Rpb250aW1lc3RhbXAiLHIuYXVjdGlvblN0YXJ0KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC52aWRlb0hvc3R8fCJwcmViaWQtc2VydmVyIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIiksZGF0YTp0LGJpZFJlcXVlc3Q6ZX19KSk7aWYoITAhPT14LnNpbmdsZVJlcXVlc3QpdD1pLmNvbmNhdChlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9Xy5jcmVhdGVTbG90UGFyYW1zKGUscik7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOl8uZ2V0T3JkZXJlZFBhcmFtcyh0KS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIGk9dFtyXTtyZXR1cm4gbi5pc1N0cihpKSYmIiIhPT1pfHxuLmlzTnVtYmVyKGkpPyIiLmNvbmNhdChlKS5jb25jYXQoUChyLGkpLCImIik6ZX0pLCIiKSsic2xvdHM9MSZyYW5kPSIuY29uY2F0KE1hdGgucmFuZG9tKCkpLGJpZFJlcXVlc3Q6ZX19KSkpO2Vsc2V7dmFyIHM9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuKGVbci5wYXJhbXMuc2l0ZUlkXT1lW3IucGFyYW1zLnNpdGVJZF18fFtdKS5wdXNoKHIpLGV9KSx7fSk7dD1pLmNvbmNhdChPYmplY3Qua2V5cyhzKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGksbztyZXR1cm4oaT1zW3RdLG89MTAsaS5tYXAoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHIlbz09MD9pLnNsaWNlKHIscitvKTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPV8uY29tYmluZVNsb3RVcmxQYXJhbXModC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBfLmNyZWF0ZVNsb3RQYXJhbXMoZSxyKX0pKSk7ZS5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpfLmdldE9yZGVyZWRQYXJhbXMoaSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWlbcl07cmV0dXJuIG4uaXNTdHIodCkmJiIiIT09dHx8bi5pc051bWJlcih0KT8iIi5jb25jYXQoZSkuY29uY2F0KFAocix0KSwiJiIpOmV9KSwiIikrInNsb3RzPSIuY29uY2F0KHQubGVuZ3RoLCImcmFuZD0iKS5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDp0fSl9KSksZX0pLFtdKSl9cmV0dXJuIHR9LGdldE9yZGVyZWRQYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHI9L150Z192Lyx0PS9edGdfaS8sbj0vXmVpZF98XnRwaWRfLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi50ZXN0KGUpfSkpKS5jb25jYXQoWyJ4X2xpdmVyYW1waWRsIiwicHB1aWQiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlKX0pKSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChlKX0pKSkuY29uY2F0KFsidGtfZmxpbnQiLCJ4X3NvdXJjZS50aWQiLCJ4X3NvdXJjZS5wY2hhaW4iLCJwX3NjcmVlbl9yZXMiLCJycF9mbG9vciIsInJwX3NlY3VyZSIsInRrX3VzZXJfa2V5Il0pO3JldHVybiBpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpKX0sY29tYmluZVNsb3RVcmxQYXJhbXM6ZnVuY3Rpb24oZSl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO3ZhciByPWUucmVkdWNlKChmdW5jdGlvbihyLHQsbil7cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3IuaGFzT3duUHJvcGVydHkoaSl8fChyW2ldPW5ldyBBcnJheShlLmxlbmd0aCkpLHJbaV0uc3BsaWNlKG4sMSx0W2ldKX0pKSxyfSkse30pLHQ9bmV3IFJlZ0V4cCgiXihbXjtdKikoO1xcMSkrJCIpO3JldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1yW2VdLmpvaW4oIjsiKSxpPW4ubWF0Y2godCk7cltlXT1pP2lbMV06bn0pKSxyfSxjcmVhdGVTbG90UGFyYW1zOmZ1bmN0aW9uKGUscil7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHQ9ZS5wYXJhbXMsaT1TKGUsImJhbm5lciIpLHM9bSh0LmxhdExvbmd8fFtdLDIpLGQ9c1swXSx1PXNbMV0scD17YWNjb3VudF9pZDp0LmFjY291bnRJZCxzaXRlX2lkOnQuc2l0ZUlkLHpvbmVfaWQ6dC56b25lSWQsc2l6ZV9pZDppWzBdLGFsdF9zaXplX2lkczppLnNsaWNlKDEpLmpvaW4oIiwiKXx8dm9pZCAwLHJwX2Zsb29yOih0LmZsb29yPXBhcnNlRmxvYXQodC5mbG9vcikpPj0uMDE/dC5mbG9vcjp2b2lkIDAscnBfc2VjdXJlOiIxIix0a19mbGludDoiIi5jb25jYXQoeC5pbnRfdHlwZXx8InBianNfbGl0ZSIsIl92NS4xMS4wIiksInhfc291cmNlLnRpZCI6ZS50cmFuc2FjdGlvbklkLCJ4X3NvdXJjZS5wY2hhaW4iOnQucGNoYWluLHBfc2NyZWVuX3Jlczpbd2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodF0uam9pbigieCIpLHRrX3VzZXJfa2V5OnQudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChkKSk/dm9pZCAwOnBhcnNlRmxvYXQoZCkudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KHUpKT92b2lkIDA6cGFyc2VGbG9hdCh1KS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpBKGUscil9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYheC5kaXNhYmxlRmxvb3JzKXt2YXIgbDt0cnl7bD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KX1jYXRjaChlKXtuLmxvZ0Vycm9yKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1wLnJwX2hhcmRfZmxvb3I9Im9iamVjdCIhPT1iKGwpfHwiVVNEIiE9PWwuY3VycmVuY3l8fGlzTmFOKHBhcnNlSW50KGwuZmxvb3IpKT92b2lkIDA6bC5mbG9vcn12YXIgZj17MToiYXRmIiwzOiJidGYifVtuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIucG9zIildfHwiIjtwLnBfcG9zPSJhdGYiPT09dC5wb3NpdGlvbnx8ImJ0ZiI9PT10LnBvc2l0aW9uP3QucG9zaXRpb246Zjt2YXIgZz1vLmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7cmV0dXJuIGcmJihwLnBwdWlkPWcpLGUudXNlcklkQXNFaWRzJiZlLnVzZXJJZEFzRWlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt0cnl7aWYoImFkc2VydmVyLm9yZyI9PT1lLnNvdXJjZT8ocC50cGlkX3RkaWQ9ZS51aWRzWzBdLmlkLHBbImVpZF9hZHNlcnZlci5vcmciXT1lLnVpZHNbMF0uaWQpOiJsaXZlaW50ZW50LmNvbSI9PT1lLnNvdXJjZT8ocFsidHBpZF9saXZlaW50ZW50LmNvbSJdPWUudWlkc1swXS5pZCxwWyJlaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQsZS5leHQmJkFycmF5LmlzQXJyYXkoZS5leHQuc2VnbWVudHMpJiZlLmV4dC5zZWdtZW50cy5sZW5ndGgmJihwWyJ0Z192LkxJc2VnIl09ZS5leHQuc2VnbWVudHMuam9pbigiLCIpKSk6ImxpdmVyYW1wLmNvbSI9PT1lLnNvdXJjZT9wLnhfbGl2ZXJhbXBpZGw9ZS51aWRzWzBdLmlkOiJpZDUtc3luYy5jb20iPT09ZS5zb3VyY2U/cFsiZWlkX2lkNS1zeW5jLmNvbSJdPSIiLmNvbmNhdChlLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoZS51aWRzWzBdLmF0eXBlLCJeIikuY29uY2F0KGUudWlkc1swXS5leHQmJmUudWlkc1swXS5leHQubGlua1R5cGV8fCIiKTpwWyJlaWRfIi5jb25jYXQoZS5zb3VyY2UpXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZXx8IiIpLCFwLnBwdWlkKXt2YXIgcj1jKCkoZS51aWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5leHQmJiJwcHVpZCI9PT1lLmV4dC5zdHlwZX0pKTtyJiZyLmlkJiYocC5wcHVpZD1yLmlkKX19Y2F0Y2gocil7bi5sb2dXYXJuKCJSdWJpY29uOiBlcnJvciByZWFkaW5nIGVpZDoiLGUscil9fSkpLHIuZ2RwckNvbnNlbnQmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocC5nZHByPU51bWJlcihyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSkscC5nZHByX2NvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyLnVzcENvbnNlbnQmJihwLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KHIudXNwQ29uc2VudCkpLHAucnBfbWF4Ymlkcz1yLmJpZExpbWl0fHwxLEMoZSxhLmIscCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocC5jb3BwYT0xKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJihwLnJwX3NjaGFpbj1fLnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKSkscH0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIVUoZSkpcmV0dXJuIiI7dmFyIHI9ZS52ZXIsdD1lLmNvbXBsZXRlLG49ZS5ub2RlcztyZXR1cm4iIi5jb25jYXQociwiLCIpLmNvbmNhdCh0LCIhIikuY29uY2F0KF8uc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhuKSl9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIHI9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlW3JdfHwiIil9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZFJlcXVlc3Q7aWYoIShlPWUuYm9keSl8fCJvYmplY3QiIT09YihlKSlyZXR1cm5bXTtpZihlLnNlYXRiaWQpe3ZhciBpPW4uZGVlcEFjY2VzcyhlLCJleHQuZXJyb3JzLnJ1Ymljb24iKTtBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZuLmxvZ1dhcm4oIlJ1Ymljb246IEVycm9yIGluIHZpZGVvIHJlc3BvbnNlIik7dmFyIG89W107cmV0dXJuIGUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihyKXsoci5iaWR8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihpKXt2YXIgcz17cmVxdWVzdElkOnQuYmlkSWQsY3VycmVuY3k6ZS5jdXJ8fCJVU0QiLGNyZWF0aXZlSWQ6aS5jcmlkLGNwbTppLnByaWNlfHwwLGJpZGRlckNvZGU6ci5zZWF0LHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PXgubmV0UmV2ZW51ZSx3aWR0aDppLnd8fG4uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLnciKXx8bi5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCIpLGhlaWdodDppLmh8fG4uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLmgiKXx8bi5kZWVwQWNjZXNzKHQsInBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQiKX07aS5pZCYmKHMuc2VhdEJpZElkPWkuaWQpLGkuZGVhbGlkJiYocy5kZWFsSWQ9aS5kZWFsaWQpLGkuYWRvbWFpbiYmbi5kZWVwU2V0VmFsdWUocywibWV0YS5hZHZlcnRpc2VyRG9tYWlucyIsQXJyYXkuaXNBcnJheShpLmFkb21haW4pP2kuYWRvbWFpbjpbaS5hZG9tYWluXSksbi5kZWVwQWNjZXNzKGksImV4dC5iaWRkZXIucnAuYWR2aWQiKSYmbi5kZWVwU2V0VmFsdWUocywibWV0YS5hZHZlcnRpc2VySWQiLGkuZXh0LmJpZGRlci5ycC5hZHZpZCk7dmFyIGM9bi5kZWVwQWNjZXNzKGUsImV4dC5yZXNwb25zZXRpbWVtaWxsaXMucnViaWNvbiIpO2lmKHQmJmMmJih0LnNlcnZlclJlc3BvbnNlVGltZU1zPWMpLG4uZGVlcEFjY2VzcyhpLCJleHQucHJlYmlkLnR5cGUiKT09PWEuZCl7cy5tZWRpYVR5cGU9YS5kLG4uZGVlcFNldFZhbHVlKHMsIm1ldGEubWVkaWFUeXBlIixhLmQpO3ZhciB1PW4uZGVlcEFjY2VzcyhpLCJleHQucHJlYmlkLnRhcmdldGluZyIpO3UmJiJvYmplY3QiPT09Yih1KSYmKHMuYWRzZXJ2ZXJUYXJnZXRpbmc9dSksaS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PWIoaS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KHMudmlkZW9DYWNoZUtleT1pLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLHMudmFzdFVybD1pLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOnUmJnUuaGJfdXVpZCYmdS5oYl9jYWNoZV9ob3N0JiZ1LmhiX2NhY2hlX3BhdGgmJihzLnZpZGVvQ2FjaGVLZXk9dS5oYl91dWlkLHMudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdCh1LmhiX2NhY2hlX2hvc3QpLmNvbmNhdCh1LmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdCh1LmhiX3V1aWQpKSxpLmFkbSYmKHMudmFzdFhtbD1pLmFkbSksaS5udXJsJiYocy52YXN0VXJsPWkubnVybCksIXMudmFzdFVybCYmaS5udXJsJiYocy52YXN0VXJsPWkubnVybCksIm91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikudG9Mb3dlckNhc2UoKSYmKHMucmVuZGVyZXI9ZnVuY3Rpb24oZSl7dmFyIHI9ZC5hLmluc3RhbGwoe2lkOmUuYWRJZCx1cmw6eC5yZW5kZXJlclVybHx8eSxjb25maWc6eC5yZW5kZXJlckNvbmZpZ3x8e30sbG9hZGVkOiExLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKGopfWNhdGNoKGUpe24ubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0ocykpfWVsc2Ugbi5sb2dXYXJuKCJSdWJpY29uOiB2aWRlbyByZXNwb25zZSByZWNlaXZlZCBub24tdmlkZW8gbWVkaWEgdHlwZSIpO28ucHVzaChzKX0pKX0pKSxvfXZhciBzLGM9ZS5hZHMsdT0wO3JldHVybiJvYmplY3QiIT09Yih0KXx8QXJyYXkuaXNBcnJheSh0KXx8InZpZGVvIiE9PXcodCl8fCJvYmplY3QiIT09YihjKXx8KGM9Y1t0LmFkVW5pdENvZGVdKSwhQXJyYXkuaXNBcnJheShjKXx8Yy5sZW5ndGg8MT9bXTpjLnJlZHVjZSgoZnVuY3Rpb24ocixpLG8pe2lmKGkuaW1wcmVzc2lvbl9pZCYmcz09PWkuaW1wcmVzc2lvbl9pZD91Kys6cz1pLmltcHJlc3Npb25faWQsIm9rIiE9PWkuc3RhdHVzKXJldHVybiByO3ZhciBjLGQscD1BcnJheS5pc0FycmF5KHQpP3Rbby11XTp0O2lmKHAmJiJvYmplY3QiPT09YihwKSl7dmFyIGw9e3JlcXVlc3RJZDpwLmJpZElkLGN1cnJlbmN5OiJVU0QiLGNyZWF0aXZlSWQ6aS5jcmVhdGl2ZV9pZHx8IiIuY29uY2F0KGkubmV0d29ya3x8IiIsIi0iKS5jb25jYXQoaS5hZHZlcnRpc2VyfHwiIiksY3BtOmkuY3BtfHwwLGRlYWxJZDppLmRlYWwsdHRsOjMwMCxuZXRSZXZlbnVlOiExIT09eC5uZXRSZXZlbnVlLHJ1Ymljb246e2FkdmVydGlzZXJJZDppLmFkdmVydGlzZXIsbmV0d29ya0lkOmkubmV0d29ya30sbWV0YTp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrLG1lZGlhVHlwZTphLmJ9fTtpZihpLmNyZWF0aXZlX3R5cGUmJihsLm1lZGlhVHlwZT1pLmNyZWF0aXZlX3R5cGUpLGkuYWRvbWFpbiYmKGwubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1BcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxpLmNyZWF0aXZlX3R5cGU9PT1hLmQpbC53aWR0aD1wLnBhcmFtcy52aWRlby5wbGF5ZXJXaWR0aCxsLmhlaWdodD1wLnBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQsbC52YXN0VXJsPWkuY3JlYXRpdmVfZGVwb3RfdXJsLGwuaW1wcmVzc2lvbl9pZD1pLmltcHJlc3Npb25faWQsbC52aWRlb0NhY2hlS2V5PWkuaW1wcmVzc2lvbl9pZDtlbHNle2wuYWQ9KGM9aS5zY3JpcHQsZD1pLmltcHJlc3Npb25faWQsIjxodG1sPlxuPGhlYWQ+PHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPmluRGFwSUY9dHJ1ZTs8XC9zY3JpcHQ+PC9oZWFkPlxuPGJvZHkgc3R5bGU9J21hcmdpbiA6IDA7IHBhZGRpbmc6IDA7Jz5cblx4M2MhLS0gUnViaWNvbiBQcm9qZWN0IEFkIFRhZyAtLVx4M2VcbjxkaXYgZGF0YS1ycC1pbXByZXNzaW9uLWlkPSciLmNvbmNhdChkLCInPlxuPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPiIpLmNvbmNhdChjLCI8XC9zY3JpcHQ+XG48L2Rpdj5cbjwvYm9keT5cbjwvaHRtbD4iKSk7dmFyIGY9bShoW2kuc2l6ZV9pZF0uc3BsaXQoIngiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSksMik7bC53aWR0aD1mWzBdLGwuaGVpZ2h0PWZbMV19bC5ydWJpY29uVGFyZ2V0aW5nPShBcnJheS5pc0FycmF5KGkudGFyZ2V0aW5nKT9pLnRhcmdldGluZzpbXSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlW3Iua2V5XT1yLnZhbHVlc1swXSxlfSkse3JwZmxfZWxlbWlkOnAuYWRVbml0Q29kZX0pLHIucHVzaChsKX1lbHNlIG4ubG9nRXJyb3IoIlJ1Ymljb246IGJpZFJlcXVlc3QgdW5kZWZpbmVkIGF0IGluZGV4IHBvc2l0aW9uOiIuY29uY2F0KG8pLHQsZSk7cmV0dXJuIHJ9KSxbXSkuc29ydCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4oci5jcG18fDApLShlLmNwbXx8MCl9KSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXtpZighTiYmZS5pZnJhbWVFbmFibGVkKXt2YXIgaT0iIjtyZXR1cm4gdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP2krPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6aSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksbiYmKGkrPSIiLmNvbmNhdChpPyImIjoiPyIsInVzX3ByaXZhY3k9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChuKSkpLE49ITAse3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovLyIuY29uY2F0KHguc3luY0hvc3R8fCJldXMiLCIucnViaWNvbnByb2plY3QuY29tL3VzeW5jLmh0bWwiKStpfX19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBuLmNvbnZlcnRUeXBlcyh7YWNjb3VudElkOiJudW1iZXIiLHNpdGVJZDoibnVtYmVyIix6b25lSWQ6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gQShlLHIpe3ZhciB0PW8uYi5nZXRDb25maWcoInBhZ2VVcmwiKTtyZXR1cm4gZS5wYXJhbXMucmVmZXJyZXI/dD1lLnBhcmFtcy5yZWZlcnJlcjp0fHwodD1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGUucGFyYW1zLnNlY3VyZT90LnJlcGxhY2UoL15odHRwOi9pLCJodHRwczoiKTp0fWZ1bmN0aW9uIGooZSl7dmFyIHIsdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpOyhyPXQucXVlcnlTZWxlY3RvcigiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpJiZyLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3ZhciByPWUucXVlcnlTZWxlY3Rvcigic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIiksdD1yJiZyLm5leHRTaWJsaW5nO3QmJiJpZnJhbWUiPT09dC5sb2NhbE5hbWUmJnQuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9KHQpO3ZhciBuPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5NYWduaXRlQXBleC5yZW5kZXJBZCh7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFVybDplLnZhc3RVcmwscGxhY2VtZW50OnthdHRhY2hUbzoiIyIuY29uY2F0KGUuYWRVbml0Q29kZSksYWxpZ246bi5hbGlnbnx8ImNlbnRlciIscG9zaXRpb246bi5wb3NpdGlvbnx8ImFwcGVuZCJ9LGNsb3NlQnV0dG9uOm4uY2xvc2VCdXR0b258fCExLGxhYmVsOm4ubGFiZWx8fHZvaWQgMCxjb2xsYXBzZTpuLmNvbGxhcHNlfHwhMH0pfSkpfWZ1bmN0aW9uIFMoZSxyKXt2YXIgdD1lLnBhcmFtcztpZigidmlkZW8iPT09cil7dmFyIGk9W107cmV0dXJuIHQudmlkZW8mJnQudmlkZW8ucGxheWVyV2lkdGgmJnQudmlkZW8ucGxheWVySGVpZ2h0P2k9W3QudmlkZW8ucGxheWVyV2lkdGgsdC52aWRlby5wbGF5ZXJIZWlnaHRdOkFycmF5LmlzQXJyYXkobi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKSYmMT09PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLmxlbmd0aD9pPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJmUuc2l6ZXMubGVuZ3RoPjAmJkFycmF5LmlzQXJyYXkoZS5zaXplc1swXSkmJmUuc2l6ZXNbMF0ubGVuZ3RoPjEmJihpPWUuc2l6ZXNbMF0pLGl9dmFyIG89W107cmV0dXJuIEFycmF5LmlzQXJyYXkodC5zaXplcyk/bz10LnNpemVzOnZvaWQgMCE9PW4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpP289SShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTpBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiZlLnNpemVzLmxlbmd0aD4wP289SShlLnNpemVzKTpuLmxvZ1dhcm4oIlJ1Ymljb246IG5vIHNpemVzIGFyZSBzZXR1cCBvciBmb3VuZCIpLFIobyl9ZnVuY3Rpb24gQyhlLHIsdCl7dmFyIGk9e3VzZXI6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLnZpc2l0b3IpfX0sc2l0ZTp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMuaW52ZW50b3J5KX19fTtlLnBhcmFtcy5rZXl3b3JkcyYmKGkuc2l0ZS5rZXl3b3Jkcz1uLmlzQXJyYXkoZS5wYXJhbXMua2V5d29yZHMpP2UucGFyYW1zLmtleXdvcmRzLmpvaW4oIiwiKTplLnBhcmFtcy5rZXl3b3Jkcyk7dmFyIHM9bi5tZXJnZURlZXAoe30sby5iLmdldENvbmZpZygib3J0YjIiKXx8e30saSksYz1uLmRlZXBBY2Nlc3MoZS5vcnRiMkltcCwiZXh0LmRhdGEiKXx8e30sZD17dXNlcjpbNF0sc2l0ZTpbMSwyLDUsNl19LHU9e3VzZXI6InRnX3YuIixzaXRlOiJ0Z19pLiIsYWRzZXJ2ZXI6InRnX2kuZGZwX2FkX3VuaXRfY29kZSIscGJhZHNsb3Q6InRnX2kucGJhZHNsb3QiLGtleXdvcmRzOiJrdyJ9LHA9ZnVuY3Rpb24oZSxyLHQpe2lmKCJkYXRhIj09PXImJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50JiZuLmRlZXBBY2Nlc3MoZSwiZXh0LnNlZ3RheCIpJiZkW3RdJiYtMSE9PWRbdF0uaW5kZXhPZihuLmRlZXBBY2Nlc3MoZSwiZXh0LnNlZ3RheCIpKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUuc2VnbWVudC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5wdXNoKHIuaWQpLGV9KSxbXSk7aWYoci5sZW5ndGg+MClyZXR1cm4gci50b1N0cmluZygpfSkpLnRvU3RyaW5nKCk7aWYoIm9iamVjdCIhPT1iKGUpfHxBcnJheS5pc0FycmF5KGUpKXtpZih2b2lkIDAhPT1lKXJldHVybiBBcnJheS5pc0FycmF5KGUpP2UuZmlsdGVyKChmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PWIoZSkmJnZvaWQgMCE9PWUpcmV0dXJuIGUudG9TdHJpbmcoKTtuLmxvZ1dhcm4oIlJ1Ymljb246IEZpbHRlcmVkIHZhbHVlOiAiLGUsImZvciBrZXkiLHIsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0pKS50b1N0cmluZygpOmUudG9TdHJpbmcoKX1lbHNlIG4ubG9nV2FybigiUnViaWNvbjogRmlsdGVyZWQgRlBEIGtleTogIixyLCI6IEV4cGVjdGVkIHZhbHVlIHRvIGJlIHN0cmluZywgaW50ZWdlciwgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncy9pbnRzIil9LGY9ZnVuY3Rpb24oZSxyLG4pe3ZhciBpPSEoYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10pfHxhcmd1bWVudHNbM10sbz1wKGUsbixyKSxhPXVbbl0mJmk/IiIuY29uY2F0KHVbbl0pOiJkYXRhIj09PW4/IiIuY29uY2F0KHVbcl0sImlhYiIpOiIiLmNvbmNhdCh1W3JdKS5jb25jYXQobik7dFthXT10W2FdP3RbYV0uY29uY2F0KCIsIixvKTpvfTtPYmplY3Qua2V5cyhjKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtjW2VdW3JdJiYoY1tlXVtyXT1jW2VdW3JdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKToicGJhZHNsb3QiPT09ZSYmKGNbZV09Y1tlXS50b1N0cmluZygpLnJlcGxhY2UoL15cLysvLCIiKSl9KSkscj09PWEuYj8oWyJzaXRlIiwidXNlciJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKHNbZV0pLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJzaXRlIj09PWUmJiJjb250ZW50Ij09PXImJnNbZV1bcl0uZGF0YT9mKHNbZV1bcl0uZGF0YSxlLCJkYXRhIik6ImV4dCIhPT1yP2Yoc1tlXVtyXSxlLHIpOnNbZV1bcl0uZGF0YSYmT2JqZWN0LmtleXMoc1tlXS5leHQuZGF0YSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZihzW2VdLmV4dC5kYXRhW3JdLGUsciwhMSl9KSl9KSl9KSksT2JqZWN0LmtleXMoYykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ImFkc2VydmVyIj09PWU/ZihjW2VdLmFkc2xvdCxuYW1lLGUpOmYoY1tlXSwic2l0ZSIsZSl9KSkpOihPYmplY3Qua2V5cyhjKS5sZW5ndGgmJm4ubWVyZ2VEZWVwKHQuaW1wWzBdLmV4dCx7ZGF0YTpjfSksbi5tZXJnZURlZXAodCxzKSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gbi5wYXJzZVNpemVzSW5wdXQoZSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PXBhcnNlSW50KGhbcl0sMTApO3JldHVybiB0JiZlLnB1c2godCksZX0pLFtdKX1mdW5jdGlvbiBPKGUpe3JldHVybiJvYmplY3QiPT09YihuLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIikpJiZ2b2lkIDAhPT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQpKX1mdW5jdGlvbiB3KGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIE8oZSk/LTE9PT1bIm91dHN0cmVhbSIsImluc3RyZWFtIl0uaW5kZXhPZihuLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQsIi5jb250ZXh0IikpKT92b2lkKHImJm4ubG9nRXJyb3IoIlJ1Ymljb246IG1lZGlhVHlwZXMudmlkZW8uY29udGV4dCBtdXN0IGJlIG91dHN0cmVhbSBvciBpbnN0cmVhbSIpKTpTKGUsInZpZGVvIikubGVuZ3RoPDI/dm9pZChyJiZuLmxvZ0Vycm9yKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBwbGF5ZXJTaXplIG9mIHRoZSB2aWRlbyIpKToociYmbi5sb2dNZXNzYWdlKCJSdWJpY29uOiBtYWtpbmcgdmlkZW8gcmVxdWVzdCBmb3IgYWRVbml0IixlLmFkVW5pdENvZGUpLCJ2aWRlbyIpOjA9PT1TKGUsImJhbm5lciIpLmxlbmd0aD92b2lkKHImJm4ubG9nRXJyb3IoIlJ1Ymljb246IGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIHNpemVzIGZvciBiYW5uZXIgcmVxdWVzdCIpKToociYmbi5sb2dNZXNzYWdlKCJSdWJpY29uOiBtYWtpbmcgYmFubmVyIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwiYmFubmVyIil9dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4geD17fX07ZnVuY3Rpb24gUihlKXt2YXIgcj1bMTUsMiw5XTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciBuPXIuaW5kZXhPZihlKSxpPXIuaW5kZXhPZih0KTtyZXR1cm4gbj4tMXx8aT4tMT8tMT09PW4/MTotMT09PWk/LTE6bi1pOmUtdH0pKX1mdW5jdGlvbiB6KGUpe3ZhciByPXBhcnNlSW50KG4uZGVlcEFjY2VzcyhlLCJwYXJhbXMudmlkZW8uc2l6ZV9pZCIpKTtyZXR1cm4gaXNOYU4ocik/Im91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQsIi5jb250ZXh0IikpPzIwMzoyMDE6cn1mdW5jdGlvbiBUKGUpe3JldHVybntyYW5nZXM6e2xvdzpbe21heDo1LGluY3JlbWVudDouNX1dLG1lZGl1bTpbe21heDoyMCxpbmNyZW1lbnQ6LjF9XSxoaWdoOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XSxhdXRvOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21pbjo1LG1heDoxMCxpbmNyZW1lbnQ6LjF9LHttaW46MTAsbWF4OjIwLGluY3JlbWVudDouNX1dLGRlbnNlOlt7bWF4OjMsaW5jcmVtZW50Oi4wMX0se21pbjozLG1heDo4LGluY3JlbWVudDouMDV9LHttaW46OCxtYXg6MjAsaW5jcmVtZW50Oi41fV0sY3VzdG9tOmUuZ2V0Q29uZmlnKCJjdXN0b21QcmljZUJ1Y2tldCIpJiZlLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKS5idWNrZXRzfVtlLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpXX19ZnVuY3Rpb24gRShlKXt2YXIgcj0hMCx0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChbXSksaT17bWltZXM6dCxwcm90b2NvbHM6dCxsaW5lYXJpdHk6T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKDApLGFwaTp0fTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLiIrdCkpIT09aVt0XSYmKHI9ITEsbi5sb2dFcnJvcigiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby4iK3QrIiBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBvZiB0eXBlOiAiK2lbdF0pKX0pKSxyfWZ1bmN0aW9uIFUoZSl7dmFyIHI9ITEsdD1bImFzaSIsInNpZCIsImhwIl07cmV0dXJuIGUubm9kZXM/KChyPWUubm9kZXMucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlP3QuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiByLmhhc093blByb3BlcnR5KGUpfSkpOmV9KSwhMCkpfHxuLmxvZ0Vycm9yKCJSdWJpY29uOiByZXF1aXJlZCBzY2hhaW4gcGFyYW1zIG1pc3NpbmciKSxyKTpyfWZ1bmN0aW9uIFAoZSxyKXtyZXR1cm4icnBfc2NoYWluIj09PWU/InJwX3NjaGFpbj0iLmNvbmNhdChyKToiIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfXZhciBOPSExO09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShfKX19LFs3MTldKTsKdXBianNDaHVuayhbMTI0XSx7NzI1OmZ1bmN0aW9uKG4saSxlKXtuLmV4cG9ydHM9ZSg3MjYpfSw3MjY6ZnVuY3Rpb24obixpLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5pc1NjaGFpbk9iamVjdFZhbGlkPWgsaS5pc1ZhbGlkU2NoYWluQ29uZmlnPXUsaS5tYWtlQmlkUmVxdWVzdHNIb29rPU8saS5pbml0PWw7dmFyIHQ9ZSgzKSxjPWUoOCksbz1lKDApLGE9IkludmFsaWQgc2NoYWluIG9iamVjdCBmb3VuZDogIixzPSIgc2hvdWxkIGJlIGEgc3RyaW5nIixyPSIgc2hvdWxkIGJlIGFuIEludGVnZXIiLGY9IiBzaG91bGQgYmUgYW4gb2JqZWN0IixkPXtTVFJJQ1Q6InN0cmljdCIsUkVMQVhFRDoicmVsYXhlZCIsT0ZGOiJvZmYifSxiPVtdO2Z1bmN0aW9uIGgobixpKXt2YXIgZT0iRGV0ZWN0ZWQgc29tZXRoaW5nIHdyb25nIHdpdGhpbiBhbiBzY2hhaW4gY29uZmlnOiIsdD0iIjtmdW5jdGlvbiBjKG4pe3QrPSJcbiIrbn1mdW5jdGlvbiBhKCl7ITA9PT1pP09iamVjdChvLmxvZ0Vycm9yKShlLG4sdCk6T2JqZWN0KG8ubG9nV2FybikoZSxuLHQpfWlmKCFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuKSYmKGMoInNjaGFpbi5jb25maWciK2YpLGEoKSxpKSlyZXR1cm4hMTtpZihPYmplY3Qoby5pc051bWJlcikobi5jb21wbGV0ZSkmJk9iamVjdChvLmlzSW50ZWdlcikobi5jb21wbGV0ZSl8fGMoInNjaGFpbi5jb25maWcuY29tcGxldGUiK3IpLE9iamVjdChvLmlzU3RyKShuLnZlcil8fGMoInNjaGFpbi5jb25maWcudmVyIitzKSxPYmplY3Qoby5oYXNPd24pKG4sImV4dCIpJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5leHQpfHxjKCJzY2hhaW4uY29uZmlnLmV4dCIrZikpLE9iamVjdChvLmlzQXJyYXkpKG4ubm9kZXMpKW4ubm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24obixpKXtPYmplY3Qoby5pc1N0cikobi5hc2kpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uYXNpIikrcyksT2JqZWN0KG8uaXNTdHIpKG4uc2lkKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLnNpZCIpK3MpLE9iamVjdChvLmlzTnVtYmVyKShuLmhwKSYmT2JqZWN0KG8uaXNJbnRlZ2VyKShuLmhwKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmhwIikrciksT2JqZWN0KG8uaGFzT3duKShuLCJyaWQiKSYmKE9iamVjdChvLmlzU3RyKShuLnJpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5yaWQiKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJuYW1lIikmJihPYmplY3Qoby5pc1N0cikobi5uYW1lKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLm5hbWUiKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJkb21haW4iKSYmKE9iamVjdChvLmlzU3RyKShuLmRvbWFpbil8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5kb21haW4iKStzKSksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmV4dCIpK2YpKX0pKTtlbHNlIGlmKGMoInNjaGFpbi5jb25maWcubm9kZXMgc2hvdWxkIGJlIGFuIEFycmF5IiksYSgpLGkpcmV0dXJuITE7cmV0dXJuISh0Lmxlbmd0aD4wJiYoYSgpLGkpKX1mdW5jdGlvbiB1KG4pe3JldHVybiB2b2lkIDAhPT1uJiYoISFPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuKXx8KE9iamVjdChvLmxvZ0Vycm9yKShhKyJ0aGUgZm9sbG93aW5nIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgdXNlZCBhcyBzY2hhaW4gaXMgbm90IGFuIG9iamVjdC4iLG4pLCExKSl9ZnVuY3Rpb24gTyhuLGkpe3ZhciBlPXQuYi5nZXRDb25maWcoInNjaGFpbiIpLGM9dC5iLmdldEJpZGRlckNvbmZpZygpO2kuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGk9bi5iaWRkZXJDb2RlLHQ9ZnVuY3Rpb24obil7cmV0dXJuIGNbbl0mJmNbbl0uc2NoYWlufHxlfShpKTtuLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGU9ZnVuY3Rpb24obixpKXt2YXIgZT1kLlNUUklDVDtpZih1KG4pKXtpZihPYmplY3Qoby5pc1N0cikobi52YWxpZGF0aW9uKSYmLTEhPWIuaW5kZXhPZihuLnZhbGlkYXRpb24pJiYoZT1uLnZhbGlkYXRpb24pLGU9PT1kLk9GRilyZXR1cm4gbi5jb25maWc7aWYoaChuLmNvbmZpZywhKGUhPT1kLlNUUklDVCkpKXJldHVybiBuLmNvbmZpZztPYmplY3Qoby5sb2dFcnJvcikoYSsiZHVlIHRvIHRoZSAnc3RyaWN0JyB2YWxpZGF0aW9uIHNldHRpbmcsIHRoaXMgc2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gYmlkZGVyICciLmNvbmNhdChpLCInLiAgU2VlIGFib3ZlIGVycm9yIGZvciBkZXRhaWxzLiIpKX1yZXR1cm4gbnVsbH0odCxpKTtlJiYobi5zY2hhaW49ZSl9KSl9KSksbihpKX1mdW5jdGlvbiBsKCl7Yy5kZWZhdWx0Lm1ha2VCaWRSZXF1ZXN0cy5hZnRlcihPKX1PYmplY3Qoby5fZWFjaCkoZCwoZnVuY3Rpb24obil7cmV0dXJuIGIucHVzaChuKX0pKSxsKCl9fSxbNzI1XSk7CnVwYmpzQ2h1bmsoWzEyMV0sezczMzpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzM0KX0sNzM0OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzaGFyZXRocm91Z2hJbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksci5kKHQsInNoYXJldGhyb3VnaEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgbj1yKDEpLGk9cigwKSxhPXIoMyk7ZnVuY3Rpb24gcygpe3JldHVybihzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIG89InNoYXJldGhyb3VnaCIsYz1bMSwxXSxkPXtiNjRFbmNvZGVVbmljb2RlOmwsaGFuZGxlSWZyYW1lOmZ1bmN0aW9uKCl7dmFyIGU9ITE7aWYoIXdpbmRvdy5sb2NrZWRJbkZyYW1lKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTt0LnNyYz0iaHR0cHM6Ly9uYXRpdmUuc2hhcmV0aHJvdWdoLmNvbS9hc3NldHMvc2ZwLXNldC10YXJnZXRpbmcuanMiLHQudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt0cnl7d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQodCksZT0hMH1jYXRjaChlKXtpLmxvZ0Vycm9yKCJUcm91YmxlIHdyaXRpbmcgZnJhbWUgYnVzdGVyIHNjcmlwdCwgZXJyb3IgZGV0YWlsczoiLGUpfX1pZighKGU/d2luZG93LnRvcC5TVFImJndpbmRvdy50b3AuU1RSLlRhZzp3aW5kb3cuU1RSJiZ3aW5kb3cuU1RSLlRhZykpe3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Iuc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAuanMiLHIudHlwZT0idGV4dC9qYXZhc2NyaXB0Ijt0cnl7ZT93aW5kb3cudG9wLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQocik6d2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0uYXBwZW5kQ2hpbGQocil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiVHJvdWJsZSB3cml0aW5nIHNmcCBzY3JpcHQsIGVycm9yIGRldGFpbHM6IixlKX19fSxpc0xvY2tlZEluRnJhbWU6ZnVuY3Rpb24oKXt3aW5kb3cubG9ja2VkSW5GcmFtZT0hMTt0cnl7d2luZG93LmxvY2tlZEluRnJhbWU9IXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7d2luZG93LmxvY2tlZEluRnJhbWU9ZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbn19LGdldFByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfX0scD17Y29kZTpvLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMucGtleSYmZS5iaWRkZXI9PT1vfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXt2YXIgcj17cGxhY2VtZW50X2tleTplLnBhcmFtcy5wa2V5LGJpZElkOmUuYmlkSWQsY29uc2VudF9yZXF1aXJlZDohMSxpbnN0YW50X3BsYXlfY2FwYWJsZTpmKCksaGJTb3VyY2U6InByZWJpZCIsaGJWZXJzaW9uOiI1LjExLjAiLHN0clZlcnNpb246IjMuNC4xIn0sbj1pLmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtuJiYoci5ncGlkPW4pLHMocixmdW5jdGlvbihlKXtpZighZS51c2VySWQpcmV0dXJue307dmFyIHQ9e30scj1pLmRlZXBBY2Nlc3MoZSwidXNlcklkLnRkaWQiKTtyJiYodC50dGR1aWQ9cik7dmFyIG49aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5wdWJjaWQiKXx8aS5kZWVwQWNjZXNzKGUsImNydW1icy5wdWJjaWQiKTtuJiYodC5wdWJjaWQ9bik7dmFyIGE9aS5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZGxfZW52Iik7YSYmKHQuaWRsdWlkPWEpO3ZhciBzPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQudWlkIik7aWYocyl7dC5pZDV1aWQ9e2lkOnN9O3ZhciBvPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQuZXh0LmxpbmtUeXBlIik7byYmKHQuaWQ1dWlkLmxpbmtUeXBlPW8pfXZhciBjPWkuZGVlcEFjY2VzcyhlLCJ1c2VySWQubGlwYi5saXBiaWQiKTtjJiYodC5saXVpZD1jKTtyZXR1cm4gdH0oZSkpO3ZhciBvPWQuZ2V0UHJvdG9jb2woKS5pbmRleE9mKCJodHRwIik8MDtyLnNlY3VyZT1vfHxkLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cHMiKT4tMSx0JiZ0LmdkcHJDb25zZW50JiZ0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihyLmNvbnNlbnRfc3RyaW5nPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksdCYmdC5nZHByQ29uc2VudCYmKHIuY29uc2VudF9yZXF1aXJlZD0hIXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLHQmJnQudXNwQ29uc2VudCYmKHIudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKSYmKHIuY29wcGE9ITApLGUuc2NoYWluJiYoci5zY2hhaW49SlNPTi5zdHJpbmdpZnkoZS5zY2hhaW4pKTt2YXIgYz1mdW5jdGlvbihlKXtpZihpLmlzRm4oZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiYmFubmVyIixzaXplOmUuc2l6ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9KTtpZihpLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKSYmIlVTRCI9PT10LmN1cnJlbmN5KXJldHVybiBwYXJzZUZsb2F0KHQuZmxvb3IpfXJldHVybiBudWxsfShlKTtyZXR1cm4gYyYmKHIuYmlkZmxvb3I9YyksZS5wYXJhbXMuYmFkdiYmKHIuYmFkdj1lLnBhcmFtcy5iYWR2KSxlLnBhcmFtcy5iY2F0JiYoci5iY2F0PWUucGFyYW1zLmJjYXQpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9idGxyLnNoYXJldGhyb3VnaC5jb20vV1l1MkJYdjEvdjEiLGRhdGE6cixzdHJEYXRhOntza2lwSWZyYW1lQnVzdGluZzplLnBhcmFtcy5pZnJhbWUsaWZyYW1lU2l6ZTplLnBhcmFtcy5pZnJhbWVTaXplLHNpemVzOmUuc2l6ZXN9fX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7aWYoIXJ8fCFyLmNyZWF0aXZlc3x8IXIuY3JlYXRpdmVzLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1yLmNyZWF0aXZlc1swXSxpPWM7cmV0dXJuKHQuc3RyRGF0YS5pZnJhbWVTaXplfHx0LnN0ckRhdGEuc2l6ZXMubGVuZ3RoKSYmKGk9dC5zdHJEYXRhLmlmcmFtZVNpemU/dC5zdHJEYXRhLmlmcmFtZVNpemU6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZVswXSplWzFdfXJldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gdChyKT50KGUpP3I6ZX0pKX0odC5zdHJEYXRhLnNpemVzKSksW3tyZXF1ZXN0SWQ6dC5kYXRhLmJpZElkLHdpZHRoOmlbMF0saGVpZ2h0OmlbMV0sY3BtOm4uY3BtLGNyZWF0aXZlSWQ6bi5jcmVhdGl2ZS5jcmVhdGl2ZV9rZXksZGVhbElkOm4uY3JlYXRpdmUuZGVhbF9pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6bi5jcmVhdGl2ZSYmbi5jcmVhdGl2ZS5hZG9tYWluP24uY3JlYXRpdmUuYWRvbWFpbjpbXX0sYWQ6dShyLHQpfV19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1uPyImdXNfcHJpdmFjeT0iLmNvbmNhdChuKToiIixhPVtdO3JldHVybiBlLnBpeGVsRW5hYmxlZCYmdC5sZW5ndGg+MCYmdFswXS5ib2R5JiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMmJnRbMF0uYm9keS5jb29raWVTeW5jVXJscy5mb3JFYWNoKChmdW5jdGlvbihlKXthLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZStpfSl9KSksYX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe30sb25CaWRXb246ZnVuY3Rpb24oZSl7fSxvblNldFRhcmdldGluZzpmdW5jdGlvbihlKXt9fTtmdW5jdGlvbiB1KGUsdCl7dmFyIHI9InN0cl9yZXNwb25zZV8iLmNvbmNhdCh0LmRhdGEuYmlkSWQpLG49J1xuICAgIDxkaXYgZGF0YS1zdHItbmF0aXZlLWtleT0iJy5jb25jYXQodC5kYXRhLnBsYWNlbWVudF9rZXksJyIgZGF0YS1zdHgtcmVzcG9uc2UtbmFtZT0iJykuY29uY2F0KHIsJyI+XG4gICAgPC9kaXY+XG4gICAgPHNjcmlwdD52YXIgJykuY29uY2F0KHIsJyA9ICInKS5jb25jYXQobChKU09OLnN0cmluZ2lmeShlKSksJyI8XC9zY3JpcHQ+XG4gICcpO3JldHVybiB0LnN0ckRhdGEuc2tpcElmcmFtZUJ1c3Rpbmc/bis9JzxzY3JpcHQgc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAuanMiPjxcL3NjcmlwdD4nOm4rPSJcbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgICgiLmNvbmNhdChkLmlzTG9ja2VkSW5GcmFtZS50b1N0cmluZygpLCIpKClcbiAgICAgIDxcL3NjcmlwdD5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgICgiKS5jb25jYXQoZC5oYW5kbGVJZnJhbWUudG9TdHJpbmcoKSwiKSgpXG4gICAgICA8XC9zY3JpcHQ+Iiksbn1mdW5jdGlvbiBsKGUpe3JldHVybiBidG9hKGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLChmdW5jdGlvbihlLHQpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKCIweCIrdCl9KSkpfWZ1bmN0aW9uIGYoKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCFlKXJldHVybiExO3ZhciB0PS9BbmRyb2lkL2kudGVzdChlKSxyPS9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChlKSxuPXBhcnNlSW50KCgvQ2hyb21lXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKSxpPXBhcnNlSW50KCgvQ3JpT1NcLyhbMC05XSspLy5leGVjKGUpfHxbMCwwXSlbMV0pLGE9cGFyc2VJbnQoKC9WZXJzaW9uXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKTtyZXR1cm4hISh0JiZuPj01M3x8ciYmKGE+PTEwfHxpPj01Myl8fCF0JiYhcil9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzczM10pOwp1cGJqc0NodW5rKFsxN10sezE4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7ci5iPWZ1bmN0aW9uKGUpe3ZhciByPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpaWYoInB1YlByb3ZpZGVkSWQiPT09dClyPXIuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgYT1uKGVbdF0sdCk7YSYmci5wdXNoKGEpfXJldHVybiByfSxyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gYS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24odCl7YS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmEuZGVlcEFjY2VzcyhpLHQrIi5zb3VyY2UiKSYmci5wdXNoKHtzb3VyY2U6aVt0XS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSkscn07dmFyIGE9dCgwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9YS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIG4oZSxyKXt2YXIgdD1pW3JdO2lmKHQmJmUpe3ZhciBuPXt9O24uc291cmNlPXQuc291cmNlO3ZhciBvPWEuaXNGbih0LmdldFZhbHVlKT90LmdldFZhbHVlKGUpOmU7aWYoYS5pc1N0cihvKSl7dmFyIGQ9e2lkOm8sYXR5cGU6dC5hdHlwZX07aWYoYS5pc0ZuKHQuZ2V0VWlkRXh0KSl7dmFyIHM9dC5nZXRVaWRFeHQoZSk7cyYmKGQuZXh0PXMpfWlmKG4udWlkcz1bZF0sYS5pc0ZuKHQuZ2V0RWlkRXh0KSl7dmFyIGM9dC5nZXRFaWRFeHQoZSk7YyYmKG4uZXh0PWMpfXJldHVybiBufX1yZXR1cm4gbnVsbH19LDc0NTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzQ2KX0sNzQ2OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgYT10KDApLGk9dCgyKSxuPXQoMyksbz10KDE4KSxkPXQoMSkscz17Y29kZToic21hcnRhZHNlcnZlciIsZ3ZsaWQ6NDUsYWxpYXNlczpbInNtYXJ0Il0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMucGFnZUlkJiZlLnBhcmFtcy5mb3JtYXRJZCl9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5ub2RlcylyZXR1cm4gbnVsbDt2YXIgcj1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiIiLmNvbmNhdChlLnZlciwiLCIpLmNvbmNhdChlLmNvbXBsZXRlLCIhIikrZS5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLm1hcCgoZnVuY3Rpb24ocil7cmV0dXJuIGVbcl0/ZW5jb2RlVVJJQ29tcG9uZW50KGVbcl0pOiIifSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIil9LGFkYXB0QmFubmVyU2l6ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSl9LGZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUscix0KXt2YXIgYT1yLnBsYXllclNpemVbMF07ZS5pc1ZpZGVvPSJpbnN0cmVhbSI9PT1yLmNvbnRleHQsZS5tZWRpYVR5cGU9aS5kLGUudmlkZW9EYXRhPXt2aWRlb1Byb3RvY29sOnRoaXMuZ2V0UHJvdG9jb2xGb3JWaWRlb0JpZFJlcXVlc3Qocix0KSxwbGF5ZXJXaWR0aDphWzBdLHBsYXllckhlaWdodDphWzFdLGFkQnJlYWs6dGhpcy5nZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0KHIsdCl9fSxnZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHIpe3JldHVybiB2b2lkIDAhPT1yJiZyLnByb3RvY29sP3IucHJvdG9jb2w6dm9pZCAwIT09ZSYmQXJyYXkuaXNBcnJheShlLnByb3RvY29scyk/TWF0aC5tYXguYXBwbHkoTWF0aCxlLnByb3RvY29scyk6bnVsbH0sZ2V0U3RhcnREZWxheUZvclZpZGVvQmlkUmVxdWVzdDpmdW5jdGlvbihlLHIpe2lmKHZvaWQgMCE9PXImJnIuc3RhcnREZWxheSlyZXR1cm4gci5zdGFydERlbGF5O2lmKHZvaWQgMCE9PWUpe2lmKDA9PWUuc3RhcnRkZWxheSlyZXR1cm4gMTtpZigtMT09ZS5zdGFydGRlbGF5KXJldHVybiAyO2lmKC0yPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDN9cmV0dXJuIDJ9LGNyZWF0ZVNlcnZlclJlcXVlc3Q6ZnVuY3Rpb24oZSxyKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KHZvaWQgMCE9PXI/cjoiaHR0cHM6Ly9wcmcuc21hcnRhZHNlcnZlci5jb20iKSsiL3ByZWJpZC92MSIsZGF0YTpKU09OLnN0cmluZ2lmeShlKX19LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1uLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iik7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLGkpe3ZhciBkPXtzaXRlaWQ6aS5wYXJhbXMuc2l0ZUlkLHBhZ2VpZDppLnBhcmFtcy5wYWdlSWQsZm9ybWF0aWQ6aS5wYXJhbXMuZm9ybWF0SWQsY3VycmVuY3lDb2RlOnQsYmlkZmxvb3I6aS5wYXJhbXMuYmlkZmxvb3J8fHMuZ2V0QmlkRmxvb3IoaSx0KSx0YXJnZXRpbmc6aS5wYXJhbXMudGFyZ2V0JiYiIiE9PWkucGFyYW1zLnRhcmdldD9pLnBhcmFtcy50YXJnZXQ6dm9pZCAwLGJ1aWQ6aS5wYXJhbXMuYnVJZCYmIiIhPT1pLnBhcmFtcy5idUlkP2kucGFyYW1zLmJ1SWQ6dm9pZCAwLGFwcG5hbWU6aS5wYXJhbXMuYXBwTmFtZSYmIiIhPT1pLnBhcmFtcy5hcHBOYW1lP2kucGFyYW1zLmFwcE5hbWU6dm9pZCAwLGNraWQ6aS5wYXJhbXMuY2tJZHx8MCx0YWdJZDppLmFkVW5pdENvZGUscGFnZURvbWFpbjpyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXI/ci5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMCx0cmFuc2FjdGlvbklkOmkudHJhbnNhY3Rpb25JZCx0aW1lb3V0Om4uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxiaWRJZDppLmJpZElkLHByZWJpZFZlcnNpb246IjUuMTEuMCIsc2NoYWluOnMuc2VyaWFsaXplU3VwcGx5Q2hhaW4oaS5zY2hhaW4pfTtyJiZyLmdkcHJDb25zZW50JiYoZC5hZGR0bF9jb25zZW50PXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LGQuZ2Rwcl9jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxkLmdkcHI9ci5nZHByQ29uc2VudC5nZHByQXBwbGllcyksaSYmaS51c2VySWQmJihkLmVpZHM9T2JqZWN0KG8uYikoaS51c2VySWQpKSxyJiZyLnVzcENvbnNlbnQmJihkLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KTt2YXIgYz1hLmRlZXBBY2Nlc3MoaSwibWVkaWFUeXBlcy52aWRlbyIpLHU9YS5kZWVwQWNjZXNzKGksIm1lZGlhVHlwZXMuYmFubmVyIikscD1jJiYoImluc3RyZWFtIj09PWMuY29udGV4dHx8Im91dHN0cmVhbSI9PT1jLmNvbnRleHQpO2lmKCFwJiZ1KWQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJiF1KXMuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QoZCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiZ1KXt2YXIgbD1hLmRlZXBDbG9uZShkKTtzLmZpbGxQYXlsb2FkRm9yVmlkZW9CaWRSZXF1ZXN0KGwsYyxpLnBhcmFtcy52aWRlbyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChsLGkucGFyYW1zLmRvbWFpbikpLGQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKX1lbHNlIGUucHVzaCh7fSk7cmV0dXJuIGV9KSxbXSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj1lLmJvZHk7dHJ5e2lmKG4mJiFuLmlzTm9BZCl7dmFyIG89SlNPTi5wYXJzZShyLmRhdGEpLGQ9e3JlcXVlc3RJZDpvLmJpZElkLGNwbTpuLmNwbSx3aWR0aDpuLndpZHRoLGhlaWdodDpuLmhlaWdodCxjcmVhdGl2ZUlkOm4uY3JlYXRpdmVJZCxkZWFsSWQ6bi5kZWFsSWQsY3VycmVuY3k6bi5jdXJyZW5jeSxuZXRSZXZlbnVlOm4uaXNOZXRDcG0sdHRsOm4udHRsLGRzcFBpeGVsczpuLmRzcFBpeGVscyxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW4/bi5hZG9tYWluOltdfX07by5tZWRpYVR5cGU9PT1pLmQ/KGQubWVkaWFUeXBlPWkuZCxkLnZhc3RVcmw9bi5hZFVybCxkLnZhc3RYbWw9bi5hZCxkLmNvbnRlbnQ9bi5hZCk6KGQuYWRVcmw9bi5hZFVybCxkLmFkPW4uYWQpLHQucHVzaChkKX19Y2F0Y2goZSl7YS5sb2dFcnJvcigiRXJyb3Igd2hpbGUgcGFyc2luZyBzbWFydCBzZXJ2ZXIgcmVzcG9uc2UiLGUpfXJldHVybiB0fSxnZXRCaWRGbG9vcjpmdW5jdGlvbihlLHIpe2lmKCFhLmlzRm4oZS5nZXRGbG9vcikpcmV0dXJuIDA7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6cnx8IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBhLmlzUGxhaW5PYmplY3QodCkmJiFpc05hTih0LmZsb29yKT90LmZsb29yOjB9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3ZhciB0PVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJnIubGVuZ3RoPjAmJm51bGwhPXJbMF0uYm9keS5jU3luY1VybD90LnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnJbMF0uYm9keS5jU3luY1VybH0pOmUucGl4ZWxFbmFibGVkJiZyLmxlbmd0aD4wJiZ2b2lkIDAhPT1yWzBdLmJvZHkuZHNwUGl4ZWxzJiZyWzBdLmJvZHkuZHNwUGl4ZWxzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSksdH19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs3NDVdKTsKdXBianNDaHVuayhbMTEyXSx7NzU3OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3NTgpfSw3NTg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLHIuZCh0LCJfaXNJbmJvdW5kcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksdC5fZ2V0UGxhdGZvcm09Xzt2YXIgbj1yKDEpLGk9cigwKSxzPXIoMiksYT1yKDMpLG89cigxMyksYz1yKDU2KTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxzPVtdLGE9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihzLnB1c2gobi52YWx1ZSksIXR8fHMubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe289ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gc30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB1KGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiB1KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIGI9InNvbm9iaSIsZj1PYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCksbT0iaHR0cHM6Ly9tdHJ4LmdvLnNvbm9iaS5jb20vc2JpX291dHN0cmVhbV9yZW5kZXJlci5qcyIsdj17Y29kZTpiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuYixzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlLnBhcmFtcylyZXR1cm4hMTtpZighZS5wYXJhbXMuYWRfdW5pdCYmIWUucGFyYW1zLnBsYWNlbWVudF9pZClyZXR1cm4hMTtpZighT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4hMTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpKXtpZighT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExfWVsc2UgaWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXtpZigib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITE7aWYoImluc3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpcmV0dXJuITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuYWRfdW5pdClyZXR1cm4gZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gZS5wYXJhbXMucGxhY2VtZW50X2lkfShlKTtyZXR1cm4vXltcL10/W1xkXStbW1wvXS4rW1wvXT9dPyQvLnRlc3QodCk/KHQ9Ii8iPT09dC5jaGFyQXQoMCk/dDoiLyIrdCxsKHt9LCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGUuYmlkSWQpLCIiLmNvbmNhdCh5KGUpKS5jb25jYXQoZyhlKSkuY29uY2F0KGgoZSkpKSk6L15bMC05YS1mQS1GXXsyMH0kLy50ZXN0KHQpJiYyMD09PXQubGVuZ3RoP2woe30sZS5iaWRJZCwiIi5jb25jYXQodCwifCIpLmNvbmNhdCh5KGUpKS5jb25jYXQoZyhlKSkuY29uY2F0KGgoZSkpKTp2b2lkIE9iamVjdChpLmxvZ0Vycm9yKSgiVGhlIGFkIHVuaXQgY29kZSBvciBTb25vYmkgUGxhY2VtZW50IGlkIGZvciBzbG90ICIuY29uY2F0KGUuYmlkSWQsIiBpcyBpbnZhbGlkIikpfSkpLG49e307ci5mb3JFYWNoKChmdW5jdGlvbihlKXtwKG4sZSl9KSk7dmFyIHM9e2tleV9tYWtlcjpKU09OLnN0cmluZ2lmeShuKSxyZWY6dC5yZWZlcmVySW5mby5yZWZlcmVyLHM6T2JqZWN0KGkuZ2VuZXJhdGVVVUlEKSgpLHB2OmYsdnA6XygpLGxpYl9uYW1lOiJwcmViaWQiLGxpYl92OiI1LjExLjAiLHVzOjB9O2lmKGEuYi5nZXRDb25maWcoInVzZXJTeW5jIikmJmEuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXImJihzLnVzPWEuYi5nZXRDb25maWcoInVzZXJTeW5jIikuc3luY3NQZXJCaWRkZXIpLGMuYS5jYW5CaWRkZXJSZWdpc3RlclN5bmMoImlmcmFtZSIsYik/cy5pdXM9MTpzLml1cz0wLE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKSYmKHMuaGZhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5oZmEiKSksZVswXS5wYXJhbXMucmVmZXJyZXImJihzLnJlZj1lWzBdLnBhcmFtcy5yZWZlcnJlciksdCYmdC5nZHByQ29uc2VudCYmKHMuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPyJ0cnVlIjoiZmFsc2UiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHMuY29uc2VudF9zdHJpbmc9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksZVswXS5zY2hhaW4mJihzLnNjaGFpbj1KU09OLnN0cmluZ2lmeShlWzBdLnNjaGFpbikpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZCIpJiZPYmplY3Qua2V5cyhlWzBdLnVzZXJJZCkubGVuZ3RoPjApe3ZhciBvPU9iamVjdChpLmRlZXBDbG9uZSkoZVswXS51c2VySWQpO28uaWQ1aWQmJihvLmlkNWlkPU9iamVjdChpLmRlZXBBY2Nlc3MpKG8sImlkNWlkLnVpZCIpKSxzLnVzZXJpZD1KU09OLnN0cmluZ2lmeShvKX12YXIgZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWRBc0VpZHMiKTtBcnJheS5pc0FycmF5KGQpJiZkLmxlbmd0aD4wJiYocy5laWRzPUpTT04uc3RyaW5naWZ5KGQpKTt2YXIgdT1lWzBdLnBhcmFtcy5rZXl3b3JkcztpZih1JiYocy5rdz11KSx0JiZ0LnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSwhMD09PWEuYi5nZXRDb25maWcoImNvcHBhIik/cy5jb3BwYT0xOnMuY29wcGE9MCxPYmplY3QoaS5pc0VtcHR5KShuKSlyZXR1cm4gbnVsbDt2YXIgbT0iaHR0cHM6Ly9hcGV4LmdvLnNvbm9iaS5jb20vdHJpbml0eS5qc29uIjtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmJpZF9yZXF1ZXN0X3VybCIpJiYobT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikpLHttZXRob2Q6IkdFVCIsdXJsOm0sd2l0aENyZWRlbnRpYWxzOiEwLGRhdGE6cyxiaWRkZXJSZXF1ZXN0czplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHksbj1bXSxzPXQuZGF0YS5yZWY7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhyLnNsb3RzKS5sZW5ndGh8fE9iamVjdC5rZXlzKHIuc2xvdHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBhPXIuc2xvdHNbZV0sYz1lLnNwbGl0KCJ8Iikuc2xpY2UoLTEpWzBdLHU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLmJpZElkPT09dClyZXR1cm4gZVtyXX0odC5iaWRkZXJSZXF1ZXN0cyxjKSxwPW51bGw7InZpZGVvIj09PWEuc2JpX2N0JiYocD0idmlkZW8iLCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykodSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJihwPSJvdXRzdHJlYW0iKSk7dmFyIGw9aihwLHMpO2lmKGEuc2JpX2FpZCYmYS5zYmlfbW91c2UmJmEuc2JpX3NpemUpe3ZhciBiPWQoYS5zYmlfc2l6ZS5zcGxpdCgieCIpLDIpLGY9YlswXSx2PXZvaWQgMD09PWY/MTpmLHk9YlsxXSxnPXZvaWQgMD09PXk/MTp5LGg9W107YS5zYmlfYWRvbWFpbiYmKGg9W2Euc2JpX2Fkb21haW5dKTt2YXIgTz17cmVxdWVzdElkOmMsY3BtOk51bWJlcihhLnNiaV9tb3VzZSksd2lkdGg6TnVtYmVyKHYpLGhlaWdodDpOdW1iZXIoZyksYWQ6bChyLnNiaV9kYyxhLnNiaV9haWQpLHR0bDo1MDAsY3JlYXRpdmVJZDphLnNiaV9jcmlkfHxhLnNiaV9haWQsYWlkOmEuc2JpX2FpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QiLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmh9fTtpZihhLnNiaV9kb3plciYmKE8uZGVhbElkPWEuc2JpX2RvemVyKSwidmlkZW8iPT09cClPLm1lZGlhVHlwZT0idmlkZW8iLE8udmFzdFVybD1sKHIuc2JpX2RjLGEuc2JpX2FpZCksZGVsZXRlIE8uYWQsZGVsZXRlIE8ud2lkdGgsZGVsZXRlIE8uaGVpZ2h0O2Vsc2UgaWYoIm91dHN0cmVhbSI9PT1wJiZ1KXtPLm1lZGlhVHlwZT0idmlkZW8iLE8udmFzdFVybD1sKHIuc2JpX2RjLGEuc2JpX2FpZCksTy5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPW8uYS5pbnN0YWxsKHtpZDp0LmFpZCx1cmw6bSxjb25maWc6cixsb2FkZWQ6ITEsYWRVbml0Q29kZTplfSk7dHJ5e24uc2V0UmVuZGVyKEEpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBuLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gdmlkZW8gbG9hZGVkIGV2ZW50Iil9LGVuZGVkOmZ1bmN0aW9uKCl7T2JqZWN0KGkubG9nTWVzc2FnZSkoIlNvbm9iaSBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKX19KSxufSh1LmFkVW5pdENvZGUsTyxPYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJyZW5kZXJlci5vcHRpb25zIikpO3ZhciBfPU9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInBhcmFtcy5zaXplcyIpO0FycmF5LmlzQXJyYXkoXykmJkFycmF5LmlzQXJyYXkoX1swXSkmJihfPV9bMF0pLF8mJihPLndpZHRoPV9bMF0sTy5oZWlnaHQ9X1sxXSl9bi5wdXNoKE8pfX0pKSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9W107dHJ5e2UucGl4ZWxFbmFibGVkJiZ0WzBdLmJvZHkuc2JpX3B4LmZvckVhY2goKGZ1bmN0aW9uKGUpe2kucHVzaCh7dHlwZTplLnR5cGUsdXJsOmUudXJsfSl9KSl9Y2F0Y2goZSl7fXJldHVybiBpfX07ZnVuY3Rpb24geShlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpPyIiOmUucGFyYW1zLnNpemVzP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoZS5wYXJhbXMuc2l6ZXMpLmpvaW4oIiwiKTpPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpP09iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSkuam9pbigiLCIpOmUuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnNpemVzKS5qb2luKCIsIik6dm9pZCAwfWZ1bmN0aW9uIGcoZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5mbG9vcj9lLnBhcmFtcy5mbG9vcjpudWxsO3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3kpcmV0dXJuIHQuZmxvb3I7cmV0dXJuIiJ9KGUpO3JldHVybiB0PyJ8Zj0iLmNvbmNhdCh0KToiIn1mdW5jdGlvbiBoKGUpe3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKE9iamVjdChpLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZS5hZFVuaXRDb2RlKSwiZ3B0U2xvdCIpfHxlLnBhcmFtcy5hZF91bml0O3JldHVybiB0PyJ8Z3BpZD0iLmNvbmNhdCh0KToiIn12YXIgaj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiJ2aWRlbyI9PT1lfHwib3V0c3RyZWFtIj09PWU/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiJodHRwczovLyIuY29uY2F0KGUsImFwZXguZ28uc29ub2JpLmNvbS92YXN0LnhtbD92aWQ9IikuY29uY2F0KHQsIiZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChyKSl9KHIsbix0KTonPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJysiaHR0cHM6Ly8iLmNvbmNhdChyLCJhcGV4LmdvLnNvbm9iaS5jb20vc2JpLmpzP2FpZD0iKS5jb25jYXQobiwiJmFzPW51bGwmcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpKyciPjxcL3NjcmlwdD4nfX07dmFyIE89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93O3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOk51bWJlci5NQVhfU0FGRV9JTlRFR0VSO3JldHVybiBlLmlubmVyV2lkdGg+PXQmJmUuaW5uZXJXaWR0aDxyfX07ZnVuY3Rpb24gXygpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3csdD1PKGUpLHI9e2x0Ojc2OH0sbj17bHQ6OTkyLGdlOjc2OH07cmV0dXJuIHQoMCxyLmx0KT8ibW9iaWxlIjp0KG4uZ2Usbi5sdCk/InRhYmxldCI6ImRlc2t0b3AifWZ1bmN0aW9uIEEoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3ZhciB0PWQoZS5nZXRTaXplKCkuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdLGk9bmV3IHdpbmRvdy5TYmlPdXRzdHJlYW1SZW5kZXJlcjtpLmluaXQoe3Zhc3RVcmw6ZS52YXN0VXJsLGhlaWdodDpuLHdpZHRoOnJ9KSxpLnNldFJvb3RFbGVtZW50KGUuYWRVbml0Q29kZSl9KSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzc1N10pOwp1cGJqc0NodW5rKFsxNF0sezE4OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgYT1pKGVbcl0scik7YSYmdC5wdXNoKGEpfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gYS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7YS5kZWVwQWNjZXNzKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJmEuZGVlcEFjY2VzcyhuLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6bltyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIGE9cigwKSxuPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9YS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX19O2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBpPXt9O2kuc291cmNlPXIuc291cmNlO3ZhciBvPWEuaXNGbihyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoYS5pc1N0cihvKSl7dmFyIHM9e2lkOm8sYXR5cGU6ci5hdHlwZX07aWYoYS5pc0ZuKHIuZ2V0VWlkRXh0KSl7dmFyIGM9ci5nZXRVaWRFeHQoZSk7YyYmKHMuZXh0PWMpfWlmKGkudWlkcz1bc10sYS5pc0ZuKHIuZ2V0RWlkRXh0KSl7dmFyIGQ9ci5nZXRFaWRFeHQoZSk7ZCYmKGkuZXh0PWQpfXJldHVybiBpfX1yZXR1cm4gbnVsbH19LDc2MTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzYyKX0sNzYyOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgYT1yKDApLG49cigxKSxpPXIoMyksbz1yKDIpLHM9cigxOCk7ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBhLG4saT1bXSxvPSEwLHM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKG89KGE9ci5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKGEudmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtzPSEwLG49ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgbn19cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZChlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gZChlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gZChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLGE9bmV3IEFycmF5KHQpO3I8dDtyKyspYVtyXT1lW3JdO3JldHVybiBhfXZhciB1PSJzb3J0YWJsZSIscD0iaHR0cHM6Ly9jLmRlcGxveWFkcy5jb20iO2Z1bmN0aW9uIGwoZSx0KXtyZXR1cm4gZS5yZXF1aXJlZCYmKHQucmVxdWlyZWQ9MSksdH1mdW5jdGlvbiBtKGUpe3JldHVybiBlLnd8fGUuaD97dXJsOmUudXJsLHdpZHRoOmUudyxoZWlnaHQ6ZS5ofTplLnVybH1mdW5jdGlvbiB5KGUsdCxyKXthLl9lYWNoKGUsKGZ1bmN0aW9uKGUpe2UuYm9keSYmZS5ib2R5LmV4dCYmZS5ib2R5LmV4dC5zeW5jX2RzcHMmJmUuYm9keS5leHQuc3luY19kc3BzLmxlbmd0aCYmYS5fZWFjaChlLmJvZHkuZXh0LnN5bmNfZHNwcywoZnVuY3Rpb24oZSl7ZVswXT09PXQmJmVbMV0mJnIucHVzaCh7dHlwZTp0LHVybDplWzFdfSl9KSl9KSl9ZnVuY3Rpb24gZihlKXtpZighYS5pc0ZuKGUuZ2V0Rmxvb3IpKXJldHVybiBlLnBhcmFtcy5mbG9vcj9lLnBhcmFtcy5mbG9vcjpudWxsO3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtyZXR1cm4gYS5pc1BsYWluT2JqZWN0KHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeT90LmZsb29yOm51bGx9dmFyIGI9e2NvZGU6dSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5jLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9aS5iLmdldENvbmZpZygic29ydGFibGUiKSxyPXQmJiEhdC5zaXRlSWR8fGUucGFyYW1zLnNpdGVJZCxuPWYoZSkscz0hbnx8YS5pc051bWJlcihuKSxjPSFlLnBhcmFtcy5rZXl3b3Jkc3x8YS5pc1BsYWluT2JqZWN0KGUucGFyYW1zLmtleXdvcmRzKSYmT2JqZWN0LmtleXMoZS5wYXJhbXMua2V5d29yZHMpLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4gYS5pc1N0cih0KSYmYS5pc1N0cihlLnBhcmFtcy5rZXl3b3Jkc1t0XSl9KSksZD0hZS5tZWRpYVR5cGVzfHxlLm1lZGlhVHlwZXNbby5iXXx8IShlLm1lZGlhVHlwZXNbby5jXXx8ZS5tZWRpYVR5cGVzW28uZF0pLHU9ZD9hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlLiIuY29uY2F0KG8uYiwiLnNpemVzIikpfHxlLnNpemVzOm51bGw7cmV0dXJuISEoZS5wYXJhbXMudGFnSWQmJnImJnMmJmMmJighZHx8dSYmdS5sZW5ndGg+MCYmdS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIDI9PWUubGVuZ3RoJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gYS5pc051bWJlcihlKX0pKX0pKSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9KGkuYi5nZXRDb25maWcoInNvcnRhYmxlIil8fHt9KS5zaXRlSWQsbj1hLnBhcnNlVXJsKHQucmVmZXJlckluZm8ucmVmZXJlciksZD1hLl9tYXAoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMudGFnSWQsZXh0Ont9fSxyPWEuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uYikpLG49YS5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5jKSksaT1hLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmQpKTtpZihyfHwhbiYmIWkpe3ZhciBzPXImJnIuc2l6ZXN8fGUuc2l6ZXM7dC5iYW5uZXI9e2Zvcm1hdDphLl9tYXAocywoZnVuY3Rpb24oZSl7dmFyIHQ9YyhlLDIpO3JldHVybnt3OnRbMF0saDp0WzFdfX0pKX19aWYobiYmKHQubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PVtdLHI9ZS50aXRsZTtyJiZ0LnB1c2gobChyLHt0aXRsZTp7bGVuOnIubGVufX0pKTt2YXIgbj1lLmltYWdlO24mJnQucHVzaChsKG4se2ltZzp7dHlwZTozLHdtaW46MSxobWluOjF9fSkpO3ZhciBpPWUuaWNvbjtpJiZ0LnB1c2gobChpLHtpbWc6e3R5cGU6MSx3bWluOjEsaG1pbjoxfX0pKTt2YXIgbz1lLmJvZHk7byYmdC5wdXNoKGwobyx7ZGF0YTp7dHlwZToyfX0pKTt2YXIgcz1lLmN0YTtzJiZ0LnB1c2gobChzLHtkYXRhOnt0eXBlOjEyfX0pKTt2YXIgYz1lLnNwb25zb3JlZEJ5O3JldHVybiBjJiZ0LnB1c2gobChjLHtkYXRhOnt0eXBlOjF9fSkpLGEuX2VhY2godCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZD10fSkpLHt2ZXI6IjEiLHJlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe3ZlcjoiMSIsYXNzZXRzOnR9KX19KG4pKSxpJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0KXt2YXIgZD17cGxhY2VtZW50OjF9O2QubWltZXM9aS5taW1lc3x8W10sZC5taW5kdXJhdGlvbj1hLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLm1pbmR1cmF0aW9uIil8fDEwLGQubWF4ZHVyYXRpb249YS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlby5tYXhkdXJhdGlvbiIpfHw2MDt2YXIgdT1hLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnN0YXJ0ZGVsYXkiKTtpZihudWxsIT11JiYoZC5zdGFydGRlbGF5PXUpLGkucGxheWVyU2l6ZSYmaS5wbGF5ZXJTaXplLmxlbmd0aCl7dmFyIHA9aS5wbGF5ZXJTaXplWzBdO2Qudz1wWzBdLGQuaD1wWzFdfWkuYXBpJiYoZC5hcGk9aS5hcGkpLGkucHJvdG9jb2xzJiYoZC5wcm90b2NvbHM9aS5wcm90b2NvbHMpLGkucGxheWJhY2ttZXRob2QmJihkLnBsYXliYWNrbWV0aG9kPWkucGxheWJhY2ttZXRob2QpLHQudmlkZW89ZH12YXIgbT1mKGUpO3JldHVybiBtJiYodC5mbG9vcj1tKSxlLnBhcmFtcy5rZXl3b3JkcyYmKHQuZXh0LmtleXdvcmRzPWUucGFyYW1zLmtleXdvcmRzKSxlLnBhcmFtcy5iaWRkZXJQYXJhbXMmJmEuX2VhY2goZS5wYXJhbXMuYmlkZGVyUGFyYW1zLChmdW5jdGlvbihlLHIpe3QuZXh0W3JdPWV9KSksdH0pKSx1PXQmJnQuZ2RwckNvbnNlbnQsbT1lWzBdLnVzZXJJZCx5PU9iamVjdChzLmIpKG0pLGI9e2lkOmEuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGltcDpkLHNvdXJjZTp7ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSxyZWdzOntleHQ6e319LHNpdGU6e2RvbWFpbjpuLmhvc3RuYW1lLHBhZ2U6bi5ocmVmLHJlZjpuLmhyZWYscHVibGlzaGVyOntpZDpyfHxlWzBdLnBhcmFtcy5zaXRlSWR9LGRldmljZTp7dzpzY3JlZW4ud2lkdGgsaDpzY3JlZW4uaGVpZ2h0fX0sdXNlcjp7ZXh0Ont9fX07cmV0dXJuIHQmJnQudGltZW91dD4wJiYoYi50bWF4PXQudGltZW91dCksdSYmKGIudXNlcj17ZXh0Ontjb25zZW50OnUuY29uc2VudFN0cmluZ319LCJib29sZWFuIj09dHlwZW9mIHUuZ2RwckFwcGxpZXMmJihiLnJlZ3MuZXh0LmdkcHI9dS5nZHByQXBwbGllcz8xOjApKSx5Lmxlbmd0aCYmKGIudXNlci5leHQuZWlkcz15KSx0LnVzcENvbnNlbnQmJihiLnJlZ3MuZXh0LnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSx7bWV0aG9kOiJQT1NUIix1cmw6IiIuY29uY2F0KHAsIi9vcGVucnRiMi9hdWN0aW9uP3NyYz1wcmViaWRfcHJlYmlkXzUuMTEuMCZob3N0PSIpLmNvbmNhdChuLmhvc3RuYW1lKSxkYXRhOkpTT04uc3RyaW5naWZ5KGIpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkLGk9W107cmV0dXJuIHImJm4mJmEuX2VhY2gobiwoZnVuY3Rpb24oZSl7YS5fZWFjaChlLmJpZCwoZnVuY3Rpb24oZSl7dmFyIHQ9e3JlcXVlc3RJZDplLmltcGlkLGNwbTpwYXJzZUZsb2F0KGUucHJpY2UpLHdpZHRoOnBhcnNlSW50KGUudyksaGVpZ2h0OnBhcnNlSW50KGUuaCksY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOm8uYix0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O2lmKGUuYWRtKXt2YXIgcj1hLmRlZXBBY2Nlc3MoZSwiZXh0LmFkX2Zvcm1hdCIpO2lmKCJuYXRpdmUiPT09cil7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDt0cnl7dD1KU09OLnBhcnNlKGUpfWNhdGNoKGUpe2EubG9nRXJyb3IoIlNvcnRhYmxlIGJpZCBhZGFwdGVyIHVuYWJsZSB0byBwYXJzZSBuYXRpdmUgYmlkIHJlc3BvbnNlOlxuXG4iK2UpfXJldHVybiB0JiZ0Lm5hdGl2ZX0oZS5hZG0pO2lmKCFuKXJldHVybjt0Lm1lZGlhVHlwZT1vLmMsdC5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIGUubGluayYmKHQuY2xpY2tVcmw9ZS5saW5rLnVybCksYS5fZWFjaChlLmFzc2V0cywoZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2UgMTp0LnRpdGxlPWUudGl0bGUudGV4dDticmVhaztjYXNlIDI6dC5pbWFnZT1tKGUuaW1nKTticmVhaztjYXNlIDM6dC5pY29uPW0oZS5pbWcpO2JyZWFrO2Nhc2UgNDp0LmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTp0LmN0YT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnQuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlfX0pKSx0fShuKX1lbHNlImluc3RyZWFtIj09PXI/KHQubWVkaWFUeXBlPW8uZCx0LnZhc3RYbWw9ZS5hZG0pOih0Lm1lZGlhVHlwZT1vLmIsdC5hZD1lLmFkbSxlLm51cmwmJih0LmFkKz1hLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKGRlY29kZVVSSUNvbXBvbmVudChlLm51cmwpKSkpfWVsc2UgZS5udXJsJiYodC5hZFVybD1lLm51cmwpO2UuZXh0JiYodC5zb3J0YWJsZT1lLmV4dCksaS5wdXNoKHQpfSkpfSkpLGl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJnkodCwiaWZyYW1lIixyKSxlLnBpeGVsRW5hYmxlZCYmeSh0LCJpbWFnZSIscikscn0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe2ZldGNoKCIiLmNvbmNhdChwLCIvcHJlYmlkL3RpbWVvdXQiKSx7bWV0aG9kOiJQT1NUIixib2R5OkpTT04uc3RyaW5naWZ5KGUpLG1vZGU6Im5vLWNvcnMiLGhlYWRlcnM6bmV3IEhlYWRlcnMoeyJDb250ZW50LVR5cGUiOiJ0ZXh0L3BsYWluIn0pfSl9fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoYil9fSxbNzYxXSk7CnVwYmpzQ2h1bmsoWzEyXSx7MTg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBpPWEoZVtyXSxyKTtpJiZ0LnB1c2goaSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmaS5kZWVwQWNjZXNzKG4scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpuW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgaT1yKDApLG49e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1pLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gYShlLHQpe3ZhciByPW5bdF07aWYociYmZSl7dmFyIGE9e307YS5zb3VyY2U9ci5zb3VyY2U7dmFyIG89aS5pc0ZuKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihpLmlzU3RyKG8pKXt2YXIgZD17aWQ6byxhdHlwZTpyLmF0eXBlfTtpZihpLmlzRm4oci5nZXRVaWRFeHQpKXt2YXIgdT1yLmdldFVpZEV4dChlKTt1JiYoZC5leHQ9dSl9aWYoYS51aWRzPVtkXSxpLmlzRm4oci5nZXRFaWRFeHQpKXt2YXIgYz1yLmdldEVpZEV4dChlKTtjJiYoYS5leHQ9Yyl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sNzY1OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3NjYpfSw3NjY6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciBpPXIoMCksbj1yKDEpLGE9cigyKSxvPXIoMTgpLGQ9cigzKSx1PXtjb2RlOiJzb3ZybiIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iXSxndmxpZDoxMyxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtcy50YWdpZHx8aXNOYU4ocGFyc2VGbG9hdChlLnBhcmFtcy50YWdpZCkpfHwhaXNGaW5pdGUoZS5wYXJhbXMudGFnaWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3RyeXt2YXIgcixuLGEsdSxjPVtdLHM9W107aS5fZWFjaChlLChmdW5jdGlvbihlKXshYSYmZS51c2VySWQmJihhPU9iamVjdChvLmIpKGUudXNlcklkKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51aWRzJiZlLnVpZHNbMF0mJigiY3JpdGVvLmNvbSI9PT1lLnNvdXJjZSYmKHU9ZS51aWRzWzBdLmlkKSxzLnB1c2goe3NvdXJjZTplLnNvdXJjZSx1aWQ6ZS51aWRzWzBdLmlkfSkpfSkpLGUuc2NoYWluJiYobj1ufHxlLnNjaGFpbikscj1yfHxpLmdldEJpZElkUGFyYW1ldGVyKCJpdiIsZS5wYXJhbXMpO3ZhciB0PWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplcyxkPSh0PSh0PWkuaXNBcnJheSh0KSYmaS5pc0FycmF5KHRbMF0pP3Q6W3RdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmlzQXJyYXkoZSl9KSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19KSkscD1lLmdldEZsb29yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KTp7fTtwLmZsb29yPXAuZmxvb3J8fGkuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcyk7dmFyIGw9e2FkdW5pdGNvZGU6ZS5hZFVuaXRDb2RlLGlkOmUuYmlkSWQsYmFubmVyOntmb3JtYXQ6ZCx3OjEsaDoxfSx0YWdpZDpTdHJpbmcoaS5nZXRCaWRJZFBhcmFtZXRlcigidGFnaWQiLGUucGFyYW1zKSksYmlkZmxvb3I6cC5mbG9vcn07bC5leHQ9aS5nZXRCaWRJZFBhcmFtZXRlcigiZXh0IixlLm9ydGIySW1wKXx8dm9pZCAwO3ZhciBtPWkuZ2V0QmlkSWRQYXJhbWV0ZXIoInNlZ21lbnRzIixlLnBhcmFtcyk7bSYmKGwuZXh0PWwuZXh0fHx7fSxsLmV4dC5kZWFscz1tLnNwbGl0KCIsIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkpLGMucHVzaChsKX0pKTt2YXIgcD1pLmRlZXBDbG9uZShkLmIuZ2V0Q29uZmlnKCJvcnRiMiIpKSxsPXAuc2l0ZXx8e307bC5wYWdlPXQucmVmZXJlckluZm8ucmVmZXJlcixsLmRvbWFpbj1pLnBhcnNlVXJsKGwucGFnZSkuaG9zdG5hbWU7dmFyIG09e2lkOmkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGltcDpjLHNpdGU6bCx1c2VyOnAudXNlcnx8e319O24mJihtLnNvdXJjZT17ZXh0OntzY2hhaW46bn19KSx0LmdkcHJDb25zZW50JiYoaS5kZWVwU2V0VmFsdWUobSwicmVncy5leHQuZ2RwciIsK3QuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLGkuZGVlcFNldFZhbHVlKG0sInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmaS5kZWVwU2V0VmFsdWUobSwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSxhJiYoaS5kZWVwU2V0VmFsdWUobSwidXNlci5leHQuZWlkcyIsYSksaS5kZWVwU2V0VmFsdWUobSwidXNlci5leHQudHBpZCIscyksdSYmaS5kZWVwU2V0VmFsdWUobSwidXNlci5leHQucHJlYmlkX2NyaXRlb2lkIix1KSk7dmFyIGY9Imh0dHBzOi8vYXAubGlqaXQuY29tL3J0Yi9iaWQ/c3JjPXByZWJpZF9wcmViaWRfNS4xMS4wIjtyZXR1cm4gciYmKGYrPSImaXY9Ii5jb25jYXQocikpLHttZXRob2Q6IlBPU1QiLHVybDpmLGRhdGE6SlNPTi5zdHJpbmdpZnkobSksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19Y2F0Y2goZSl7aS5sb2dFcnJvcigiQ291bGQgbm90IGJ1aWxkIGJpZHJlcXVlc3QsIGVycm9yIGRlYXRpbHM6IixlKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keSxyPXQuaWQsbj10LnNlYXRiaWQ7dHJ5e3ZhciBvPVtdO3JldHVybiByJiZuJiZuLmxlbmd0aD4wJiZuWzBdLmJpZCYmblswXS5iaWQubGVuZ3RoPjAmJm5bMF0uYmlkLm1hcCgoZnVuY3Rpb24oZSl7by5wdXNoKHtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTphLmIsYWQ6ZGVjb2RlVVJJQ29tcG9uZW50KCIiLmNvbmNhdChlLmFkbSwnPGltZyBzcmM9IicpLmNvbmNhdChlLm51cmwsJyI+JykpLHR0bDplLmV4dCYmZS5leHQudHRsfHw5MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplJiZlLmFkb21haW4/ZS5hZG9tYWluOltdfX0pfSkpLG99Y2F0Y2goZSl7aS5sb2dFcnJvcigiQ291bGQgbm90IGludHJlcHJldCBiaWRyZXNwb25zZSwgZXJyb3IgZGVhdGlsczoiLGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3RyeXt2YXIgYT1bXTtpZih0JiYwIT09dC5sZW5ndGgpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIG89dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmRlZXBBY2Nlc3MoZSwiYm9keS5leHQuaWlkIil9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5LmV4dC5paWR9KSksZD1bXTtyJiZyLmdkcHJBcHBsaWVzJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmZC5wdXNoKFsiZ2Rwcl9jb25zZW50IixyLmNvbnNlbnRTdHJpbmddKSxuJiZkLnB1c2goWyJ1c19wcml2YWN5IixuXSksb1swXSYmKGQucHVzaChbImluZm9ybWVyIixvWzBdXSksYS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hcC5saWppdC5jb20vYmVhY29uPyIrZC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oIj0iKX0pKS5qb2luKCImIil9KSl9ZS5waXhlbEVuYWJsZWQmJnQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5kZWVwQWNjZXNzKGUsImJvZHkuZXh0LnN5bmMucGl4ZWxzIil9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJvZHkuZXh0LnN5bmMucGl4ZWxzKX0pLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVybH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gYS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKX1yZXR1cm4gYX1jYXRjaChlKXtyZXR1cm5bXX19fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikodSl9fSxbNzY1XSk7CnVwYmpzQ2h1bmsoWzk4XSx7Nzk3OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3OTgpfSw3OTg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInRyaXBsZWxpZnRBZGFwdGVyU3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSk7dmFyIG49dCgyKSxpPXQoMSksbz10KDApLHU9dCgzKTtmdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBwKGUpe3JldHVybihwPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24gZChlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9jKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7cyhlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6YyhPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBsKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBsKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBsKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGwoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn12YXIgeT0hMCxtPW51bGwsYj17Z3ZsaWQ6MjgsY29kZToidHJpcGxlbGlmdCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iLG4uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUucGFyYW1zLmludmVudG9yeUNvZGV9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD0iaHR0cHM6Ly90bHguM2xpZnQuY29tL2hlYWRlci9hdWN0aW9uPyIsbj1mdW5jdGlvbihlKXt2YXIgcj17fSx0PWVbMF0uc2NoYWluLG49ZnVuY3Rpb24oKXt2YXIgZT17fSxyPXt9LHQ9e30sbj11LmIuZ2V0TGVnYWN5RnBkKHUuYi5nZXRDb25maWcoIm9ydGIyIikpfHx7fSxpPWEoe30sbi5jb250ZXh0KSxwPWEoe30sbi51c2VyKTtTKHIsaSksUyh0LHApLG8uaXNFbXB0eShyKXx8KGUuY29udGV4dD1yKTtvLmlzRW1wdHkodCl8fChlLnVzZXI9dCk7cmV0dXJuIGV9KCk7ci5pbXA9ZS5tYXAoKGZ1bmN0aW9uKGUscil7dmFyIHQ9e2lkOnIsdGFnaWQ6ZS5wYXJhbXMuaW52ZW50b3J5Q29kZSxmbG9vcjp2KGUpfTtyZXR1cm4gZyhlKT90LnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPWQoZCh7fSxlLnBhcmFtcy52aWRlbyksZS5tZWRpYVR5cGVzLnZpZGVvKTtyLnd8fChyLnc9ci5wbGF5ZXJTaXplWzBdWzBdKTtyLmh8fChyLmg9ci5wbGF5ZXJTaXplWzBdWzFdKTsiaW5zdHJlYW0iPT09ci5jb250ZXh0JiYoci5wbGFjZW1lbnQ9MSk7cmV0dXJuIGRlbGV0ZSByLnBsYXllclNpemUscn0oZSk6ZS5tZWRpYVR5cGVzLmJhbm5lciYmKHQuYmFubmVyPXtmb3JtYXQ6TyhlLnNpemVzKX0pLG8uaXNFbXB0eShlLm9ydGIySW1wKXx8KHQuZnBkPWZ1bmN0aW9uKGUpe3ZhciByPXt9LHQ9e307Uyh0LGUuZXh0KSxvLmlzRW1wdHkodCl8fChyLmNvbnRleHQ9dCk7cmV0dXJuIHJ9KGUub3J0YjJJbXApKSx0fSkpO3ZhciBpPVtdLmNvbmNhdChmKChwPVtlWzBdXSxoKHAsInRkaWQiLCJhZHNlcnZlci5vcmciLCJURElEIikpKSxmKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUsImlkbF9lbnYiLCJsaXZlcmFtcC5jb20iLCJpZGwiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaChlLCJjcml0ZW9JZCIsImNyaXRlby5jb20iLCJjcml0ZW9JZCIpfShbZVswXV0pKSxmKGZ1bmN0aW9uKGUpe3JldHVybiBoKGUsInB1YmNpZCIsInB1YmNpZC5vcmciLCJwdWJjaWQiKX0oW2VbMF1dKSkpO3ZhciBwO2kubGVuZ3RoPjAmJihyLnVzZXI9e2V4dDp7ZWlkczppfX0pO3ZhciBjPWZ1bmN0aW9uKGUscil7dmFyIHQ9e307by5pc0VtcHR5KGUpfHwodC5zY2hhaW49ZCh7fSxlKSk7by5pc0VtcHR5KHIpfHwodC5mcGQ9ZCh7fSxyKSk7cmV0dXJuIHR9KHQsbik7by5pc0VtcHR5KGMpfHwoci5leHQ9Yyk7cmV0dXJuIHJ9KGUpO2lmKHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJsaWIiLCJwcmViaWQiKSx0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwidiIsIjUuMTEuMCIpLHImJnIucmVmZXJlckluZm8pe3ZhciBpPXIucmVmZXJlckluZm8ucmVmZXJlcjt0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwicmVmZXJyZXIiLGkpfXJldHVybiByJiZyLnRpbWVvdXQmJih0PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodCwidG1heCIsci50aW1lb3V0KSksciYmci5nZHByQ29uc2VudCYmKHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJih5PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsdD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsImdkcHIiLHkudG9TdHJpbmcoKSkpLHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKG09ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJjbXBfY3MiLG0pKSksciYmci51c3BDb25zZW50JiYodD1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHQsInVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLCEwPT09dS5iLmdldENvbmZpZygiY29wcGEiKSYmKHQ9by50cnlBcHBlbmRRdWVyeVN0cmluZyh0LCJjb3BwYSIsITApKSx0Lmxhc3RJbmRleE9mKCImIik9PT10Lmxlbmd0aC0xJiYodD10LnN1YnN0cmluZygwLHQubGVuZ3RoLTEpKSxvLmxvZ01lc3NhZ2UoInRsQ2FsbCByZXF1ZXN0IGJ1aWx0OiAiK3QpLHttZXRob2Q6IlBPU1QiLHVybDp0LGRhdGE6bixiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkZGVyUmVxdWVzdDtyZXR1cm4oZS5ib2R5LmJpZHN8fFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciB0PXt9LG49ci53aWR0aHx8MSxpPXIuaGVpZ2h0fHwxLG89ci5kZWFsX2lkfHwiIix1PXIuY3JpZHx8IiIsYT1lLmJpZHNbci5pbXBfaWRdOzAhPXIuY3BtJiZyLmFkJiYodD17cmVxdWVzdElkOmEuYmlkSWQsY3BtOnIuY3BtLHdpZHRoOm4saGVpZ2h0OmksbmV0UmV2ZW51ZTohMCxhZDpyLmFkLGNyZWF0aXZlSWQ6dSxkZWFsSWQ6byxjdXJyZW5jeToiVVNEIix0dGw6MzAwLHRsX3NvdXJjZTpyLnRsX3NvdXJjZSxtZXRhOnt9fSxnKGEpJiYodC52YXN0WG1sPXIuYWQsdC5tZWRpYVR5cGU9InZpZGVvIiksci5hZHZlcnRpc2VyX25hbWUmJih0Lm1ldGEuYWR2ZXJ0aXNlck5hbWU9ci5hZHZlcnRpc2VyX25hbWUpLHIuYWRvbWFpbiYmci5hZG9tYWluLmxlbmd0aCYmKHQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1yLmFkb21haW4pLHIudGxfc291cmNlJiYiaGR4Ij09ci50bF9zb3VyY2UmJih0Lm1ldGEubWVkaWFUeXBlPSJiYW5uZXIiKSxyLnRsX3NvdXJjZSYmInRseCI9PXIudGxfc291cmNlJiYodC5tZXRhLm1lZGlhVHlwZT0ibmF0aXZlIikpO3JldHVybiB0fSh0LGUpfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7dmFyIGk9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm4iaWZyYW1lIjtpZihlLnBpeGVsRW5hYmxlZClyZXR1cm4iaW1hZ2UifShlKTtpZihpKXt2YXIgdT0iaHR0cHM6Ly9lYjIuM2xpZnQuY29tL3N5bmM/IjtyZXR1cm4iaW1hZ2UiPT09aSYmKHU9by50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJweCIsMSksdT1vLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKHUsInNyYyIsInByZWJpZCIpKSxudWxsIT09bSYmKHU9by50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJnZHByIix5KSx1PW8udHJ5QXBwZW5kUXVlcnlTdHJpbmcodSwiY21wX2NzIixtKSksbiYmKHU9by50cnlBcHBlbmRRdWVyeVN0cmluZyh1LCJ1c19wcml2YWN5IixuKSksW3t0eXBlOmksdXJsOnV9XX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiEhZS5tZWRpYVR5cGVzLnZpZGVvJiYoISFlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0LnRvTG93ZXJDYXNlKCkpfWZ1bmN0aW9uIHYoZSl7dmFyIHI9bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOmcoZSk/InZpZGVvIjoiYmFubmVyIixzaXplOiIqIn0pOyJvYmplY3QiIT09cCh0KXx8IlVTRCIhPT10LmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHQuZmxvb3IpKXx8KHI9cGFyc2VGbG9hdCh0LmZsb29yKSl9cmV0dXJuIG51bGwhPT1yP3I6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gUyhlLHIpe28uaXNFbXB0eShyKXx8T2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24odCl7bnVsbCE9clt0XSYmKGVbdF09clt0XSl9KSl9ZnVuY3Rpb24gaChlLHIsdCxuKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiByJiZyLnVzZXJJZCYmci51c2VySWRbZV19fShyKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSkubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybntzb3VyY2U6ZSx1aWRzOlt7aWQ6dCxleHQ6e3J0aVBhcnRuZXI6cn19XX19fSh0LG4pKX1mdW5jdGlvbiBPKGUpe3JldHVybiBlLmZpbHRlcihBKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX1mdW5jdGlvbiBBKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdfU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShiKX19LFs3OTddKTsKdXBianNDaHVuayhbOTZdLHs4MDE6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDgwMil9LDgwMjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIG49dCgwKSxpPXQoMSksbz10KDEzKSxhPXQoMikscz10KDMpO2Z1bmN0aW9uIGQoZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUscil7dmFyIHQ9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT10KXJldHVybjt2YXIgbixpLG89W10sYT0hMCxzPSExO3RyeXtmb3IodD10LmNhbGwoZSk7IShhPShuPXQubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhcnx8by5sZW5ndGghPT1yKTthPSEwKTt9Y2F0Y2goZSl7cz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09dC5yZXR1cm58fHQucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fXJldHVybiBvfShlLHIpfHxsKGUscil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUpe3JldHVybih1PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGwoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP3AoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIHAoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn12YXIgZj0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixtPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIseT0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLGc9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIsYj0iUmVzcG9uc2UgaXMgZW1wdHkiLGg9IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5Iix2PSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIixTPXtjb2RlOiJ0cnVzdHgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciB0PW51bGwsaT1udWxsLG89bnVsbCxsPW51bGwscD1udWxsLGY9bnVsbCxtPW51bGwseT1udWxsLGc9bnVsbCxiPXJ8fHt9LGg9Yi5iaWRkZXJSZXF1ZXN0SWQsdj1iLmF1Y3Rpb25JZCxTPWIuZ2RwckNvbnNlbnQsdz1iLnVzcENvbnNlbnQsQT1iLnRpbWVvdXQsaj1iLnJlZmVyZXJJbmZvLEk9aj9lbmNvZGVVUklDb21wb25lbnQoai5yZWZlcmVyKToiIixFPVtdLFI9e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtofHwoaD1lLmJpZGRlclJlcXVlc3RJZCksdnx8KHY9ZS5hdWN0aW9uSWQpLHB8fChwPWUuc2NoYWluKSxmfHwoZj1lLnVzZXJJZCksbXx8KG09ZS51c2VySWRBc0VpZHMpO3ZhciByPWUucGFyYW1zLHM9ci51aWQsYz1yLmtleXdvcmRzLHk9ZS5tZWRpYVR5cGVzLGc9ZS5iaWRJZCxiPWUuYWRVbml0Q29kZSxTPWUucnRkO1JbZ109ZTt2YXIgdz1mdW5jdGlvbihlLHIpe3ZhciB0PWUudmlkZW8/InZpZGVvIjoiYmFubmVyIixuPXIucGFyYW1zLmJpZEZsb29yfHwwO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yKXt2YXIgaT1yLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6dCxzaXplOnIuc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgcj1kKGUsMik7cmV0dXJue3c6clswXSxoOnJbMV19fSkpfSk7Im9iamVjdCIhPT11KGkpfHwiVVNEIiE9PWkuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoaS5mbG9vcikpfHwobj1NYXRoLm1heChuLHBhcnNlRmxvYXQoaS5mbG9vcikpKX1yZXR1cm4gbn0oeXx8e30sZSk7aWYoUyl7dmFyIEE9Uy5qd3BsYXllciYmUy5qd3BsYXllci50YXJnZXRpbmc7QSYmKCFpJiZBLnNlZ21lbnRzJiYoaT1BLnNlZ21lbnRzKSwhbCYmQS5jb250ZW50JiYobD1BLmNvbnRlbnQpKTt2YXIgaj1TLnBfc3RhbmRhcmQmJlMucF9zdGFuZGFyZC50YXJnZXRpbmc7IW8mJmomJmouc2VnbWVudHMmJihvPWouc2VnbWVudHMpfXZhciB4PXtpZDpnLHRhZ2lkOnMudG9TdHJpbmcoKSxleHQ6e2RpdmlkOmJ9fTtpZihuLmlzRW1wdHkoYyl8fCh0fHwodD1jKSx4LmV4dC5iaWRkZXI9e2tleXdvcmRzOmN9KSx3JiYoeC5iaWRmbG9vcj13KSwheXx8eVthLmJdKXt2YXIgST1mdW5jdGlvbihlLHIpe3ZhciB0PXIuc2l6ZXN8fGUuc2l6ZXM7aWYoIXR8fCF0Lmxlbmd0aClyZXR1cm47dmFyIGk9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKGUpfSkpLG89bi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSh0WzBdKTtpLmxlbmd0aCYmKG8uZm9ybWF0PWkpO3JldHVybiBvfShlLHk/eVthLmJdOnt9KTtJJiYoeC5iYW5uZXI9SSl9aWYoeSYmeVthLmRdKXt2YXIgVD1mdW5jdGlvbihlLHIpe3ZhciB0PXIucGxheWVyU2l6ZSxpPXIubWltZXMsbz1yLmR1cmF0aW9uUmFuZ2VTZWMsYT1yLnByb3RvY29scyxzPSh0fHxlLnNpemVzfHxbXSlbMF07aWYoIXMpcmV0dXJuO3ZhciBkPW4ucGFyc2VHUFRTaW5nbGVTaXplQXJyYXlUb1J0YlNpemUocyk7aSYmKGQubWltZXM9aSk7byYmMj09PW8ubGVuZ3RoJiYoZC5taW5kdXJhdGlvbj1vWzBdLGQubWF4ZHVyYXRpb249b1sxXSk7YSYmYS5sZW5ndGgmJihkLnByb3RvY29scz1hKTtyZXR1cm4gZH0oZSx5W2EuZF0pO1QmJih4LnZpZGVvPVQpfSh4LmJhbm5lcnx8eC52aWRlbykmJkUucHVzaCh4KX0pKTt2YXIgVD17dGlkOnYsZXh0Ont3cmFwcGVyOiJQcmViaWRfanMiLHdyYXBwZXJfdmVyc2lvbjoiNS4xMS4wIn19O3AmJihULmV4dC5zY2hhaW49cCk7dmFyIE89cy5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfHxBLF89QT9NYXRoLm1pbihPLEEpOk8saz17aWQ6aCxzaXRlOntwYWdlOkl9LHRtYXg6Xyxzb3VyY2U6VCxpbXA6RX07bCYmKGsuc2l0ZS5jb250ZW50PWwpO3ZhciB6PVtdO3goImlvd19sYWJzX3B1Yl9kYXRhIiwiandwc2VnIixpLHopLHgoInBlcm11dGl2ZSIsInBfc3RhbmRhcmQiLG8seiwicGVybXV0aXZlLmNvbSIpLHoubGVuZ3RoJiYoeT17ZGF0YTp6fSksUyYmUy5jb25zZW50U3RyaW5nJiYoZz17Y29uc2VudDpTLmNvbnNlbnRTdHJpbmd9KSxtJiZtLmxlbmd0aCYmKChnPWd8fHt9KS5laWRzPWMobSkpLGcmJk9iamVjdC5rZXlzKGcpLmxlbmd0aCYmKCh5PXl8fHt9KS5leHQ9ZykseSYmKGsudXNlcj15KTt2YXIgQz1uLmRlZXBBY2Nlc3Mocy5iLmdldENvbmZpZygib3J0YjIudXNlciIpLCJrZXl3b3JkcyIpfHxudWxsLE49bi5kZWVwQWNjZXNzKHMuYi5nZXRDb25maWcoIm9ydGIyLnNpdGUiKSwia2V5d29yZHMiKXx8bnVsbDtyZXR1cm4gQyYmKCh0PXR8fHt9KS51c2VyPXQudXNlcnx8e30sdC51c2VyLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOkMuc3BsaXQoIiwiKX1dKSxOJiYoKHQ9dHx8e30pLnNpdGU9dC5zaXRlfHx7fSx0LnNpdGUub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Ti5zcGxpdCgiLCIpfV0pLHQmJih0PWZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgbj1lW3RdO2lmKG4paWYoInNpdGUiPT09dHx8InVzZXIiPT09dCl7dmFyIGk9e307T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShuW2VdKSl7dmFyIHI9W107bltlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PXUoZSkmJmUubmFtZSl7dmFyIHQ9e25hbWU6ZS5uYW1lLHNlZ21lbnRzOltdfTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihyKXtBcnJheS5pc0FycmF5KGVbcl0pJiZlW3JdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJigic3RyaW5nIj09dHlwZW9mIGU/dC5zZWdtZW50cy5wdXNoKHtuYW1lOnIsdmFsdWU6ZX0pOiJzZWdtZW50cyI9PT1yJiYic3RyaW5nIj09dHlwZW9mIGUubmFtZSYmInN0cmluZyI9PXR5cGVvZiBlLnZhbHVlJiZ0LnNlZ21lbnRzLnB1c2goZSkpfSkpfSkpLHQuc2VnbWVudHMubGVuZ3RoJiZyLnB1c2godCl9fSkpLHIubGVuZ3RoJiYoaVtlXT1yKX19KSksclt0XT1pfWVsc2Ugclt0XT1ufSkpLE9iamVjdC5rZXlzKHIpLmxlbmd0aCYmcn0odCkpJiYoay5leHQ9e2tleXdvcmRzOnR9KSxTJiZTLmdkcHJBcHBsaWVzJiYoay5yZWdzPXtleHQ6e2dkcHI6Uy5nZHByQXBwbGllcz8xOjB9fSksdyYmKGsucmVnc3x8KGsucmVncz17ZXh0Ont9fSksay5yZWdzLmV4dC51c19wcml2YWN5PXcpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9ncmlkLmJpZHN3aXRjaC5uZXQvaGJqc29uP3NwPXRydXN0eCIsZGF0YTpKU09OLnN0cmluZ2lmeShrKSxiaWRzTWFwOlJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpvLmE7ZT1lJiZlLmJvZHk7dmFyIGksYT1bXTtyZXR1cm4gZT9lLnNlYXRiaWQmJiFlLnNlYXRiaWQubGVuZ3RoJiYoaT1oKTppPWIsIWkmJmUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe0EodyhlKSxyLGEsdCl9KSksaSYmbi5sb2dFcnJvcihpKSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7aWYoZS5waXhlbEVuYWJsZWQpe3ZhciBpPXMuYi5nZXRDb25maWcoInVzZXJTeW5jLnN5bmNzUGVyQmlkZGVyIiksbz1bXTt0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/by5wdXNoKCJnZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKSk6by5wdXNoKCJnZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSkpLG4mJm8ucHVzaCgidXNfcHJpdmFjeT0iLmNvbmNhdChuKSk7dmFyIGE9by5qb2luKCImIiksZD1be3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vc29maWEudHJ1c3R4Lm9yZy9wdXNoX3N5bmMiKyhhPyI/Ii5jb25jYXQoYSk6IiIpfV07cmV0dXJuIGk+MSYmZC5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL3guYmlkc3dpdGNoLm5ldC9zeW5jP3NzcD10aGVtZWRpYWdyaWQiKyhhPyImIi5jb25jYXQoYSk6IiIpfSksZH19fTtmdW5jdGlvbiB3KGUpe3JldHVybiBlP2UuYmlkP2UuYmlkWzBdfHxuLmxvZ0Vycm9yKHkpOm4ubG9nRXJyb3IoditKU09OLnN0cmluZ2lmeShlKSk6bi5sb2dFcnJvcihnKSxlJiZlLmJpZCYmZS5iaWRbMF19ZnVuY3Rpb24gQShlLHIsdCxpKXtpZihlKXt2YXIgbztpZihlLmF1aWR8fChvPWYrSlNPTi5zdHJpbmdpZnkoZSkpLGUuYWRtKXt2YXIgcz1yLmJpZHNNYXBbZS5pbXBpZF07aWYoIW8mJnMpe3ZhciBkPXtyZXF1ZXN0SWQ6cy5iaWRJZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuYXVpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDozNjAsZGVhbElkOmUuZGVhbGlkLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbj9lLmFkb21haW46W119fTsidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KGQudmFzdFhtbD1lLmFkbSxkLm1lZGlhVHlwZT1hLmQsZC5hZFJlc3BvbnNlPXtjb250ZW50OmQudmFzdFhtbH0scy5yZW5kZXJlcnx8cy5tZWRpYVR5cGVzJiZzLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iIT09cy5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fChkLnJlbmRlcmVyPWZ1bmN0aW9uKGUscix0KXt2YXIgaT10Lmluc3RhbGwoe2lkOnIuaWQsdXJsOnIudXJsLGxvYWRlZDohMX0pO3RyeXtpLnNldFJlbmRlcihqKX1jYXRjaChlKXtuLmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIGl9KDAse2lkOnMuYmlkSWQsdXJsOiJodHRwczovL2FjZG4uYWRueHMuY29tL3ZpZGVvL291dHN0cmVhbS9BTk91dHN0cmVhbVZpZGVvLmpzIn0saSkpKTooZC5hZD1lLmFkbSxkLm1lZGlhVHlwZT1hLmIpLHQucHVzaChkKX19ZWxzZSBvPW0rSlNPTi5zdHJpbmdpZnkoZSk7byYmbi5sb2dFcnJvcihvKX19ZnVuY3Rpb24gaihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZX0pfSkpfWZ1bmN0aW9uIHgoZSxyLHQsbixpKXtpZih0JiZ0Lmxlbmd0aCluLnB1c2goe25hbWU6ZSxzZWdtZW50OnQubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTpyLHZhbHVlOmV9fSkpfSk7ZWxzZSBpZihpKXt2YXIgbz1zLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyLmRhdGEiKSxhPW51bGw7byYmby5zb21lKChmdW5jdGlvbihlKXt2YXIgcj1lLm5hbWUsdD1lLnNlZ21lbnQ7aWYocj09PWkpcmV0dXJuIGE9dCwhMH0pKSxhJiZhLmxlbmd0aCYmbi5wdXNoKHtuYW1lOmUsc2VnbWVudDphLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6cix2YWx1ZTplfX0pKX0pfX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoUyl9fSxbODAxXSk7CnVwYmpzQ2h1bmsoWzkzXSx7ODA5OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg4MTApfSw4MTA6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7ZD0hMX0sdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBvfSkpO3ZhciBzPXQoMCksaT10KDMpLHI9dCgxKSxhPSIzLjVWIixkPSExO3MubG9nTWVzc2FnZSgiSW5pdGlhbGl6aW5nIFVETSBBZGFwdGVyLiBQQkpTIFZlcnNpb246ICIuY29uY2F0KCI1LjExLjAiLCIgd2l0aCBhZGFwdGVyIHZlcnNpb246ICIpLmNvbmNhdChhLCIgIFVwZGF0ZWQgMjAxOTEwMjgiKSk7dmFyIG89e2NvZGU6InVuZGVyZG9nbWVkaWEiLGJpZFBhcmFtczpbXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJm4mJm4ubGVuZ3RoPjApfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W10saT0wO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplczt0PXMuZmxhdHRlbih0LHMucGFyc2VTaXplc0lucHV0KG4pKSxpPWUucGFyYW1zLnNpdGVJZH0pKTt2YXIgcj17dGlkOjEsZHQ6MTAsc2lkOmksc2l6ZXM6dC5qb2luKCIsIiksdmVyc2lvbjphfTtpZihuJiZuLmdkcHJDb25zZW50JiYodm9pZCAwIT09bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIuZ2RwckFwcGxpZXM9ISFuLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxuLmdkcHJDb25zZW50LnZlbmRvckRhdGEmJm4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50cyYmdm9pZCAwIT09bi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzWzE1OV0mJihyLmNvbnNlbnRHaXZlbj0hIW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldKSx2b2lkIDAhPT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihyLmNvbnNlbnREYXRhPW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLG4udXNwQ29uc2VudCYmKHIudXNwQ29uc2VudD1uLnVzcENvbnNlbnQpLCFyLmdkcHJBcHBsaWVzfHxyLmNvbnNlbnRHaXZlbilyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly91ZG1zZXJ2ZS5uZXQvdWRtL2ltZy5mZXRjaCIsZGF0YTpyLGJpZFBhcmFtczplfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsbil7aWYoIWQmJm4ubGVuZ3RoPjAmJm5bMF0uYm9keSYmblswXS5ib2R5LnVzZXJTeW5jcyYmblswXS5ib2R5LnVzZXJTeW5jcy5sZW5ndGg+MClyZXR1cm4gZD0hMCxuWzBdLmJvZHkudXNlclN5bmNzLmZpbHRlcigoZnVuY3Rpb24obil7dmFyIHQ9bi50eXBlO3JldHVybiEoIWUuaWZyYW1lRW5hYmxlZHx8ImlmcmFtZSIhPT10KXx8KCEoIWUucGl4ZWxFbmFibGVkfHwiaW1hZ2UiIT09dCl8fHZvaWQgMCl9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W107cmV0dXJuIG4uYmlkUGFyYW1zLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UuYm9keS5taWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCEoZS51c2VDb3VudD4wKSl7ZS51c2VDb3VudHx8KGUudXNlQ291bnQ9MCk7dmFyIHI9ITAsZD1uLm1lZGlhVHlwZXMmJm4ubWVkaWFUeXBlcy5iYW5uZXImJm4ubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/bi5tZWRpYVR5cGVzLmJhbm5lci5zaXplczpuLnNpemVzO2lmKHMucGFyc2VTaXplc0lucHV0KGQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe249PT1lLndpZHRoKyJ4IitlLmhlaWdodCYmKHI9ITEpfSkpLCFyKXt2YXIgcD17cmVxdWVzdElkOm4uYmlkSWQsYmlkZGVyQ29kZTpvLmNvZGUsY3BtOnBhcnNlRmxvYXQoZS5jcG0pLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGFkOmUuYWRfY29kZV9odG1sLGNyZWF0aXZlSWQ6ZS5taWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMSx0dGw6ZS50dGx8fDYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWR2ZXJ0aXNlcl9kb21haW5zfHxbXX19O3AuY3BtPD0wfHxwLmFkLmxlbmd0aDw9MHx8KGUudXNlQ291bnQrKyxwLmFkKz1mdW5jdGlvbihlLG4sdCl7dmFyIHM9bi5ub3RpZmljYXRpb25fdXJsLHI9cy5pbmRleE9mKCI7dmVyc2lvbj0iKTtyKzEmJihzPXMuc3Vic3RyaW5nKDAscikpO3MrPSI7dmVyc2lvbj0iLmNvbmNhdChhKSxzKz0iO2NiPSIrTWF0aC5yYW5kb20oKSxzKz0iO3FxcT0iKzEvZS5jcG0scys9IjtoYnQ9IitpLmIuZ2V0Q29uZmlnKCJfYmlkZGVyVGltZW91dCIpLHMrPSI7c3R5bGU9YWRhcHRlciIscys9Ijt2aXM9IitlbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKSxzKz0iO3RyYWZmaWNfaW5mbz0iK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShmdW5jdGlvbigpe2Zvcih2YXIgZSxuPXt9LHQ9d2luZG93LmxvY2F0aW9uLmhyZWYuc2xpY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiPyIpKzEpLnNwbGl0KCImIikscz0wO3M8dC5sZW5ndGg7cysrKShlPXRbc10uc3BsaXQoIj0iKSlbMF0ubWF0Y2goL151dG1fLykmJihuW2VbMF1dPWVbMV0uc3Vic3RyKDAsMTUwKSk7cmV0dXJuIG59KCkpKSx0LnBhcmFtcy5zdWJJZCYmKHMrPSI7c3ViaWQ9IitlbmNvZGVVUklDb21wb25lbnQodC5wYXJhbXMuc3ViSWQpKTtyZXR1cm4nPHNjcmlwdCBhc3luYyBzcmM9IicrcysnIj48XC9zY3JpcHQ+J30ocCxlLG4pLHQucHVzaChwKSl9fX0pKX0pKSx0fX07T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKG8pfX0sWzgwOV0pOwp1cGJqc0NodW5rKFs4XSx7MTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSlpZigicHViUHJvdmlkZWRJZCI9PT1uKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciByPWEoZVtuXSxuKTtyJiZ0LnB1c2gocil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByLmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtyLmRlZXBBY2Nlc3MoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmci5kZWVwQWNjZXNzKG8sbisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpvW25dLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgcj1uKDApLG89e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1yLnBpY2soZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfX07ZnVuY3Rpb24gYShlLHQpe3ZhciBuPW9bdF07aWYobiYmZSl7dmFyIGE9e307YS5zb3VyY2U9bi5zb3VyY2U7dmFyIGk9ci5pc0ZuKG4uZ2V0VmFsdWUpP24uZ2V0VmFsdWUoZSk6ZTtpZihyLmlzU3RyKGkpKXt2YXIgYz17aWQ6aSxhdHlwZTpuLmF0eXBlfTtpZihyLmlzRm4obi5nZXRVaWRFeHQpKXt2YXIgdT1uLmdldFVpZEV4dChlKTt1JiYoYy5leHQ9dSl9aWYoYS51aWRzPVtjXSxyLmlzRm4obi5nZXRFaWRFeHQpKXt2YXIgcz1uLmdldEVpZEV4dChlKTtzJiYoYS5leHQ9cyl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sODE5OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4MjApfSw4MjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsIlBCSlNfVVNFUl9JRF9PUFRPVVRfTkFNRSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksbi5kKHQsImNvcmVTdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQodCwic3luY0RlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4gan0pKSxuLmQodCwiYXVjdGlvbkRlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0LnNldFN1Ym1vZHVsZVJlZ2lzdHJ5PWZ1bmN0aW9uKGUpe1Y9ZX0sdC5zZXRTdG9yZWRWYWx1ZT1MLHQuc2V0U3RvcmVkQ29uc2VudERhdGE9TSx0LmZpbmRSb290RG9tYWluPUosdC5yZXF1ZXN0Qmlkc0hvb2s9JCxuLmQodCwidmFsaWRhdGVHZHByRW5mb3JjZW1lbnQiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHQuYXR0YWNoSWRTeXN0ZW09bmUsdC5pbml0PXJlO3ZhciByPW4oMTEpLG89bi5uKHIpLGE9bigzKSxpPW4oOSksYz1uLm4oaSksdT1uKDApLHM9bigxNCksZD1uKDgpLGw9big1KSxmPW4ubihsKSxnPW4oMTApLHA9bigxOCksbT1uKDcpLGI9bigxMikseT1uLm4oYik7ZnVuY3Rpb24gdihlLHQpe3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBoKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBoKGUsdCl9KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsaT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gaT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtjPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtpfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgYX19fX1mdW5jdGlvbiBoKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIEksTyxqLGssRD0iVXNlciBJRCIsRT0iY29va2llIixTPSJodG1sNSIseD0iX3BianNfdXNlcmlkX2NvbnNlbnRfZGF0YSIsQT0zMCx3PSJfcGJqc19pZF9vcHRvdXQiLEM9T2JqZWN0KG0uYSkoInVzZXJpZCIpLFU9W10sXz0hMSxQPVtdLFQ9W10sVj1bXTtmdW5jdGlvbiBMKGUsdCl7dmFyIG49ZS5jb25maWcuc3RvcmFnZSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZT9lLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZSgpOm51bGw7dHJ5e3ZhciBvPXUuaXNQbGFpbk9iamVjdCh0KT9KU09OLnN0cmluZ2lmeSh0KTp0LGE9bmV3IERhdGUoRGF0ZS5ub3coKSs4NjRlNSpuLmV4cGlyZXMpLnRvVVRDU3RyaW5nKCk7bi50eXBlPT09RT8oQy5zZXRDb29raWUobi5uYW1lLG8sYSwiTGF4IixyKSwibnVtYmVyIj09dHlwZW9mIG4ucmVmcmVzaEluU2Vjb25kcyYmQy5zZXRDb29raWUoIiIuY29uY2F0KG4ubmFtZSwiX2xhc3QiKSwobmV3IERhdGUpLnRvVVRDU3RyaW5nKCksYSwiTGF4IixyKSk6bi50eXBlPT09UyYmKEMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChuLm5hbWUsIl9leHAiKSxhKSxDLnNldERhdGFJbkxvY2FsU3RvcmFnZShuLm5hbWUsZW5jb2RlVVJJQ29tcG9uZW50KG8pKSwibnVtYmVyIj09dHlwZW9mIG4ucmVmcmVzaEluU2Vjb25kcyYmQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KG4ubmFtZSwiX2xhc3QiKSwobmV3IERhdGUpLnRvVVRDU3RyaW5nKCkpKX1jYXRjaChlKXt1LmxvZ0Vycm9yKGUpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PU9iamVjdCh1LmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zOyJmdW5jdGlvbiI9PXR5cGVvZiB0JiZ1LmlzQXJyYXkoZSkmJnQoT2JqZWN0KHAuYSkoZSkpfWZ1bmN0aW9uIHEoZSl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLHI9bj8iIi5jb25jYXQoZS5uYW1lLCJfIikuY29uY2F0KG4pOmUubmFtZTt0cnl7aWYoZS50eXBlPT09RSl0PUMuZ2V0Q29va2llKHIpO2Vsc2UgaWYoZS50eXBlPT09Uyl7dmFyIG89Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZS5uYW1lLCJfZXhwIikpOyIiPT09bz90PUMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uocik6byYmbmV3IERhdGUobykuZ2V0VGltZSgpLURhdGUubm93KCk+MCYmKHQ9ZGVjb2RlVVJJQ29tcG9uZW50KEMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UocikpKX0ic3RyaW5nIj09dHlwZW9mIHQmJiJ7Ij09PXQudHJpbSgpLmNoYXJBdCgwKSYmKHQ9SlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX1yZXR1cm4gdH1mdW5jdGlvbiBGKGUpe3ZhciB0PXtjb25zZW50U3RyaW5nOiIiLGdkcHJBcHBsaWVzOiExLGFwaVZlcnNpb246MH07cmV0dXJuIGUmJih0LmNvbnNlbnRTdHJpbmc9ZS5jb25zZW50U3RyaW5nLHQuZ2RwckFwcGxpZXM9ZS5nZHByQXBwbGllcyx0LmFwaVZlcnNpb249ZS5hcGlWZXJzaW9uKSx1LmN5cmI1M0hhc2goSlNPTi5zdHJpbmdpZnkodCkpfWZ1bmN0aW9uIE0oZSl7dHJ5e3ZhciB0PW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqQSkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZSh4LEYoZSksdCwiTGF4Iil9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX19ZnVuY3Rpb24gQigpe3RyeXtyZXR1cm4gQy5nZXRDb29raWUoeCl9Y2F0Y2goZSl7dS5sb2dFcnJvcihlKX19ZnVuY3Rpb24gUihlKXtpZihlJiYiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJBcHBsaWVzJiZlLmdkcHJBcHBsaWVzKXtpZighZS5jb25zZW50U3RyaW5nKXJldHVybiExO2lmKDE9PT1lLmFwaVZlcnNpb24mJiExPT09dS5kZWVwQWNjZXNzKGUsInZlbmRvckRhdGEucHVycG9zZUNvbnNlbnRzLjEiKSlyZXR1cm4hMTtpZigyPT09ZS5hcGlWZXJzaW9uJiYhMT09PXUuZGVlcEFjY2VzcyhlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEooKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO2lmKCFDLmNvb2tpZXNBcmVFbmFibGVkKCkpcmV0dXJuIGU7dmFyIHQsbixyPWUuc3BsaXQoIi4iKTtpZigyPT1yLmxlbmd0aClyZXR1cm4gZTt2YXIgbz0tMixhPSJfcmRjIi5jb25jYXQoRGF0ZS5ub3coKSksaT0id3JpdGVhYmxlIjtkb3t0PXIuc2xpY2Uobykuam9pbigiLiIpO3ZhciBjPW5ldyBEYXRlKHUudGltZXN0YW1wKCkrMWU0KS50b1VUQ1N0cmluZygpO0Muc2V0Q29va2llKGEsaSxjLCJMYXgiLHQsdm9pZCAwKTt2YXIgcz1DLmdldENvb2tpZShhLHZvaWQgMCk7cz09PWk/KG49ITEsQy5zZXRDb29raWUoYSwiIiwiVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQiLHZvaWQgMCx0LHZvaWQgMCkpOihvKz0tMSxuPU1hdGguYWJzKG8pPD1yLmxlbmd0aCl9d2hpbGUobik7cmV0dXJuIHR9ZnVuY3Rpb24gSChlLHQpe3ZhciBuPWZ1bmN0aW9uKCl7fTt0JiYobj11LmRlbGF5RXhlY3V0aW9uKChmdW5jdGlvbigpe2NsZWFyVGltZW91dChPKSx0KCl9KSxlLmxlbmd0aCkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjaygoZnVuY3Rpb24odCl7dD8oZS5jb25maWcuc3RvcmFnZSYmTChlLHQpLGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHQsZS5jb25maWcpKTp1LmxvZ0luZm8oIiIuY29uY2F0KEQsIjogIikuY29uY2F0KGUuc3VibW9kdWxlLm5hbWUsIiAtIHJlcXVlc3QgaWQgcmVzcG9uZGVkIHdpdGggYW4gZW1wdHkgdmFsdWUiKSksbigpfSkpLGUuY2FsbGJhY2s9dm9pZCAwfSkpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdS5pc1BsYWluT2JqZWN0KGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0LmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXQuaWRPYmpbbl19KSksZX0pLHt9KTp7fX1mdW5jdGlvbiBHKGUsdCl7W2VdLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiFBcnJheS5pc0FycmF5KGUpfHwhZS5sZW5ndGh9KSl8fGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzJiZ1LmlzQXJyYXkoZS5iaWRzKSYmKCFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZ1LmRlZXBBY2Nlc3MoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0IikmJmUuYmlkcy5wdXNoKHtiaWRkZXI6InMyc0JpZGRlclBsYWNlaG9sZGVyIn0pLGUuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmdD9lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuY29uZmlnLmJpZGRlcnN8fCF1LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycyl8fHkoKShlLmNvbmZpZy5iaWRkZXJzLHQpfHwiczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09dH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1LmlzUGxhaW5PYmplY3QoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fSh0LGUuYmlkZGVyKTtPYmplY3Qua2V5cyhuKS5sZW5ndGgmJihlLnVzZXJJZD1uLGUudXNlcklkQXNFaWRzPU9iamVjdChwLmIpKG4pKX0pKSl9KSl9ZnVuY3Rpb24gVyhlKXt2YXIgdD0hMTtpZih2b2lkIDA9PT1JJiYoST1mdW5jdGlvbihlLHQpe3ZhciBuPVkoZSx0KSxyPW4udXNlcklkTW9kdWxlcztpZighbi5oYXNWYWxpZGF0ZWQmJiFSKHQpKXJldHVybiB1LmxvZ1dhcm4oIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSksW107dmFyIG89QigpO3JldHVybiBNKHQpLHIucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBaKG4sdCxvLCExKSxlLnB1c2gobiksZX0pLFtdKX0oUCxkLmdkcHJEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpKSkubGVuZ3RoKXtOKEkpO3ZhciBuPUkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdS5pc0ZuKGUuY2FsbGJhY2spfSkpO2lmKG4ubGVuZ3RoKWlmKGUmJms+MCl7dD0hMDt2YXIgcj0hMSxvPWZ1bmN0aW9uKCl7cnx8KHI9ITAsZSgpKX07dS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSBhdWN0aW9uIGRlbGF5ZWQgYnkgIikuY29uY2F0KGssIiBhdCBtb3N0IHRvIGZldGNoIGlkcyIpKSxPPXNldFRpbWVvdXQobyxrKSxIKG4sbyl9ZWxzZSBjLmEub24oZi5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24gZSgpe2MuYS5vZmYoZi5hLkVWRU5UUy5BVUNUSU9OX0VORCxlKSxqPjA/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtIKG4pfSksaik6SChuKX0pKX1lJiYhdCYmZSgpfWZ1bmN0aW9uICQoZSx0KXtXKChmdW5jdGlvbigpe0codC5hZFVuaXRzfHxPYmplY3Qocy5hKSgpLmFkVW5pdHMsSSksZS5jYWxsKHRoaXMsdCl9KSl9ZnVuY3Rpb24gSygpe3JldHVybiBXKCkseihJKX1mdW5jdGlvbiBRKCl7cmV0dXJuIFcoKSxPYmplY3QocC5iKSh6KEkpKX1mdW5jdGlvbiBYKGUsdCl7dmFyIG49ZT9lLnN1Ym1vZHVsZU5hbWVzOm51bGw7bnx8KG49W10pLFcoKGZ1bmN0aW9uKCl7dmFyIGU9ZC5nZHByRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxyPVkoUCxlKSxvPXIudXNlcklkTW9kdWxlcztpZihyLmhhc1ZhbGlkYXRlZHx8UihlKSl7dmFyIGE9QigpO00oZSk7dmFyIGksYz1bXSxzPXYobyk7dHJ5e2ZvcihzLnMoKTshKGk9cy5uKCkpLmRvbmU7KXt2YXIgbD1pLnZhbHVlO24ubGVuZ3RoPjAmJi0xPT09bi5pbmRleE9mKGwuc3VibW9kdWxlLm5hbWUpfHwodS5sb2dJbmZvKCIiLmNvbmNhdChELCIgLSByZWZyZXNoaW5nICIpLmNvbmNhdChsLnN1Ym1vZHVsZS5uYW1lKSksWihsLGUsYSwhMCksZWUobCksSS5sZW5ndGgmJk4oSSksdS5pc0ZuKGwuY2FsbGJhY2spJiZjLnB1c2gobCkpfX1jYXRjaChlKXtzLmUoZSl9ZmluYWxseXtzLmYoKX1jLmxlbmd0aD4wJiZIKGMpLHQmJnQoKX1lbHNlIHUubG9nV2FybigiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKX0pKX12YXIgWT1PYmplY3QoZy5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJue3VzZXJJZE1vZHVsZXM6ZSxoYXNWYWxpZGF0ZWQ6dCYmdC5oYXNWYWxpZGF0ZWR9fSksInZhbGlkYXRlR2RwckVuZm9yY2VtZW50Iik7ZnVuY3Rpb24gWihlLHQsbixyKXtpZihlLmNvbmZpZy5zdG9yYWdlKXt2YXIgbyxhPXEoZS5jb25maWcuc3RvcmFnZSksaT0hMTtpZigibnVtYmVyIj09dHlwZW9mIGUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kcyl7dmFyIGM9bmV3IERhdGUocShlLmNvbmZpZy5zdG9yYWdlLCJsYXN0IikpO2k9YyYmRGF0ZS5ub3coKS1jLmdldFRpbWUoKT4xZTMqZS5jb25maWcuc3RvcmFnZS5yZWZyZXNoSW5TZWNvbmRzfSFhfHxpfHxyfHwhZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmZT09PUYodCl9KG4sdCk/bz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LGEpOiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5leHRlbmRJZCYmKG89ZS5zdWJtb2R1bGUuZXh0ZW5kSWQoZS5jb25maWcsdCxhKSksdS5pc1BsYWluT2JqZWN0KG8pJiYoby5pZCYmKEwoZSxvLmlkKSxhPW8uaWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBvLmNhbGxiYWNrJiYoZS5jYWxsYmFjaz1vLmNhbGxiYWNrKSksYSYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKGEsZS5jb25maWcpKX1lbHNlIGlmKGUuY29uZmlnLnZhbHVlKWUuaWRPYmo9ZS5jb25maWcudmFsdWU7ZWxzZXt2YXIgcz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LHZvaWQgMCk7dS5pc1BsYWluT2JqZWN0KHMpJiYoImZ1bmN0aW9uIj09dHlwZW9mIHMuY2FsbGJhY2smJihlLmNhbGxiYWNrPXMuY2FsbGJhY2spLHMuaWQmJihlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZShzLmlkLGUuY29uZmlnKSkpfX1mdW5jdGlvbiBlZShlKXtmb3IodmFyIHQ9ITEsbj0wO248SS5sZW5ndGg7bisrKWlmKGUuY29uZmlnLm5hbWUudG9Mb3dlckNhc2UoKT09PUlbbl0uY29uZmlnLm5hbWUudG9Mb3dlckNhc2UoKSl7dD0hMCxJW25dPWU7YnJlYWt9dHx8SS5wdXNoKGUpfWZ1bmN0aW9uIHRlKCl7dmFyIGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2UucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiF0fHx1LmlzRW1wdHlTdHIodC5uYW1lKXx8KCF0LnN0b3JhZ2V8fHUuaXNFbXB0eVN0cih0LnN0b3JhZ2UudHlwZSl8fHUuaXNFbXB0eVN0cih0LnN0b3JhZ2UubmFtZSl8fC0xPT09bi5pbmRleE9mKHQuc3RvcmFnZS50eXBlKT91LmlzUGxhaW5PYmplY3QodC52YWx1ZSk/ZS5wdXNoKHQpOnQuc3RvcmFnZXx8dC52YWx1ZXx8ZS5wdXNoKHQpOmUucHVzaCh0KSksZX0pLFtdKTpbXX0oVCwwLFUpO2lmKGUubGVuZ3RoKXt2YXIgdD1WLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW8oKShQLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpO1A9dC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPW8oKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lJiYoZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10Lm5hbWUudG9Mb3dlckNhc2UoKXx8dC5hbGlhc05hbWUmJmUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5hbGlhc05hbWUudG9Mb3dlckNhc2UoKSl9KSk7cmV0dXJuIG4mJnQubmFtZSE9PW4ubmFtZSYmKG4ubmFtZT10Lm5hbWUpLHQuZmluZFJvb3REb21haW49SixuP3tzdWJtb2R1bGU6dCxjb25maWc6bixjYWxsYmFjazp2b2lkIDAsaWRPYmo6dm9pZCAwfTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpLCFfJiZQLmxlbmd0aCYmKE9iamVjdChzLmEpKCkucmVxdWVzdEJpZHMuYmVmb3JlKCQsNDApLHUubG9nSW5mbygiIi5jb25jYXQoRCwiIC0gdXNlcnN5bmMgY29uZmlnIHVwZGF0ZWQgZm9yICIpLmNvbmNhdChQLmxlbmd0aCwiIHN1Ym1vZHVsZXM6ICIpLFAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJtb2R1bGUubmFtZX0pKSksXz0hMCl9fWZ1bmN0aW9uIG5lKGUpe28oKShWLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfHwoVi5wdXNoKGUpLHRlKCkpfWZ1bmN0aW9uIHJlKGUpe1A9W10sVD1bXSxfPSExLEk9dm9pZCAwLC0xIT09KFU9W0MubG9jYWxTdG9yYWdlSXNFbmFibGVkKCk/UzpudWxsLEMuY29va2llc0FyZUVuYWJsZWQoKT9FOm51bGxdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpKS5pbmRleE9mKEUpJiZDLmdldENvb2tpZSh3KT91LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgY29va2llIGZvdW5kLCBleGl0IG1vZHVsZSIpKTotMSE9PVUuaW5kZXhPZihTKSYmQy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSh3KT91LmxvZ0luZm8oIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgbG9jYWxTdG9yYWdlIGZvdW5kLCBleGl0IG1vZHVsZSIpKTooZS5nZXRDb25maWcoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlclN5bmM7dCYmdC51c2VySWRzJiYoVD10LnVzZXJJZHMsaj11LmlzTnVtYmVyKHQuc3luY0RlbGF5KT90LnN5bmNEZWxheTo1MDAsaz11LmlzTnVtYmVyKHQuYXVjdGlvbkRlbGF5KT90LmF1Y3Rpb25EZWxheTowLHRlKCkpfSkpLE9iamVjdChzLmEpKCkuZ2V0VXNlcklkcz1LLE9iamVjdChzLmEpKCkuZ2V0VXNlcklkc0FzRWlkcz1RLE9iamVjdChzLmEpKCkucmVmcmVzaFVzZXJJZHM9WCl9cmUoYS5iKSxPYmplY3QoZy5jKSgidXNlcklkIixuZSl9fSxbODE5XSk7CnVwYmpzQ2h1bmsoWzcxXSx7ODU4OmZ1bmN0aW9uKGUsYSxyKXtlLmV4cG9ydHM9cig4NTkpfSw4NTk6ZnVuY3Rpb24oZSxhLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGEsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciBuPXIoMCksdD1yKDEpLGk9cigxMSkscz1yLm4oaSksZD1yKDIpLG89cigxMyksYz0iaHR0cHM6Ly9hZC55aWVsZGxhYi5uZXQiLHA9e2NvZGU6InlpZWxkbGFiIixndmxpZDo3MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltkLmQsZC5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuYWRzbG90SWQmJmUucGFyYW1zLnN1cHBseUlkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLGEpe3ZhciByPVtdLHQ9e3RzOkRhdGUubm93KCksanNvbjohMH07bi5fZWFjaChlLChmdW5jdGlvbihlKXtpZihyLnB1c2goZS5wYXJhbXMuYWRzbG90SWQpLGUucGFyYW1zLnRhcmdldGluZyYmKHQudD1mdW5jdGlvbihlKXt2YXIgYT1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKXt2YXIgbj1yLHQ9ZVtyXTthLnB1c2gobisiPSIrdCl9cmV0dXJuIGEuam9pbigiJiIpfShlLnBhcmFtcy50YXJnZXRpbmcpKSxlLnVzZXJJZEFzRWlkcyYmQXJyYXkuaXNBcnJheShlLnVzZXJJZEFzRWlkcykmJih0Lmlkcz1mdW5jdGlvbihlKXtmb3IodmFyIGE9W10scj0wO3I8ZS5sZW5ndGg7cisrKWEucHVzaChlW3JdLnNvdXJjZSsiOiIrZVtyXS51aWRzWzBdLmlkKTtyZXR1cm4gYS5qb2luKCIsIil9KGUudXNlcklkQXNFaWRzKSksZS5wYXJhbXMuY3VzdG9tUGFyYW1zJiZuLmlzUGxhaW5PYmplY3QoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKSlmb3IodmFyIGEgaW4gZS5wYXJhbXMuY3VzdG9tUGFyYW1zKXRbYV09ZS5wYXJhbXMuY3VzdG9tUGFyYW1zW2FdO3ZhciBpLHMsZCxvLGM7ZS5zY2hhaW4mJm4uaXNQbGFpbk9iamVjdChlLnNjaGFpbikmJkFycmF5LmlzQXJyYXkoZS5zY2hhaW4ubm9kZXMpJiYodC5zY2hhaW49KGk9ZS5zY2hhaW4scz1pLnZlcnx8IiIsZD0xPT09aS5jb21wbGV0ZXx8MD09PWkuY29tcGxldGU/aS5jb21wbGV0ZToiIixvPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIiwiZXh0Il0sYz1pLm5vZGVzLnJlZHVjZSgoZnVuY3Rpb24oZSxhKXtyZXR1cm4gZSsiISIuY29uY2F0KG8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYVtlXT8ocj1hW2VdLGVuY29kZVVSSUNvbXBvbmVudChyKS5yZXBsYWNlKC8hL2csIiUyMSIpKToiIjt2YXIgcn0pKS5qb2luKCIsIikpfSksIiIpLCIiLmNvbmNhdChzLCIsIikuY29uY2F0KGQpLmNvbmNhdChjKSkpfSkpLGEmJihhLnJlZmVyZXJJbmZvJiZhLnJlZmVyZXJJbmZvLnJlZmVyZXImJih0LnB1YnJlZj1hLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGEuZ2RwckNvbnNlbnQmJih0LmdkcHI9ImJvb2xlYW4iIT10eXBlb2YgYS5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8YS5nZHByQ29uc2VudC5nZHByQXBwbGllcyx0LmdkcHImJih0LmNvbnNlbnQ9YS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkpO3ZhciBpPXIuam9pbigiLCIpLHM9ZnVuY3Rpb24oZSl7dmFyIGE9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSl7dmFyIG49ZVtyXTsic2NoYWluIiE9PXI/YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChyKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKTphLnB1c2gocisiPSIrbil9cmV0dXJuIGEuam9pbigiJiIpfSh0KTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoYywiL3lwLyIpLmNvbmNhdChpLCI/IikuY29uY2F0KHMpLHZhbGlkQmlkUmVxdWVzdHM6ZSxxdWVyeVBhcmFtczp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxhKXt2YXIgcj1bXSx0PURhdGUubm93KCksaT1hLnF1ZXJ5UGFyYW1zO3JldHVybiBhLnZhbGlkQmlkUmVxdWVzdHMuZm9yRWFjaCgoZnVuY3Rpb24oYSl7aWYoZS5ib2R5KXt2YXIgcCx2LGY9cygpKGUuYm9keSwoZnVuY3Rpb24oZSl7cmV0dXJuIGEucGFyYW1zLmFkc2xvdElkPT1lLmlkfSkpO2lmKGYpe3ZhciBsPTIhPT1hLnNpemVzLmxlbmd0aHx8bi5pc0FycmF5KGEuc2l6ZXNbMF0pP2Euc2l6ZXNbMF06YS5zaXplcyxoPXZvaWQgMCE9PWEucGFyYW1zLmFkU2l6ZT91KGEucGFyYW1zLmFkU2l6ZSk6dm9pZCAwIT09Zi5hZHNpemU/dShmLmFkc2l6ZSk6bCx5PXZvaWQgMCE9PWEucGFyYW1zLmV4dElkPyImaWQ9IithLnBhcmFtcy5leHRJZDoiIixnPXZvaWQgMCE9PWYuYWR0eXBlP2YuYWR0eXBlOiIiLEk9aS5nZHByPyImZ2Rwcj0iK2kuZ2RwcjoiIix3PWkuY29uc2VudD8iJmNvbnNlbnQ9IitpLmNvbnNlbnQ6IiIsYj12b2lkIDAhPT1mLnB2aWQ/IiZwdmlkPSIrZi5wdmlkOiIiLEE9e3JlcXVlc3RJZDphLmJpZElkLGNwbTpmLnByaWNlLzEwMCx3aWR0aDpoWzBdLGhlaWdodDpoWzFdLGNyZWF0aXZlSWQ6IiIrZi5pZCxkZWFsSWQ6ZlsiYy5kZWFsaWQiXT9mWyJjLmRlYWxpZCJdOmYucGlkLGN1cnJlbmN5OiJFVVIiLG5ldFJldmVudWU6ITEsdHRsOjMwMCxyZWZlcnJlcjoiIixhZDonPHNjcmlwdCBzcmM9IicuY29uY2F0KGMsIi9kLyIpLmNvbmNhdChmLmlkLCIvIikuY29uY2F0KGEucGFyYW1zLnN1cHBseUlkLCIvP3RzPSIpLmNvbmNhdCh0KS5jb25jYXQoeSkuY29uY2F0KEkpLmNvbmNhdCh3KS5jb25jYXQoYiwnIj48XC9zY3JpcHQ+JyksbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6Zi5hZHZlcnRpc2VyP2YuYWR2ZXJ0aXNlcjoibi9hIn19O2lmKHA9YSx2PWcsbi5kZWVwQWNjZXNzKHAsIm1lZGlhVHlwZXMudmlkZW8iKSYmInZpZGVvIj09PXYudG9Mb3dlckNhc2UoKSl7dmFyIGo9ZnVuY3Rpb24oZSl7dmFyIGE9bi5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO3JldHVybiBhJiZuLmlzQXJyYXkoYVswXSk/YVswXTphfShhKTtpZihqJiYoQS53aWR0aD1qWzBdLEEuaGVpZ2h0PWpbMV0pLEEubWVkaWFUeXBlPWQuZCxBLnZhc3RVcmw9IiIuY29uY2F0KGMsIi9kLyIpLmNvbmNhdChmLmlkLCIvIikuY29uY2F0KGEucGFyYW1zLnN1cHBseUlkLCIvP3RzPSIpLmNvbmNhdCh0KS5jb25jYXQoeSkuY29uY2F0KEkpLmNvbmNhdCh3KS5jb25jYXQoYiksZnVuY3Rpb24oZSl7cmV0dXJuIm91dHN0cmVhbSI9PT1uLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil9KGEpKXt2YXIgUD1vLmEuaW5zdGFsbCh7aWQ6YS5iaWRJZCx1cmw6Imh0dHBzOi8vYWQuYWRpdGlvbi5jb20vZHluYW1pYy5hZD9hPW8xOTMwOTImbWFfbG9hZEV2ZW50PW1hLXN0YXJ0LWV2ZW50Iixsb2FkZWQ6ITF9KTtQLnNldFJlbmRlcihtKSxBLnJlbmRlcmVyPVB9fXIucHVzaChBKX19fSkpLHJ9fTtmdW5jdGlvbiB1KGUpe3JldHVybiBlLnNwbGl0KCJ4IikubWFwKE51bWJlcil9ZnVuY3Rpb24gbShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lm1hX3dpZHRoPWUud2lkdGgsd2luZG93Lm1hX2hlaWdodD1lLmhlaWdodCx3aW5kb3cubWFfdmFzdFVybD1lLnZhc3RVcmwsd2luZG93Lm1hX2NvbnRhaW5lcj1lLmFkVW5pdENvZGUsd2luZG93LmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJtYS1zdGFydC1ldmVudCIpKX0pKX1PYmplY3QodC5yZWdpc3RlckJpZGRlcikocCl9fSxbODU4XSk7CnVwYmpzLnByb2Nlc3NRdWV1ZSgpOw==";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};const a={map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e));return n},filter:i,reject:function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)||i.push(e[r]);return i},forEach:function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n,e)},find:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}},flat:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(r(i))for(var a=0;a<i.length;a++){var o=i[a];t.push(o)}else t.push(i)}return t},isArray:r,distinct:function(e){return i(e,(function(e,t,n){return n.indexOf(e)===t}))},reduce:function(e,t){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),r=i.length>>>0,a=0;if(arguments.length>=3)n=arguments[2];else{for(;a<r&&!(a in i);)a++;if(a>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[a++]}for(;a<r;)a in i&&(n=t(n,i[a],a,i)),a++;return n},addClass:function(e,t){if(t&&e){var n=t.className;-1==n.indexOf(e)&&(""!=n&&(e=" "+e),t.className=n+e)}},removeClass:function(e,t){if(t&&e){var n=t.className,i=new RegExp("\\b"+e+"\\b","g");n=n.replace(i,""),t.className=n}},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},objectAssign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},CDefer:function(){var e,t,n=this;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((function(e){return n.state="fulfilled",e}),(function(e){return n.state="rejected",e})),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>F});var i={};n.r(i),n.d(i,{debounce:()=>u,deepClone:()=>d,escapeSelector:()=>p,extractQueryParamFromUrl:()=>m,extractVariableFromString:()=>b,getRandomInt:()=>w,getTopmostAccessibleWindow:()=>v,getTrueByProbability:()=>y,isFirstViewPortElement:()=>g,isNil:()=>l,isNumber:()=>c,matchStringsOnString:()=>N,truncateString:()=>_});var r={};n.r(r),n.d(r,{getSizeType:()=>H,isUnacceptable:()=>B,isUnacceptableFirstViewPortSize:()=>Z});var a=n(836),o=n(2),s=n(246),d=function e(t){if(!t)return t;var n,i=[Number,String,Boolean];try{if(s.Z.forEach(i,(function(e){t instanceof e&&(n=e(t))})),void 0===n)if("[object Array]"===Object.prototype.toString.call(t))n=[],s.Z.forEach(t,(function(t,i,r){n[i]=e(t)}));else if("object"==(0,o.Z)(t))if(t.nodeType&&"function"==typeof t.cloneNode)n=t.cloneNode(!0);else if(t.prototype)n=t;else if(t instanceof Date)n=new Date(t);else for(var r in n={},t)n[r]=e(t[r]);else n=t}catch(e){n=t}return n};function c(e){return!isNaN(e)&&"number"==typeof e}function l(e){return null==e}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var d=function(){t=null,i||e.apply(r,o)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,o)}}var h=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function f(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function p(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(h,f):e}var g=function(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var r=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),r<=a.Z.consts.acceptableStandardScreenSize.height}catch(e){}},m=function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},v=function(){var e=window;try{for(;e!==e.parent;)e.parent.document,e=e.parent}catch(e){}return e},b=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var a=n[r];if(!i[a])return;i=i[a]}return i}};function w(e){return Math.floor(Math.random()*Math.floor(e))}function y(e){return w(100)<e}function _(e,t){return e.length>t?e.substring(0,t):e}function N(e,t){return e.every((function(e){return t.includes(e)}))}var D=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},X=n(302),E=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],V=function(e,t){var n=function(e,t){return s.Z.filter(e,(function(e){return F.sizeValidation.getSizeType(e)===t}))}(E,e);return n=s.Z.filter(n,(function(e){return!F.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t}))},M=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=F.sizeValidation.getSizeType(t),a=V(r,n),o=0;o<a.length;o++){var s=a[o];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var l=e[c];if(l&&l.width===s.width&&l.height===s.height){d=!1;break}}if(d)return s}}},z=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},x=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,a=0;a<i.length;a++){var o=i[a];if(t[o.type].indexOf(o.string)<0){r=!1;break}}if(r)return!0}};var I=1,S=2,H=function(e){return e.width>350?I:S},Z=function(e){var t=H(e),n=a.Z.consts.acceptableStandardScreenSize.width*a.Z.consts.acceptableStandardScreenSize.height,i=e.height,r=e.width,o=r*i/n*100>=16;return t==S?o||r>350:o||e.height>200},Y=function e(t,n){var i,r,o=H(n),s=!1,d=!0,c=!1,l=n.height,u=n.width;if(t){"none"===window.getComputedStyle(t).display&&(i=t.style.getPropertyValue("display"),r=t.style.getPropertyPriority("display"),t.style.setProperty("display","block","important"),s=!0);var h=t.getBoundingClientRect().top;l=(c=h+n.height>a.Z.consts.acceptableStandardScreenSize.height)?a.Z.consts.acceptableStandardScreenSize.height-h:n.height}return d=o==S&&c?e(t,{width:u,height:l})&&T(n):Z(n),s&&t.style.setProperty("display",i,r),d},T=function(e){var t=a.Z.consts.acceptableStandardScreenSize.width*a.Z.consts.acceptableStandardScreenSize.height,n=H(e);return e.width*e.height/t*100>=26||n==I&&e.height>400},B=function(e,t){return!e||F.commonUtils.isFirstViewPortElement(e)?Y(e,t):T(t)};const F={addAcceptableParam:function(e){return e.indexOf(a.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=e.indexOf("?")>-1?e+"&"+a.Z.upoSettings.acceptableURLParam:e+"?"+a.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")},commonUtils:i,ElementInsertion:D,sizesRemover:function(e,t){var n=[],i=X.Y.fireEvent("enableLegacySizesReplacer");s.Z.forEach(t,(function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var a=n[r];if(F.sizeValidation.isUnacceptable(e,a))if(i){var o=F.commonUtils.isFirstViewPortElement(e);n[r]=M(n,a,o)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){var i=e[t]||[];s.Z.forEach(i,(function(e){e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=z(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var a=i[r],o=!0,s=0;s<a.length;s++){var d=a[s];if(n[d.type].indexOf(d.string)<0){o=!1;break}}if(o)return!0}return!1},isWhitelistURL:function(e,t){var n=z(e);return!x({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!x({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:r}},2:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{getElementWithSelector:()=>jn,getSpaceElement:()=>Jn,refreshTypeDecoder:()=>Pn});var t={};function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function i(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);o=!0);}catch(e){s=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>ni,setupWhitelistingIFrameSettings:()=>ei});var a=__webpack_require__(2),o=__webpack_require__(836),s=__webpack_require__(246),d=__webpack_require__(302),c=__webpack_require__(602),l=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t},u=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){t[n]=[];for(var i=0;i<e[n].length;i++){var r=e[n][i];t[n].push(r)}}return t},h=function(e,t,n){if((n=n||{}).merge&&n.override)throw new TypeError;this.tr=e,this.headers=l(t),this.merge=n.merge||!1,this.override=n.override||!1};h.prototype.$fetch=function(e,t,n){if(n=n||{},"object"!==(0,a.Z)(t)||"string"!=typeof t.url)throw new TypeError;t=this.addHeaders(t),this.tr.$fetch(e,t,n)},h.prototype.addHeaders=function(e){e=function(e){return{url:e.url,headers:l(u(e.headers||{})),body:e.body,method:e.method}}(e);var t=this.headers,n=e.headers;for(var i in t)if(t.hasOwnProperty(i)){if(this.override)n[i]=[];else if(!this.merge&&n[i])continue;n[i]||(n[i]=[]);for(var r=0;r<t[i].length;r++){var a=t[i][r];n[i].push(a)}}return e};var f=function(e,t){return e.substr(0,t.length)===t},p=function(e){if(e=e.toLowerCase(),f(e,"proxy-"))return!1;if(f(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},g=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!==(0,a.Z)(e)||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var o=this.protocol+"://"+this.host+r;o+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",d=e.headers||{},c=e.body?e.body:null,u=new XMLHttpRequest;for(var h in u.onreadystatechange=function(e){if(4==u.readyState){if(0==u.status){if(i)return;return i=!0,void n("status -> "+u.status)}var r=l(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],a=r.indexOf(": ");if(a>0){var o=r.substring(0,a),s=r.substring(a+2);t[o]||(t[o]=[]),t[o].push(s)}}return t}(u.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),u.status>=200&&u.status<300){var a={status:u.status,headers:r,body:u.response};t(a)}else n("status -> "+u.status)}},u.onerror=function(e){i||(i=!0,n(e))},u.open(s,o,!0),u.responseType="arraybuffer",d)d.hasOwnProperty(h)&&0!=d[h].length&&(p(h)||u.setRequestHeader(h,d[h][0]));u.send(c)}.bind(this))}},m=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",a=0;a<i;a++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},v=function(e,t){return m("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const b=v;function w(e){for(var t=e.length;--t>=0;)e[t]=0}var y=256,_=286,N=30,D=15,X=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),E=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),V=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z=new Array(576);w(z);var x=new Array(60);w(x);var I=new Array(512);w(I);var S=new Array(256);w(S);var H=new Array(29);w(H);var Z,Y,T,B=new Array(N);function F(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function O(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}w(B);var k=function(e){return e<256?I[e]:I[256+(e>>>7)]},R=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},C=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},L=function(e,t,n){C(e,n[2*t],n[2*t+1])},W=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},G=function(e,t,n){var i,r,a=new Array(16),o=0;for(i=1;i<=D;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=W(a[s]++,s))}},A=function(e){var t;for(t=0;t<_;t++)e.dyn_ltree[2*t]=0;for(t=0;t<N;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},P=function(e){e.bi_valid>8?R(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},j=function(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]},J=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&j(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!j(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},K=function(e,t,n){var i,r,a,o,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?L(e,r,t):(a=S[r],L(e,a+y+1,t),0!==(o=X[a])&&(r-=H[a],C(e,r,o)),i--,a=k(i),L(e,a,n),0!==(o=E[a])&&(i-=B[a],C(e,i,o)))}while(s<e.last_lit);L(e,256,t)},U=function(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<d;n++)0!==a[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)J(e,a,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],J(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,J(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,s,d=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=D;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(a=d[2*d[2*(i=e.heap[n])+1]+1]+1)>p&&(a=p,g++),d[2*i+1]=a,i>c||(e.bl_count[a]++,o=0,i>=f&&(o=h[i-f]),s=d[2*i],e.opt_len+=s*(a+o),u&&(e.static_len+=s*(l[2*i+1]+o)));if(0!==g){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(i=e.bl_count[a];0!==i;)(r=e.heap[--n])>c||(d[2*r+1]!==a&&(e.opt_len+=(a-d[2*r+1])*d[2*r],d[2*r+1]=a),i--)}}(e,t),G(a,c,e.bl_count)},Q=function(e,t,n){var i,r,a=-1,o=t[1],s=0,d=7,c=4;for(0===o&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<d&&r===o||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=r,0===o?(d=138,c=3):r===o?(d=6,c=3):(d=7,c=4))},q=function(e,t,n){var i,r,a=-1,o=t[1],s=0,d=7,c=4;for(0===o&&(d=138,c=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<d&&r===o)){if(s<c)do{L(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(L(e,r,e.bl_tree),s--),L(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(L(e,17,e.bl_tree),C(e,s-3,3)):(L(e,18,e.bl_tree),C(e,s-11,7));s=0,a=r,0===o?(d=138,c=3):r===o?(d=6,c=3):(d=7,c=4)}},$=!1,ee=function(e,t,n,i){C(e,0+(i?1:0),3),function(e,t,n,i){P(e),i&&(R(e,n),R(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},te=function(e,t,n,i){var r,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<y;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),U(e,e.l_desc),U(e,e.d_desc),o=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),U(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*M[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?ee(e,t,n,i):4===e.strategy||a===r?(C(e,2+(i?1:0),3),K(e,z,x)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*M[r]+1],3);q(e,e.dyn_ltree,t-1),q(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),K(e,e.dyn_ltree,e.dyn_dtree)),A(e),i&&P(e)},ne={_tr_init:function(e){$||(!function(){var e,t,n,i,r,a=new Array(16);for(n=0,i=0;i<28;i++)for(H[i]=n,e=0;e<1<<X[i];e++)S[n++]=i;for(S[n-1]=i,r=0,i=0;i<16;i++)for(B[i]=r,e=0;e<1<<E[i];e++)I[r++]=i;for(r>>=7;i<N;i++)for(B[i]=r<<7,e=0;e<1<<E[i]-7;e++)I[256+r++]=i;for(t=0;t<=D;t++)a[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,a[8]++;for(;e<=255;)z[2*e+1]=9,e++,a[9]++;for(;e<=279;)z[2*e+1]=7,e++,a[7]++;for(;e<=287;)z[2*e+1]=8,e++,a[8]++;for(G(z,287,a),e=0;e<N;e++)x[2*e+1]=5,x[2*e]=W(e,5);Z=new F(z,X,257,_,D),Y=new F(x,E,0,N,D),T=new F(new Array(0),V,0,19,7)}(),$=!0),e.l_desc=new O(e.dyn_ltree,Z),e.d_desc=new O(e.dyn_dtree,Y),e.bl_desc=new O(e.bl_tree,T),e.bi_buf=0,e.bi_valid=0,A(e)},_tr_stored_block:ee,_tr_flush_block:te,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(S[n]+y+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){C(e,2,3),L(e,256,z),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},ie=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+t[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0},re=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),ae=function(e,t,n,i){var r=re,a=i+n;e^=-1;for(var o=i;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e},oe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},se={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},de=ne._tr_init,ce=ne._tr_stored_block,le=ne._tr_flush_block,ue=ne._tr_tally,he=ne._tr_align,fe=se.Z_NO_FLUSH,pe=se.Z_PARTIAL_FLUSH,ge=se.Z_FULL_FLUSH,me=se.Z_FINISH,ve=se.Z_BLOCK,be=se.Z_OK,we=se.Z_STREAM_END,ye=se.Z_STREAM_ERROR,_e=se.Z_DATA_ERROR,Ne=se.Z_BUF_ERROR,De=se.Z_DEFAULT_COMPRESSION,Xe=se.Z_FILTERED,Ee=se.Z_HUFFMAN_ONLY,Ve=se.Z_RLE,Me=se.Z_FIXED,ze=se.Z_DEFAULT_STRATEGY,xe=se.Z_UNKNOWN,Ie=se.Z_DEFLATED,Se=258,He=262,Ze=103,Ye=113,Te=666,Be=function(e,t){return e.msg=oe[t],t},Fe=function(e){return(e<<1)-(e>4?9:0)},Oe=function(e){for(var t=e.length;--t>=0;)e[t]=0},ke=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Re=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ce=function(e,t){le(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Re(e.strm)},Le=function(e,t){e.pending_buf[e.pending++]=t},We=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ge=function(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-He?e.strstart-(e.w_size-He):0,c=e.window,l=e.w_mask,u=e.prev,h=e.strstart+Se,f=c[a+o-1],p=c[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+o]===p&&c[n+o-1]===f&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(i=Se-(h-a),a=h-Se,i>o){if(e.match_start=t,o=i,i>=s)break;f=c[a+o-1],p=c[a+o]}}}while((t=u[t&l])>d&&0!=--r);return o<=e.lookahead?o:e.lookahead},Ae=function(e){var t,n,i,r,a,o,s,d,c,l,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-He)){e.window.set(e.window.subarray(u,u+u),0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=u?i-u:0}while(--n);t=n=u;do{i=e.prev[--t],e.prev[t]=i>=u?i-u:0}while(--n);r+=u}if(0===e.strm.avail_in)break;if(o=e.strm,s=e.window,d=e.strstart+e.lookahead,c=r,l=void 0,(l=o.avail_in)>c&&(l=c),n=0===l?0:(o.avail_in-=l,s.set(o.input.subarray(o.next_in,o.next_in+l),d),1===o.state.wrap?o.adler=ie(o.adler,s,l,d):2===o.state.wrap&&(o.adler=ae(o.adler,s,l,d)),o.next_in+=l,o.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=ke(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=ke(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<He&&0!==e.strm.avail_in)},Pe=function(e,t){for(var n,i;;){if(e.lookahead<He){if(Ae(e),e.lookahead<He&&t===fe)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-He&&(e.match_length=Ge(e,n)),e.match_length>=3)if(i=ue(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ke(e,e.ins_h,e.window[e.strstart+1]);else i=ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===me?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2},je=function(e,t){for(var n,i,r;;){if(e.lookahead<He){if(Ae(e),e.lookahead<He&&t===fe)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-He&&(e.match_length=Ge(e,n),e.match_length<=5&&(e.strategy===Xe||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=ue(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Ce(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=ue(e,0,e.window[e.strstart-1]))&&Ce(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=ue(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===me?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2};function Je(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Ke=[new Je(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ae(e),0===e.lookahead&&t===fe)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Ce(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-He&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===me?(Ce(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Ce(e,!1),e.strm.avail_out),1)})),new Je(4,4,8,4,Pe),new Je(4,5,16,8,Pe),new Je(4,6,32,32,Pe),new Je(4,4,16,16,je),new Je(8,16,32,32,je),new Je(8,16,128,128,je),new Je(8,32,128,256,je),new Je(32,128,258,1024,je),new Je(32,258,258,4096,je)];function Ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ie,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Oe(this.dyn_ltree),Oe(this.dyn_dtree),Oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Qe=function(e){if(!e||!e.state)return Be(e,ye);e.total_in=e.total_out=0,e.data_type=xe;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Ye,e.adler=2===t.wrap?0:1,t.last_flush=fe,de(t),be},qe=function(e){var t,n=Qe(e);return n===be&&((t=e.state).window_size=2*t.w_size,Oe(t.head),t.max_lazy_match=Ke[t.level].max_lazy,t.good_match=Ke[t.level].good_length,t.nice_match=Ke[t.level].nice_length,t.max_chain_length=Ke[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},$e=function(e,t,n,i,r,a){if(!e)return ye;var o=1;if(t===De&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>9||n!==Ie||i<8||i>15||t<0||t>9||a<0||a>Me)return Be(e,ye);8===i&&(i=9);var s=new Ue;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,qe(e)},et={deflateInit:function(e,t){return $e(e,t,Ie,15,8,ze)},deflateInit2:$e,deflateReset:qe,deflateResetKeep:Qe,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?ye:(e.state.gzhead=t,be):ye},deflate:function(e,t){var n,i;if(!e||!e.state||t>ve||t<0)return e?Be(e,ye):ye;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===Te&&t!==me)return Be(e,0===e.avail_out?Ne:ye);r.strm=e;var a=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Le(r,31),Le(r,139),Le(r,8),r.gzhead?(Le(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Le(r,255&r.gzhead.time),Le(r,r.gzhead.time>>8&255),Le(r,r.gzhead.time>>16&255),Le(r,r.gzhead.time>>24&255),Le(r,9===r.level?2:r.strategy>=Ee||r.level<2?4:0),Le(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Le(r,255&r.gzhead.extra.length),Le(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=ae(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Le(r,0),Le(r,0),Le(r,0),Le(r,0),Le(r,0),Le(r,9===r.level?2:r.strategy>=Ee||r.level<2?4:0),Le(r,3),r.status=Ye);else{var o=Ie+(r.w_bits-8<<4)<<8;o|=(r.strategy>=Ee||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=32),o+=31-o%31,r.status=Ye,We(r,o),0!==r.strstart&&(We(r,e.adler>>>16),We(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending!==r.pending_buf_size));)Le(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Le(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),Re(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Le(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=ae(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Ze)}else r.status=Ze;if(r.status===Ze&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Re(e),r.pending+2<=r.pending_buf_size&&(Le(r,255&e.adler),Le(r,e.adler>>8&255),e.adler=0,r.status=Ye)):r.status=Ye),0!==r.pending){if(Re(e),0===e.avail_out)return r.last_flush=-1,be}else if(0===e.avail_in&&Fe(t)<=Fe(a)&&t!==me)return Be(e,Ne);if(r.status===Te&&0!==e.avail_in)return Be(e,Ne);if(0!==e.avail_in||0!==r.lookahead||t!==fe&&r.status!==Te){var s=r.strategy===Ee?function(e,t){for(var n;;){if(0===e.lookahead&&(Ae(e),0===e.lookahead)){if(t===fe)return 1;break}if(e.match_length=0,n=ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===me?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===Ve?function(e,t){for(var n,i,r,a,o=e.window;;){if(e.lookahead<=Se){if(Ae(e),e.lookahead<=Se&&t===fe)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=o[r=e.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){a=e.strstart+Se;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<a);e.match_length=Se-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ue(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ue(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ce(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===me?(Ce(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Ce(e,!1),0===e.strm.avail_out)?1:2}(r,t):Ke[r.level].func(r,t);if(3!==s&&4!==s||(r.status=Te),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),be;if(2===s&&(t===pe?he(r):t!==ve&&(ce(r,0,0,!1),t===ge&&(Oe(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Re(e),0===e.avail_out))return r.last_flush=-1,be}return t!==me?be:r.wrap<=0?we:(2===r.wrap?(Le(r,255&e.adler),Le(r,e.adler>>8&255),Le(r,e.adler>>16&255),Le(r,e.adler>>24&255),Le(r,255&e.total_in),Le(r,e.total_in>>8&255),Le(r,e.total_in>>16&255),Le(r,e.total_in>>24&255)):(We(r,e.adler>>>16),We(r,65535&e.adler)),Re(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?be:we)},deflateEnd:function(e){if(!e||!e.state)return ye;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Ze&&t!==Ye&&t!==Te?Be(e,ye):(e.state=null,t===Ye?Be(e,_e):be)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return ye;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return ye;if(1===r&&(e.adler=ie(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(Oe(i.head),i.strstart=0,i.block_start=0,i.insert=0);var a=new Uint8Array(i.w_size);a.set(t.subarray(n-i.w_size,n),0),t=a,n=i.w_size}var o=e.avail_in,s=e.next_in,d=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ae(i);i.lookahead>=3;){var c=i.strstart,l=i.lookahead-2;do{i.ins_h=ke(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--l);i.strstart=c,i.lookahead=2,Ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=d,e.avail_in=o,i.wrap=r,be},deflateInfo:"pako deflate (from Nodeca project)"},tt=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},nt=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(0,a.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)tt(n,i)&&(e[i]=n[i])}}return e},it=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),a=0,o=0,s=e.length;a<s;a++){var d=e[a];r.set(d,o),o+=d.length}return r},rt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){rt=!1}for(var at=new Uint8Array(256),ot=0;ot<256;ot++)at[ot]=ot>=252?6:ot>=248?5:ot>=240?4:ot>=224?3:ot>=192?2:1;at[254]=at[254]=1;var st=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,a,o=e.length,s=0;for(r=0;r<o;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),a=0,r=0;a<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},dt=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a=new Array(2*r);for(i=0,n=0;n<r;){var o=e[n++];if(o<128)a[i++]=o;else{var s=at[o];if(s>4)a[i++]=65533,n+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&n<r;)o=o<<6|63&e[n++],s--;s>1?a[i++]=65533:o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|1023&o)}}}return function(e,t){if(t<65534&&e.subarray&&rt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(a,i)},ct=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+at[e[n]]>t?n:t};var lt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ut=Object.prototype.toString,ht=se.Z_NO_FLUSH,ft=se.Z_SYNC_FLUSH,pt=se.Z_FULL_FLUSH,gt=se.Z_FINISH,mt=se.Z_OK,vt=se.Z_STREAM_END,bt=se.Z_DEFAULT_COMPRESSION,wt=se.Z_DEFAULT_STRATEGY,yt=se.Z_DEFLATED;function _t(e){this.options=nt({level:bt,method:yt,chunkSize:16384,windowBits:15,memLevel:8,strategy:wt},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var n=et.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==mt)throw new Error(oe[n]);if(t.header&&et.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?st(t.dictionary):"[object ArrayBuffer]"===ut.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=et.deflateSetDictionary(this.strm,i))!==mt)throw new Error(oe[n]);this._dict_set=!0}}function Nt(e,t){var n=new _t(t);if(n.push(e,!0),n.err)throw n.msg||oe[n.err];return n.result}_t.prototype.push=function(e,t){var n,i,r=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?gt:ht,"string"==typeof e?r.input=st(e):"[object ArrayBuffer]"===ut.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(i===ft||i===pt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=et.deflate(r,i))===vt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=et.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===mt;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},_t.prototype.onData=function(e){this.chunks.push(e)},_t.prototype.onEnd=function(e){e===mt&&(this.result=it(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Dt={Deflate:_t,deflate:Nt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Nt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Nt(e,t)},constants:se},Xt=function(e,t){var n,i,r,a,o,s,d,c,l,u,h,f,p,g,m,v,b,w,y,_,N,D,X,E,V=e.state;n=e.next_in,X=e.input,i=n+(e.avail_in-5),r=e.next_out,E=e.output,a=r-(t-e.avail_out),o=r+(e.avail_out-257),s=V.dmax,d=V.wsize,c=V.whave,l=V.wnext,u=V.window,h=V.hold,f=V.bits,p=V.lencode,g=V.distcode,m=(1<<V.lenbits)-1,v=(1<<V.distbits)-1;e:do{f<15&&(h+=X[n++]<<f,f+=8,h+=X[n++]<<f,f+=8),b=p[h&m];t:for(;;){if(h>>>=w=b>>>24,f-=w,0===(w=b>>>16&255))E[r++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=p[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){V.mode=12;break e}e.msg="invalid literal/length code",V.mode=30;break e}y=65535&b,(w&=15)&&(f<w&&(h+=X[n++]<<f,f+=8),y+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=X[n++]<<f,f+=8,h+=X[n++]<<f,f+=8),b=g[h&v];n:for(;;){if(h>>>=w=b>>>24,f-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(h&(1<<w)-1)];continue n}e.msg="invalid distance code",V.mode=30;break e}if(_=65535&b,f<(w&=15)&&(h+=X[n++]<<f,(f+=8)<w&&(h+=X[n++]<<f,f+=8)),(_+=h&(1<<w)-1)>s){e.msg="invalid distance too far back",V.mode=30;break e}if(h>>>=w,f-=w,_>(w=r-a)){if((w=_-w)>c&&V.sane){e.msg="invalid distance too far back",V.mode=30;break e}if(N=0,D=u,0===l){if(N+=d-w,w<y){y-=w;do{E[r++]=u[N++]}while(--w);N=r-_,D=E}}else if(l<w){if(N+=d+l-w,(w-=l)<y){y-=w;do{E[r++]=u[N++]}while(--w);if(N=0,l<y){y-=w=l;do{E[r++]=u[N++]}while(--w);N=r-_,D=E}}}else if(N+=l-w,w<y){y-=w;do{E[r++]=u[N++]}while(--w);N=r-_,D=E}for(;y>2;)E[r++]=D[N++],E[r++]=D[N++],E[r++]=D[N++],y-=3;y&&(E[r++]=D[N++],y>1&&(E[r++]=D[N++]))}else{N=r-_;do{E[r++]=E[N++],E[r++]=E[N++],E[r++]=E[N++],y-=3}while(y>2);y&&(E[r++]=E[N++],y>1&&(E[r++]=E[N++]))}break}}break}}while(n<i&&r<o);n-=y=f>>3,h&=(1<<(f-=y<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<o?o-r+257:257-(r-o),V.hold=h,V.bits=f},Et=15,Vt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Mt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),It=function(e,t,n,i,r,a,o,s){var d,c,l,u,h,f,p,g,m,v=s.bits,b=0,w=0,y=0,_=0,N=0,D=0,X=0,E=0,V=0,M=0,z=null,x=0,I=new Uint16Array(16),S=new Uint16Array(16),H=null,Z=0;for(b=0;b<=Et;b++)I[b]=0;for(w=0;w<i;w++)I[t[n+w]]++;for(N=v,_=Et;_>=1&&0===I[_];_--);if(N>_&&(N=_),0===_)return r[a++]=20971520,r[a++]=20971520,s.bits=1,0;for(y=1;y<_&&0===I[y];y++);for(N<y&&(N=y),E=1,b=1;b<=Et;b++)if(E<<=1,(E-=I[b])<0)return-1;if(E>0&&(0===e||1!==_))return-1;for(S[1]=0,b=1;b<Et;b++)S[b+1]=S[b]+I[b];for(w=0;w<i;w++)0!==t[n+w]&&(o[S[t[n+w]]++]=w);if(0===e?(z=H=o,f=19):1===e?(z=Vt,x-=257,H=Mt,Z-=257,f=256):(z=zt,H=xt,f=-1),M=0,w=0,b=y,h=a,D=N,X=0,l=-1,u=(V=1<<N)-1,1===e&&V>852||2===e&&V>592)return 1;for(;;){p=b-X,o[w]<f?(g=0,m=o[w]):o[w]>f?(g=H[Z+o[w]],m=z[x+o[w]]):(g=96,m=0),d=1<<b-X,y=c=1<<D;do{r[h+(M>>X)+(c-=d)]=p<<24|g<<16|m|0}while(0!==c);for(d=1<<b-1;M&d;)d>>=1;if(0!==d?(M&=d-1,M+=d):M=0,w++,0==--I[b]){if(b===_)break;b=t[n+o[w]]}if(b>N&&(M&u)!==l){for(0===X&&(X=N),h+=y,E=1<<(D=b-X);D+X<_&&!((E-=I[D+X])<=0);)D++,E<<=1;if(V+=1<<D,1===e&&V>852||2===e&&V>592)return 1;r[l=M&u]=N<<24|D<<16|h-a|0}}return 0!==M&&(r[h+M]=b-X<<24|64<<16|0),s.bits=N,0},St=se.Z_FINISH,Ht=se.Z_BLOCK,Zt=se.Z_TREES,Yt=se.Z_OK,Tt=se.Z_STREAM_END,Bt=se.Z_NEED_DICT,Ft=se.Z_STREAM_ERROR,Ot=se.Z_DATA_ERROR,kt=se.Z_MEM_ERROR,Rt=se.Z_BUF_ERROR,Ct=se.Z_DEFLATED,Lt=12,Wt=30,Gt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function At(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Pt,jt,Jt=function(e){if(!e||!e.state)return Ft;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Yt},Kt=function(e){if(!e||!e.state)return Ft;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Jt(e)},Ut=function(e,t){var n;if(!e||!e.state)return Ft;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Ft:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Kt(e))},Qt=function(e,t){if(!e)return Ft;var n=new At;e.state=n,n.window=null;var i=Ut(e,t);return i!==Yt&&(e.state=null),i},qt=!0,$t=function(e){if(qt){Pt=new Int32Array(512),jt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(It(1,e.lens,0,288,Pt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;It(2,e.lens,0,32,jt,0,e.work,{bits:5}),qt=!1}e.lencode=Pt,e.lenbits=9,e.distcode=jt,e.distbits=5},en=function(e,t,n,i){var r,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},tn={inflateReset:Kt,inflateReset2:Ut,inflateResetKeep:Jt,inflateInit:function(e){return Qt(e,15)},inflateInit2:Qt,inflate:function(e,t){var n,i,r,a,o,s,d,c,l,u,h,f,p,g,m,v,b,w,y,_,N,D,X,E,V=0,M=new Uint8Array(4),z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return Ft;(n=e.state).mode===Lt&&(n.mode=13),o=e.next_out,r=e.output,d=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,h=d,D=Yt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,M[0]=255&c,M[1]=c>>>8&255,n.check=ae(n.check,M,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Wt;break}if((15&c)!==Ct){e.msg="unknown compression method",n.mode=Wt;break}if(l-=4,N=8+(15&(c>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){e.msg="invalid window size",n.mode=Wt;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Lt,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Ct){e.msg="unknown compression method",n.mode=Wt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Wt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=ae(n.check,M,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,M[2]=c>>>16&255,M[3]=c>>>24&255,n.check=ae(n.check,M,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=ae(n.check,M,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(M[0]=255&c,M[1]=c>>>8&255,n.check=ae(n.check,M,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=n.length)>s&&(f=s),f&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+f),N)),512&n.flags&&(n.check=ae(n.check,i,f,a)),s-=f,a+=f,n.length-=f),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;f=0;do{N=i[a+f++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&f<s);if(512&n.flags&&(n.check=ae(n.check,i,f,a)),s-=f,a+=f,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;f=0;do{N=i[a+f++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&f<s);if(512&n.flags&&(n.check=ae(n.check,i,f,a)),s-=f,a+=f,N)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Wt;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Lt;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}e.adler=n.check=Gt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=l,Bt;e.adler=n.check=1,n.mode=Lt;case Lt:if(t===Ht||t===Zt)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if($t(n),n.mode=20,t===Zt){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Wt}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Wt;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===Zt)break e;case 15:n.mode=16;case 16:if(f=n.length){if(f>s&&(f=s),f>d&&(f=d),0===f)break e;r.set(i.subarray(a,a+f),o),s-=f,a+=f,d-=f,o+=f,n.length-=f;break}n.mode=Lt;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Wt;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}n.lens[z[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,X={bits:n.lenbits},D=It(0,n.lens,0,19,n.lencode,0,n.work,X),n.lenbits=X.bits,D){e.msg="invalid code lengths set",n.mode=Wt;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;v=(V=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(E=m+2;l<E;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Wt;break}N=n.lens[n.have-1],f=3+(3&c),c>>>=2,l-=2}else if(17===b){for(E=m+3;l<E;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}l-=m,N=0,f=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(E=m+7;l<E;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}l-=m,N=0,f=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Wt;break}for(;f--;)n.lens[n.have++]=N}}if(n.mode===Wt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Wt;break}if(n.lenbits=9,X={bits:n.lenbits},D=It(1,n.lens,0,n.nlen,n.lencode,0,n.work,X),n.lenbits=X.bits,D){e.msg="invalid literal/lengths set",n.mode=Wt;break}if(n.distbits=6,n.distcode=n.distdyn,X={bits:n.distbits},D=It(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,X),n.distbits=X.bits,D){e.msg="invalid distances set",n.mode=Wt;break}if(n.mode=20,t===Zt)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=l,Xt(e,h),o=e.next_out,r=e.output,d=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Lt&&(n.back=-1);break}for(n.back=0;v=(V=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(v&&0==(240&v)){for(w=m,y=v,_=b;v=(V=n.lencode[_+((c&(1<<w+y)-1)>>w)])>>>16&255,b=65535&V,!(w+(m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}c>>>=w,l-=w,n.back+=w}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===v){n.mode=26;break}if(32&v){n.back=-1,n.mode=Lt;break}if(64&v){e.msg="invalid literal/length code",n.mode=Wt;break}n.extra=15&v,n.mode=22;case 22:if(n.extra){for(E=n.extra;l<E;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;v=(V=n.distcode[c&(1<<n.distbits)-1])>>>16&255,b=65535&V,!((m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(0==(240&v)){for(w=m,y=v,_=b;v=(V=n.distcode[_+((c&(1<<w+y)-1)>>w)])>>>16&255,b=65535&V,!(w+(m=V>>>24)<=l);){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}c>>>=w,l-=w,n.back+=w}if(c>>>=m,l-=m,n.back+=m,64&v){e.msg="invalid distance code",n.mode=Wt;break}n.offset=b,n.extra=15&v,n.mode=24;case 24:if(n.extra){for(E=n.extra;l<E;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Wt;break}n.mode=25;case 25:if(0===d)break e;if(f=h-d,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Wt;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=r,p=o-n.offset,f=n.length;f>d&&(f=d),d-=f,n.length-=f;do{r[o++]=g[p++]}while(--f);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[o++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[a++]<<l,l+=8}if(h-=d,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?ae(n.check,r,h,o-h):ie(n.check,r,h,o-h)),h=d,(n.flags?c:Gt(c))!==n.check){e.msg="incorrect data check",n.mode=Wt;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[a++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Wt;break}c=0,l=0}n.mode=29;case 29:D=Tt;break e;case Wt:D=Ot;break e;case 31:return kt;default:return Ft}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Wt&&(n.mode<27||t!==St))&&en(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?ae(n.check,r,h,e.next_out-h):ie(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Lt?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===h||t===St)&&D===Yt&&(D=Rt),D},inflateEnd:function(e){if(!e||!e.state)return Ft;var t=e.state;return t.window&&(t.window=null),e.state=null,Yt},inflateGetHeader:function(e,t){if(!e||!e.state)return Ft;var n=e.state;return 0==(2&n.wrap)?Ft:(n.head=t,t.done=!1,Yt)},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?Ft:11===n.mode&&ie(1,t,i,0)!==n.check?Ot:en(e,t,i,i)?(n.mode=31,kt):(n.havedict=1,Yt):Ft},inflateInfo:"pako inflate (from Nodeca project)"};var nn=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},rn=Object.prototype.toString,an=se.Z_NO_FLUSH,on=se.Z_FINISH,sn=se.Z_OK,dn=se.Z_STREAM_END,cn=se.Z_NEED_DICT,ln=se.Z_STREAM_ERROR,un=se.Z_DATA_ERROR,hn=se.Z_MEM_ERROR;function fn(e){this.options=nt({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new lt,this.strm.avail_out=0;var n=tn.inflateInit2(this.strm,t.windowBits);if(n!==sn)throw new Error(oe[n]);if(this.header=new nn,tn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=st(t.dictionary):"[object ArrayBuffer]"===rn.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=tn.inflateSetDictionary(this.strm,t.dictionary))!==sn))throw new Error(oe[n])}function pn(e,t){var n=new fn(t);if(n.push(e),n.err)throw n.msg||oe[n.err];return n.result}fn.prototype.push=function(e,t){var n,i,r,a=this.strm,o=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?on:an,"[object ArrayBuffer]"===rn.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(o),a.next_out=0,a.avail_out=o),(n=tn.inflate(a,i))===cn&&s&&((n=tn.inflateSetDictionary(a,s))===sn?n=tn.inflate(a,i):n===un&&(n=cn));a.avail_in>0&&n===dn&&a.state.wrap>0&&0!==e[a.next_in];)tn.inflateReset(a),n=tn.inflate(a,i);switch(n){case ln:case un:case cn:case hn:return this.onEnd(n),this.ended=!0,!1}if(r=a.avail_out,a.next_out&&(0===a.avail_out||n===dn))if("string"===this.options.to){var d=ct(a.output,a.next_out),c=a.next_out-d,l=dt(a.output,d);a.next_out=c,a.avail_out=o-c,c&&a.output.set(a.output.subarray(d,d+c),0),this.onData(l)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==sn||0!==r){if(n===dn)return n=tn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},fn.prototype.onData=function(e){this.chunks.push(e)},fn.prototype.onEnd=function(e){e===sn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=it(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var gn,mn,vn={Inflate:fn,inflate:pn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,pn(e,t)},ungzip:pn,constants:se},bn={Deflate:Dt.Deflate,deflate:Dt.deflate,deflateRaw:Dt.deflateRaw,gzip:Dt.gzip,Inflate:vn.Inflate,inflate:vn.inflate,inflateRaw:vn.inflateRaw,ungzip:vn.ungzip,constants:se};function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nn=Boolean(window.console&&window.console.info),Dn=!1;!function(){try{Dn=window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.bt_debug}catch(e){Dn=!1}}();var Xn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"":n,r=t.level,a=void 0===r?En.DEFAULT:r;wn(this,e),_n(this,"tag","Blockthrough"),_n(this,"prefix",""),this.setPrefix(i),this.setLevel(a)}var t,n,i;return t=e,n=[{key:"setPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}},{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En.DEFAULT;Tn(e)?this.level=e:this.level=En.DEFAULT}},{key:"log",value:function(e,t,n,i){if(Dn&&Nn){if(arguments.length<3||!Tn(e)||"object"!==(0,a.Z)(t)||"string"!=typeof n)throw new TypeError;if(!(e<this.level)){var r=Sn(),o=Hn(t),s="";s+="%c["+this.tag+" - "+Mn[e]+"]%c",s+="%c[%s]%c ",o&&(s+="%c["+o+"]%c "),this.prefix&&(s+=this.prefix),s+=n;var d=[];d.push(s),d.push("color: #000000; background-color: "+zn[e]),d.push("background-color: inherit"),d.push("color: #757575;"),d.push(Zn(r)),d.push("background-color: inherit"),o&&(d.push("color: "+Yn(t)),d.push("color: inherit")),d=d.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,d)}}}},{key:"debugf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.DEBUG,e,t].concat(n)),Bn(i,Vn.DEBUG)}},{key:"infof",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.INFO,e,t].concat(n)),Bn(i,Vn.INFO)}},{key:"noticef",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.NOTICE,e,t].concat(n)),Bn(i,Vn.NOTICE)}},{key:"warningf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.WARNING,e,t].concat(n)),Bn(i,Vn.WARNING)}},{key:"errorf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_error_event",error:{name:t}}),Bn(i,Vn.ERROR)}},{key:"criticalf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_critical_event",error:{name:t}}),Bn(i,Vn.CRITICAL)}},{key:"alertf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.ALERT,e,t].concat(n)),Bn(i,Vn.ALERT)}},{key:"emergencyf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[En.EMERGENCY,e,t].concat(n)),Bn(i,Vn.EMERGENCY)}}],n&&yn(t.prototype,n),i&&yn(t,i),e}(),En={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},Vn={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},Mn=(_n(gn={},En.DEFAULT,"DFT"),_n(gn,En.DEBUG,"DBG"),_n(gn,En.INFO,"INF"),_n(gn,En.NOTICE,"NTC"),_n(gn,En.WARNING,"WRN"),_n(gn,En.ERROR,"ERR"),_n(gn,En.CRITICAL,"CRT"),_n(gn,En.ALERT,"ALR"),_n(gn,En.EMERGENCY,"EMR"),gn),zn=(_n(mn={},En.DEFAULT,"#F5F5F5"),_n(mn,En.DEBUG,"#BBDEFB"),_n(mn,En.INFO,"#B3E5FC"),_n(mn,En.NOTICE,"#DCEDC8"),_n(mn,En.WARNING,"#FFE0B2"),_n(mn,En.ERROR,"#FFCCBC"),_n(mn,En.CRITICAL,"#E57373"),_n(mn,En.ALERT,"#F06292"),_n(mn,En.EMERGENCY,"#BA68C8"),mn),xn=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],In=(new Date).getTime();function Sn(){return(new Date).getTime()-In}function Hn(e){return e&&e.id||null}function Zn(e){return e<1e3?Math.round(e).toString()+"ms":(e/1e3).toFixed(2)+"s"}function Yn(e){var t=Hn(e);return t?xn[function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%xn.length]:"#000000"}function Tn(e){return"number"==typeof e&&void 0!==Mn[e]}function Bn(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||c.Z.commonUtils.getTrueByProbability(e.sendPercentage))){var n=Object.assign({},e,{severity:t});d.Y.fireEvent("sendLog",n)}}var Fn=new Xn({prefix:"utf8: "});const On=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){Fn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},kn=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){Fn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};var Rn=new function(){var e,t=b(8,10),n=window.location.href,i="2.9.85-11-g4e99b21";window.__upo_d=window.__upo_d||{},window.__upo_d.recoveryScriptVersion=i;try{e=window.__bt_intrnl.traceID}catch(t){e=""}var r=function(t,n){""==t&&(t="/");var r=t,a="?";(n=n||{}).upapi=["true"],n.tid=[e],n.cv=[i];for(var o=Object.keys(n),s=0;s<o.length;s++)for(var d=o[s],c=n[d],l=0;l<c.length;l++){var u=c[l];r+=a+encodeURIComponent(d)+"="+encodeURIComponent(u),a="&"}return r};this.sendLog=function(e){var t=o.Z.SharedObject.getItem("websiteConfig")||{},i=t.organizationID,a=t.websiteID,s={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:a,meta:e.meta,pageURL:n},d={method:"POST",url:r("/log"),body:On(JSON.stringify(s))};return g.$fetch(d)},this.testCompliance=function(e){return new Promise((function(n,i){var a={};a.pid=[t],a.nr=["2"];var o=e,s=r("/tc",a),d=JSON.stringify(e);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(o=bn.deflate(d).buffer,a.z=[1],s=r("/tc",a)):o=On(d)}catch(e){o=On(d)}var c={method:"POST",url:s,body:o};g.$fetch(c).then((function(e){var t=JSON.parse(kn(e.body)),i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]={status:t[r].status,id:t[r].id,backup:t[r].backup});n(i)}),(function(e){i(new Error)}))}))},this.reportAuctionStarted=function(e,i,a,o,c,l,u){var h={};h.pid=[t],h.nr=["1"];var f={};f.websiteID=c,f.orgID=l,f.auctionID=e,f.spaceExternalID=i,f.spaceName=a,f.bids=s.Z.map(o,(function(e){return{bidderExternalID:e.bidderId,provider:e.provider}})),f.refreshDepth=u,f.pageURL=n,d.Y.fireEvent("auctionStartChangeRequestData",{query:h,body:f});var p={method:"POST",url:r("/as",h),body:On(JSON.stringify(f))};return g.$fetch(p)},this.reportAuctionEnd=function(e,i,a,o,s,c,l,u,h){var f={};f.pid=[t],f.seid=[l],f.nr=["1"],c.websiteID=o,c.orgID=s,c.auctionID=e,c.spaceExternalID=i,c.spaceName=a,c.dfpAdUnit=l,c.adUnitCode=l,c.gamEnabled=u,c.refreshDepth=h,c.pageURL=n,d.Y.fireEvent("auctionEndChangeRequestData",{query:f,body:c});var p={method:"POST",url:r("/ae",f),body:On(JSON.stringify(c))};return g.$fetch(p)},this.reportRender=function(e,t,i,a,o,s,d,c,l,u){var h={nr:["1"]},f={};f.websiteID=c,f.orgID=l,f.auctionID=e,f.spaceExternalID=s,f.spaceName=d,f.bidderExternalID=t,f.provider=i,f.refreshDepth=u,f.pageURL=n,f.amount=a,f.currency=o;var p={method:"POST",url:r("/r",h),body:On(JSON.stringify(f))};return g.$fetch(p)},this.reportView=function(e,t,i,a,o,s,d,c){var l={nr:["1"]},u={};u.websiteID=s,u.orgID=d,u.auctionID=e,u.spaceExternalID=a,u.spaceName=o,u.bidderExternalID=t,u.provider=i,u.refreshDepth=c,u.pageURL=n;var h={method:"POST",url:r("/v",l),body:On(JSON.stringify(u))};return g.$fetch(h)},this.consentData=function(e){var a={},s={},d={consents:{}},l=e.tcData,u=e.error,h=o.Z.SharedObject.getItem("websiteConfig")||{},f=h.organizationID,p=h.websiteID;f&&(a.organizationID=parseInt(f)),p&&(a.websiteID=parseInt(p)),a.pageID=t,a.clientVersion=i,l?(s.cmpVersion=l.cmpVersion,s.gdprApplies=l.gdprApplies,s.tcfPolicyVersion=l.tcfPolicyVersion,s.tcString=l.tcString,l.gdprApplies&&(s.purpose=l.purpose,[10,13,25,28,32,52,69,76,91,755].forEach((function(e){return d.consents[e]=l.vendor.consents[e]})),s.vendor=d)):(s.gdprApplies=null,s.error=c.Z.commonUtils.truncateString(u.message,1024)),a.tcData=s,a.pageURL=n;var m={method:"POST",url:r("/ce"),body:On(JSON.stringify(a))};return g.$fetch(m)}},Cn=new Xn({prefix:"report: "}),Ln=new function(){this.init=function(){var e=o.Z.SharedObject.getItem("websiteConfig");d.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,n=t.eventName,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(n,i);return void window.dispatchEvent(r)}catch(e){return(r=document.createEvent("CustomEvent")).initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(r)}(r=document.createEvent("CustomEvent")).initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(r)})),d.Y.addEventListener("sendLog",(function(e){var t=e.data;Rn.sendLog(t).then((function(e){Cn.infof(null,"sendLog - %o",e)}),(function(e){Cn.errorf(null,"sendLog - %o",e)}))})),d.Y.addEventListener("onAuctionStarted",(function(t){var n=t.data.auction,i=n.auctionId,r=n.unit.space.id,a=n.unit.space.name,o=[],d=n.unit.space.preBiddingSettings&&n.unit.space.preBiddingSettings.biddingSettings,c=n.unit.space.postBiddingSettings;if(d)for(var l in d)if(l=parseInt(l),d.hasOwnProperty(l)){var u=d[l];s.Z.forEach(u,(function(e){o.push({bidderId:e.id,provider:e.name})}))}c&&(c.adxId&&o.push({bidderId:c.adxId,provider:"gad"}),c.directId&&o.push({bidderId:c.directId,provider:"direct"})),Rn.reportAuctionStarted(i,r,a,o,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAuctionStarted - %o",e)}),(function(e){Cn.errorf(null,"onAuctionStarted - %o",e)}))})),d.Y.addEventListener("onAuctionEnded",(function(t){var n=t.data,i=n.auction,r=n.bid,a=i.bids,s=i.unit.space.name,c=d.Y.fireEvent("getDefaultCreative",{auction:i}),l="default-creative"===r.bidder&&c.disableAuctionEventLogging;try{if(e.dfpEnabled)for(var u=window.googletag.pubads().getSlots(),h=0;h<u.length;h++){var f=u[h],p=f.getSlotElementId();if(document.getElementById(p)==i.unit.element){s=f.getAdUnitPath().split("/")[f.getAdUnitPath().split("/").length-1];break}}}catch(e){Cn.errorf(null,"onAuctionEnded: %o",e)}var g={bids:[],aliens:[],win:void 0};for(h=0;h<a.length;h++){var m=a[h],v={bid:{cpm:m.cpm,bidderCode:m.bidderCode,complianceStatus:m.complianceStatus}},b=d.Y.fireEvent("bidCpmAdjustment",v)||1,w=m.cpm/1e3*b,y=d.Y.fireEvent("prebidTimeout")||3e3,_={bidderExternalID:m.bidderId,provider:m.bidderCode,amount:w,complianceStatus:m.complianceStatus,timeout:y,latency:m.timeToRespond,requestStatus:"OK",creativeID:m.contentIdHash,adUnit:s,adSize:String(m.width)+"x"+String(m.height),adID:m.adId,currency:m.currency};if(m!=r)switch(_.complianceStatus){case o.Z.consts.complianceStatus.COMPLIANT:case o.Z.consts.complianceStatus.INCOMPLIANT:g.bids.push(_);break;default:g.aliens.push(_)}else g.win=_}if(l){g.win.provider=c.providerName||"default-creative";var N={sendToServer:!0,event:"adRecover Backfill",meta:{adUnitCode:s,aliens:g.aliens,auctionID:i.auctionId,bids:g.bids,dfpAdUnit:s,gamEnabled:e.dfpEnabled,orgID:e.organizationID,pageURL:window.location.href,refreshDepth:i.unit.countOfDispatches-1,spaceExternalID:i.unit.space.id,spaceName:i.unit.space.name,websiteID:e.websiteID,win:g.win}};Cn.infof(null,"adRecover Backfill, auction ID -> ",i.auctionId||"N/A",N)}else Rn.reportAuctionEnd(i.auctionId,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,g,s,e.dfpEnabled,i.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAuctionEnded - %o",e)}),(function(e){Cn.errorf(null,"onAuctionEnded - %o",e)}))})),d.Y.addEventListener("onAuctionRendered",(function(t){var n=t.data,i=n.auction,r=n.bid,a=d.Y.fireEvent("getDefaultCreative",{auction:i});if(!("default-creative"===r.bidder&&a.disableAuctionEventLogging)){var o={bid:{cpm:r.cpm,bidderCode:r.bidderCode,complianceStatus:r.complianceStatus}},s=d.Y.fireEvent("bidCpmAdjustment",o)||1,c=r.cpm/1e3*s;Rn.reportRender(i.auctionId,r.bidderId,r.bidderCode,c,r.currency,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAuctionRendered - %o",e)}),(function(e){Cn.errorf(null,"onAuctionRendered - %o",e)}))}})),d.Y.addEventListener("onAdViewed",(function(t){var n=t.data,i=n.auction,r=n.bid,a=d.Y.fireEvent("getDefaultCreative",{auction:i});"default-creative"===r.bidder&&a.disableAuctionEventLogging||Rn.reportView(i.auctionId,r.bidderId,r.bidderCode,i.unit.space.id,i.unit.space.name,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){Cn.infof(null,"onAdViewed - %o",e)}),(function(e){Cn.errorf(null,"onAdViewed - %o",e)}))}))},d.Y.addEventListener("consentData",(function(e){var t=e.data;Rn.consentData(t).then((function(e){Cn.infof(null,"consentData - %o",e)}),(function(e){Cn.errorf(null,"consentData - %o",e)}))}))},Wn=new Xn({prefix:"verifications: "});const Gn={Report:Ln,Verifications:new function(){this.run=function(){n(),e()};var e=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=d.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var i=new Image;i.addEventListener("load",(function(){t.callback(!0)}),!1),i.addEventListener("error",(function(){t.callback(!1)}),!1),i.src=n}}))},t=!1,n=function(){d.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var n=e.data;n.contentRestriction&&n.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var n=0;n<e.length;n++)if(e[n].cpm>0&&"emx_digital"!==e[n].bidder&&"districtmDMX"!==e[n].bidder){t=!0,d.Y.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=!0);var i=o.Z.SharedObject.getItem("renderedUnits"),r={adBlockDetectionType:o.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!i||0==i.length},a={sendToServer:!0,event:"pbjsDetected",meta:r};Wn.noticef(null,"pub's pbjs was detected -> ",r,a)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""},c={sendToServer:!0,event:"pbjsBidReceived",meta:s};Wn.noticef(null,"pub's pbjs bid was received -> ",s,c)}}))})))}))}}};var An=new Xn({prefix:"utils: "}),Pn=function(e){switch(e){case"ALL":return o.Z.consts.refreshType.ALL;case"VISIBLE":return o.Z.consts.refreshType.VISIBLE;case"HIDDEN":return o.Z.consts.refreshType.HIDDEN;default:return o.Z.consts.refreshType.UNKNOWN}};function jn(e){try{return document.querySelector(e)}catch(t){An.errorf(null,"document.querySelector:%o - error:%o",[e,t])}}function Jn(e){return e&&e.selector?jn(e.selector.value):null}var Kn=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=s.Z.filter(i,(function(e){return t.indexOf(e)<0})))||i.length<=0)return;!function r(a,o){if(!(a>o)){for(var d=0;d<i.length;d++){for(var c=i[d],l=[],u=0;u<e.length;u++){var h=e[u];n(h,{space:c})&&(t.push(c),h.stayLive||l.push(h))}e=l.length>0?s.Z.filter(e,(function(e){return l.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){r(a+1,o)}),100)}}(0,20)}catch(e){}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(c.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},Un=__webpack_require__(17),Qn=__webpack_require__(143),qn=new Xn({prefix:"whitelistingIFrame: "});var $n="BT_WHITELISTING_IFRAME_ACCESS";function ei(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn.Im.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidatesSrcs,n=d.Y.fireEvent("customWhitelistingIFrameURL"),i=d.Y.fireEvent("keepBTDomainWhitelistingIFrame");return(e=n?Promise.resolve(n):i?Promise.resolve(null):ti(t,0)).then((function(e){Qn.Im.whitelistingIFrameSettings.url=e||Qn.Im.whitelistingIFrameSettings.url,Qn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=!e})),e}function ti(e,t){return e[t]?new Promise((function(n){var i=c.Z.addAcceptableParam(e[t]),r=new window.XMLHttpRequest;r.open("GET",i),r.addEventListener("load",(function(a){try{if(!r.status.toString().startsWith("4")&&r.responseURL==="".concat(window.location.origin).concat(i)&&function(e){var t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;var n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((function(e){return e.startsWith("frame-ancestors")}))&&r.split(" ");return!(r&&!r.some((function(e){return e===window.location.origin})))}(r))return void function(e){try{var t=localStorage.getItem($n);if((t=t&&JSON.parse(t))&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){qn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((function(t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function i(){n.removeEventListener("load",i);var r=!1;n.contentDocument&&(r=!0),t(r);var a={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};localStorage.setItem($n,JSON.stringify(a)),n.parentElement.removeChild(n)})),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(i).then((function(e){n(e?i:null)}));ti(e,t+1).then((function(e){return n(e)}))}catch(i){ti(e,t+1).then((function(e){return n(e)}))}})),r.addEventListener("error",(function(i){ti(e,t+1).then((function(e){return n(e)}))})),r.send()})):Promise.resolve(null)}var ni=function(){var e=Qn.Im.whitelistingIFrameSettings.url,t=document.createElement("iframe");return t.addEventListener("load",(function t(){if(this.removeEventListener("load",t),Qn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame||this.contentDocument||(Qn.Im.whitelistingIFrameSettings.url=Qn.VP,Qn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=Qn.k$,localStorage.removeItem($n),this.src=Qn.Im.whitelistingIFrameSettings.url),e.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=c.Z.commonUtils.getTopmostAccessibleWindow().location.protocol+e),e},i=function(e,t){if(e&&""===e.src&&e.outerHTML){var i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}},r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){}return r.apply(this,e)};var a=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){}return a.apply(this,e)};var o=function(e){try{var t=Array.prototype.slice.call(arguments),n=e.apply(this,t);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){}return n},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=o(s);var d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=o(d);var l=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),u=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=u.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return l.apply(this)}catch(e){}}));for(var h=Un.v.htmlElements,f=0;f<h.length;f++)t[h[f]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),a=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){}return a.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){}})))}(t[h[f]])}(this)}catch(e){}})),t.src=e,t};const ii={commonBLUtils:e,movePositionService:Kn,whitelistingIFrame:t};var ri=new Xn({prefix:"auction: "}),ai=function e(t){var n=!1,i=new c.Z.SubscriptionLayer;this.auctionId=b(8,9),this.unit=t.unit,this.state=e.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.cancelAuction=function(){n=!0},this.getWinningBid=function(){for(var e=void 0,t=void 0,n=0;n<this.bids.length;n++){var i=this.bids[n];(!e||i.cpm>e.cpm)&&i.complianceStatus==o.Z.consts.complianceStatus.COMPLIANT&&(e=i),(!t||i.cpm>t.cpm)&&(t=i)}return t&&t!=e&&a(t)?t:e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var n=this.bids[t];n.complianceStatus==o.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};function r(e){window.setTimeout((function(){e&&"none"==window.getComputedStyle(e).display&&e.style.setProperty("display","block","important")}),1e3)}this.renderBid=function(t){var c,h=this;try{if(d.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=e.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!=t&&i.cancelBid()}}(this,t),!t||n||!this.unit.element||!(document.documentElement||document.body).contains(this.unit.element))return this.unit.currentBid||(c=this.unit,s.Z.addClass("up-hide",c.element),s.Z.removeClass("up-show",c.element)),t&&t.cancelBid(),void i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});this.unit.cleanup(),u(this.unit.element),function(e,t){s.Z.addClass("up-show",e.element),s.Z.removeClass("up-hide",e.element)}(this.unit),this.unit.element._adData_=t,t.onRenderedEvent(function(){!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,a=function(e){var t=e.sizes,n=0;return s.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>a||r<120)&&(r=a),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,t,this.unit.space),function(e,t){if(d.Y.fireEvent("blacklistAdStatement",{space:t}))return;var n=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');if(n&&!n.querySelector(".upo-label")){var i=function(){var e=document.createElement("div");return e.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;"),e.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',e}();i.className="upo-label",n.appendChild(i),window.setTimeout((function(){i.style.opacity="1"}),2e3)}}(this.unit.element,this.unit.space);try{d.Y.fireEvent("skipEnsureElementVisibility",{unit:this.unit})||((e=this.unit.element).classList.contains("up-show")||e.classList.add("up-show"),r(e),r(e.parentElement),r(e.parentElement.parentElement)),function(e){if(0===e.offsetWidth&&0===e.offsetHeight){var t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};ri.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(this.unit.element)}catch(e){ri.errorf(null,"bid.onRenderedEvent: ensureElementVisibility: %o",e)}var e;i.invokeEventCallbacks("auctionRendered",t),this.unit.rendered(t),o.Z.SharedObject.getItem("renderedUnits")||o.Z.SharedObject.setItem("renderedUnits",[]),o.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var f=a(t),p={placement:this.unit.element},g=function(){f?(t.onRenderedEvent(function(){this.renderStaticAd(this.bid,this.element)}.bind({bid:t,renderStaticAd:l,element:h.unit.element})),t.renderStaticBid(p)):t.renderBid(p)},m=t.additionalBidsToRender&&t.additionalBidsToRender.length>0&&t.additionalBidsToRender[0];m?(m.onRenderedEvent(g),m.renderBid()):g(),i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}catch(e){ri.errorf(null,"renderBid err:%o",e)}};var a=function(e){return d.Y.fireEvent("forceCompliant")&&e.complianceStatus==o.Z.consts.complianceStatus.INCOMPLIANT},l=function(e,t){var n="//mrb.upapi.net/fc?h="+e.contentIdHash+"&upapi=true";t.style.setProperty("background-image",'url("'+n+'")',"important"),t.style.setProperty("background-repeat","no-repeat","important")},u=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};ai.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var oi=function e(t,n,i,r,a,o,s,d,c){this.bidId=b(16,24),this.ad=t.ad,this.adId=t.adId,this.adUrl=t.adUrl,this.bidderId=t.bidderId,this.bidder=t.bidder,this.bidderCode=t.bidderCode,this.contentIdHash=t.contentIdHash,this.currency=t.currency,this.creativeId=t.creativeId,this.c=t.c,this.cpm=t.cpm,this.complianceStatus=t.complianceStatus||0,this.height=t.height,this.isBackupCreative=t.isBackupCreative,this.timeToRespond=t.timeToRespond,this.size=t.size,this.width=t.width,this.rawBid=n,this.type=i,this.status=e.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=a,this.renderStaticBid=o||function(){},this.cancelBid=function(){this.status=e.Status.CANCELED,s&&s(),this.additionalBidsToRender.forEach((function(e){return e.cancelBid()}))},this.getGPTTargeting=function(e){return r&&r.call(this,e)},this.onRenderedEvent=d||function(){},this.makeEntryForTestCompliance=c||function(){}};function si(e,t,n,i,r,a,o){try{var s=e[a](o),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(i,r)}function di(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){si(a,i,r,o,s,"next",e)}function s(e){si(a,i,r,o,s,"throw",e)}o(void 0)}))}}oi.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},oi.Status={LIVE:0,CANCELED:1};var ci=__webpack_require__(757),li=__webpack_require__.n(ci);function ui(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hi(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var fi=new Xn({prefix:"visibility: "}),pi=new Map,gi=new Map;function mi(e,t){var n,i;if(pi.has(e)){gi.get(e).push(t)}else{var r=new Promise((function(e,t){n=e,i=t}));pi.set(e,[n,i]),gi.set(e,[t]),r.then((function(){gi.get(e).forEach((function(e){return e()}))})).finally((function(){pi.delete(e),gi.delete(e)})),bi(e,n,i)}}function vi(e){var t=e.getBoundingClientRect(),n=function(){var e,t,n=window,i=[];for(;n!==window.top;){var r,a=ui((e=n.parent).document.getElementsByTagName("iframe"));try{for(a.s();!(r=a.n()).done;){var o=r.value;o.contentWindow===n&&(t=o.getBoundingClientRect(),i.push({x:t.x,y:t.y}))}}catch(e){a.e(e)}finally{a.f()}n=e}return i.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Xi(e)}}function bi(e,t,n){return wi.apply(this,arguments)}function wi(){return(wi=di(li().mark((function e(t,n,i){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yi((function(){return vi(t)?{stopIterations:!1}:{stopIterations:!0}}),10,100);case 2:r=e.sent,t&&(document.documentElement||document.body).contains(t)||i(),r&&n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t,n){return _i.apply(this,arguments)}function _i(){return(_i=di(li().mark((function e(t,n,i){var r;return li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!0);case 2:if(r=t(),!r.stopIterations){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(yi(t,n-1,i))}),i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ni(){pi.forEach((function(e,t){var n=r(e,2);bi(t,n[0],n[1])}))}try{window.top.addEventListener("scroll",(function(){Ni()})),window.top.addEventListener("focus",(function(){Ni()}))}catch(Be){Xi(Be)}function Di(e){var t,n,i,r=e.selector,a=e.id,o=e.element;if(!o)try{if(r)o=document.querySelector(r);else{if(!a)throw new Error("No selector, id, or element provided.");o=document.getElementById(a)}if(!o)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return fi.errorf(null,"isElementVisible - selector: `%o`, id: `%o` - error: %o",[r,a,e]),!1}"none"===window.getComputedStyle(o).display&&(n=o.style.getPropertyValue("display"),i=o.style.getPropertyPriority("display"),o.style.setProperty("display","block","important"),t=!0);var s,d=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(o),c=document.documentElement.scrollLeft||window.scrollX,l=document.documentElement.scrollTop||window.scrollY,u=window.innerHeight,h=window.innerWidth,f=o.offsetHeight,p=o.offsetWidth;return s=d.left>=c&&d.top>=l&&p+d.left<=c+h&&f+d.top<=l+u||(d.left<=c&&d.left+p>c||d.left>=c&&d.left<=c+h)&&(d.top<=l&&d.top+f>l||d.top>=l&&d.top<=l+u),t&&o.style.setProperty("display",n,i),s}function Xi(e){var t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};fi.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var Ei=function e(t){this.unitID=b(16,24),this.element=t.element,this.space=t.space,this.state=t.state||e.States.PENDING,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,t=[],i=0;i<e.length;i++)t.push(n(e[i]));for(i=0;i<t.length;i++)t[i]()},this.rendered=function(e){this.currentBid=e};var n=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};Ei.States={PENDING:0,CHECKING:1,DISPATCHED:2};const Vi={Auction:ai,Bid:oi,Slot:function(e){this.unit=e.unit,this.auctionsList=[],this.slotName=this.unit.space.name,this.renderBid=function(e){var t=n(this.auctionsList);if(t){var i=e&&s.Z.find(t.bids,(function(t){return t.bidId==e.bidId}));try{t.subscribeForEvent("renderBidDone",(function(e){e.successfulyRenderedBid?d.Y.fireEvent("onAuctionEnded",{auction:t,bid:i}):d.Y.fireEvent("onAuctionEnded",{auction:t})})),t.renderBid(i),t.subscribeForEvent("auctionRendered",(function(){auction.unit.countOfRenders++;var e=auction.unit.countOfRenders;d.Y.fireEvent("onAuctionRendered",{auction:t,bid:i}),mi(t.unit.element,(function(){e==t.unit.countOfRenders&&d.Y.fireEvent("onAdViewed",{auction:t,bid:i})}))}))}catch(e){}}},this.getBids=function(){var e=n(this.auctionsList);if(e)return t(e.bids)},this.getLastAuctionBids=function(){var e=i(this.auctionsList);if(e)return t(e.bids)};var t=function(e){return s.Z.map(e,(function(e){return{bidId:e.bidId,adId:e.adId,bidder:e.bidder,cpm:e.cpm,height:e.height,width:e.width,size:e.size,complianceStatus:e.complianceStatus}}))},n=function(e){return s.Z.find(e,(function(e){return e.state!=Auction.States.DONE}))},i=function(e){var t=e.reverse();return s.Z.find(t,(function(e){return e.state==Auction.States.DONE}))}},Space:function(e){if(this.id=e.id,this.name=e.name,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.preBiddingSettings={enabled:!1},e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var t in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(t)){var n=e.preBiddingSettings.biddingSettings[t];this.preBiddingSettings.biddingSettings[t]=[];for(var i=0;i<n.length;i++){var r=n[i];if(r.id&&r.name&&r.params){var a={id:r.id,name:r.name,params:r.params};this.preBiddingSettings.biddingSettings[t].push(a)}}}if(this.postBiddingSettings={enabled:!1},e.postBiddingSettings&&e.postBiddingSettings.enabled){this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,type:e.postBiddingSettings.type,order:[]};for(i=0;i<e.postBiddingSettings.order.length;i++){var o=e.postBiddingSettings.order[i];d.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:o})||this.postBiddingSettings.order.push({params:{keyValues:o.params.keyValues||{},queryParams:o.params.queryParams||{}},adx:{bidderID:o.adx.bidderID,testCompliance:o.adx.testCompliance},direct:{bidderID:o.direct.bidderID}})}}},Unit:Ei};function Mi(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}var zi=new Xn({prefix:"adUnitParser: "}),xi=function(e){try{var t,n=function(e){return 2===e.length&&e.every((function(e){return!Array.isArray(e)&&!isNaN(e)}))},i=function(e){return"".concat(e[0],"x").concat(e[1])},r={},a=e.selector||c.Z.commonUtils.escapeSelector("#"+e.code),s=e.sizes;if(s||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(s=e.mediaTypes.banner.sizes),!s)return;if(t=n(s)?[i(s)]:s.filter(n).map(i),r.id=e.id,r.id||(r.id="space_"+Mi(e.code+"_"+a)),r.id=r.id.substr(0,500),r.name=e.code,r.deviceType=e.deviceType,r.sizes=t,r.selector={position:0,value:a},e.bids){r.preBiddingSettings={enabled:!0,biddingSettings:[]},r.preBiddingSettings.biddingSettings[1]=[];for(var d=0;d<e.bids.length;d++){var l=e.bids[d];l.params=l.params||{};var u="bidder_"+Mi(r.id+"_"+l.bidder+"_"+JSON.stringify(l.params).trim());u=u.substr(0,500),r.preBiddingSettings.biddingSettings[1].push({id:u,name:l.bidder,params:l.params})}}else r.preBiddingSettings={enabled:!1};return o.Z.SharedObject.getItem("websiteConfig").dfpEnabled?r.postBiddingSettings={adxId:r.name+"_adx",directId:r.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:r.name+"_adx",testCompliance:!0},direct:{bidderID:r.name+"_direct"}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:r.name+"_adx",testCompliance:!1},direct:{bidderID:r.name+"_direct"}}]}:r.postBiddingSettings={enabled:!1},r}catch(e){zi.errorf(null,"error in parsing prebid ad unit - err: %o",e)}};function Ii(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Si(e){if(e){var t=d.Y.fireEvent("rewriteGAMSlots")||d.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),i=e.getSizes();i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(i);try{var r=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,r)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);var n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!r)return;var a=Ii(r,i,n);return a&&(a._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,a),t.postSlotCreation&&t.postSlotCreation(a)),a}catch(e){zi.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}function Hi(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Zi=__webpack_require__(905);function Yi(e){var t=Zi.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fi={hookName:"prebidDoneInit",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;return e.websiteOverridesOrg?r:Bi(Bi({},n),r)},handler:function(e,t){var n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}};function Oi(e,t,n,i){switch(e){case"equals":return i===t;case"startsWith":case"endsWith":case"includes":return i[e](t);case"equalsOneOf":return n.includes(i);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var r=e.split("OneOf")[0];return n.some((function(e){return i[r](e)}))}}const ki={hideDOMElementsViaCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Hi(n),Hi(r))},handler:function(e){var t=[];if(e.forEach((function(e){var n=e.whenDevice,i=e.selectors;Yi(n)&&t.push.apply(t,Hi(i))})),t.length>0){var n=document.createElement("style");n.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(n)}}},insertCustomCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat(Hi(n),Hi(r))},handler:function(e){var t="";if(e.forEach((function(e){var n=e.whenDevice,i=e.customCSS,r=void 0===i?"":i;Yi(n)&&(t="".concat(t,"\n").concat(r))})),""!==t){var n=document.createElement("style");n.textContent=t,(document.head||document.body||document.documentElement).appendChild(n)}}},prebidConfig:Fi,removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i,a=e.websiteOverridesOrg,o=n.forAllSpaces,s=void 0===o?[]:o,d=n.forSpaces,c=void 0===d?[]:d,l=r.forAllSpaces,u=void 0===l?[]:l,h=r.forSpaces,f=void 0===h?[]:h;return{forAllSpaces:a?u:[].concat(Hi(s),Hi(u)),forSpaces:a?f:[].concat(Hi(c),Hi(f))}},handler:function(e,t){var n=e.forAllSpaces,i=e.forSpaces,a=t.data.spaceName,o=new Set;return n.forEach((function(e){var t=e.whenDevice,n=e.sizes,i=void 0===n?[]:n;Yi(t)&&i.forEach((function(e){o.add(e)}))})),i.forEach((function(e){var t=e.name,n=e.nameList,i=e.whenName,r=e.whenDevice,s=e.sizes,d=void 0===s?[]:s;Yi(r)&&function(e,t,n,i){switch(e){case"equals":return i===t;case"startsWith":case"endsWith":case"includes":return i[e](t);case"equalsOneOf":return n.includes(i);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var r=e.split("OneOf")[0];return n.some((function(e){return i[r](e)}))}}(i,t,n,a)&&d.forEach((function(e){o.add(e)}))})),Hi(o).map((function(e){if("fluid"===e)return"fluid";var t=r(e.split("x").map((function(e){return parseInt(e,10)})),2),n=t[0],i=t[1];return isNaN(n)||isNaN(i)?null:{width:n,height:i}})).filter((function(e){return null!==e}))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:function(e,t){var n,i=e.rewritePathMethod,r=e.rewritePathData;if("insertBTAdUnit"===i){var a=r||{},o=a.btUnitName,s=a.insertionDepth,d=a.maxDepth;s&&(n=function(e){var t=e.getAdUnitPath();"/"!==t[0]&&(t="/".concat(t));var n=o||"Blockthrough",i=t.split("/");return i.splice(s,0,n),d&&d>0&&(i=i.slice(0,d+1)),i.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGAMSlots:{hookName:"scrapeGoogletagSlots",handler:function(e){return e}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var a={};a.adUnitsVar=n.adUnitsVar||r.adUnitsVar;var o=(n.parse||{}).removeBidders,s=(r.parse||{}).removeBidders;(o||s)&&(a.parse={},a.parse.removeBidders=o&&s?{forAllAdUnits:[].concat(Hi(o.forAllAdUnits||[]),Hi(s.forAllAdUnits||[])),forAdUnits:[].concat(Hi(o.forAdUnits||[]),Hi(s.forAdUnits||[]))}:o||s);var d=(n.filterOut||{}).adUnits,c=(r.filterOut||{}).adUnits;return(d||c)&&(a.filterOut={},a.filterOut.adUnits=d&&c?[].concat(Hi(d),Hi(c)):d||c),a},handler:function(e,t){var n,i,r=e.dontScrape,a=e.adUnitsVar,o=e.parse,s=e.filterOut;if(r)n=!1;else{if(n=t.hookFileData||{},a&&(n.getAdUnits=function(){return c.Z.commonUtils.extractVariableFromString(window,a)}),o){var d=o.removeBidders?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forAllAdUnits,n=void 0===t?[]:t,i=e.forAdUnits,r=void 0===i?[]:i;if(n.length>0||r.length>0)return function(e){var t=[];return n.forEach((function(e){var n=e.whenDevice,i=e.bidders,r=void 0===i?[]:i;Yi(n)&&t.push.apply(t,r)})),r.forEach((function(n){var i=n.code,r=n.codeList,a=n.whenCode,o=n.whenDevice,s=n.bidders,d=void 0===s?[]:s;Yi(o)&&Oi(a,i,r,e.code)&&t.push.apply(t,d)})),e.bids=e.bids.filter((function(e){var n=e.bidder;return!t.includes(n)})),e}}(o.removeBidders):null,l=n.parseAdUnit;d&&(n.parseAdUnit=l?function(e){return d(l(e))}:d)}if(s){var u=s.adUnits?(i=s.adUnits,function(e){return i.some((function(t){var n=t.code,i=t.codeList,r=t.whenCode;if(Yi(t.whenDevice))return Oi(r,n,i,e.code)}))}):null,h=n.filterOutAdUnit;u&&(n.filterOutAdUnit=h?function(e){return h(e)||u(e)}:u)}}return n}},enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:function(e){return e}}};var Ri=new Xn({prefix:"scriptsettings: "}),Ci=ki,Li={},Wi=Object.entries(Li).reduce((function(e,t){var n=r(t,2),i=n[0],a=n[1];if(a._enabled)if(i.endsWith("__org")){var o=i.split("__org")[0];e[o]=e[o]||{},e[o].org=a.value}else if(i.endsWith("__website")){var s=i.split("__website")[0];e[s]=e[s]||{},e[s].websiteOverridesOrg=!!a._overrides_org,e[s].website=a.value}else e[i]=a.value;return e}),{});var Gi={rawSettings:Li,parsed:Wi},Ai=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}},Pi=function(e){window.addEventListener("scroll",(function(t){e()}))},ji=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,i,r,a){var o=t[n];o&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return o.apply(this,t);if(i)try{if(null!=(n=d.Y.fireEvent(i,t,this)))return n}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}var n=o.apply(this,t);if(r)try{d.Y.fireEvent(r,n,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return n})},this.hookPropertySetter=function(t,n,i,r,a){var o=t.__lookupGetter__(n),s=t.__lookupSetter__(n);o&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return s.apply(this,t);if(i)try{if(null!=(n=d.Y.fireEvent(i,t,this)))return n}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}var n=s.apply(this,t);if(r)try{d.Y.fireEvent(r,n,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return n})),t.__defineGetter__(n,(function(){try{return o.apply(this)}catch(e){}})))},this.addEventListener=function(e,t){d.Y.addEventListener(e,t)}};function Ji(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Ki="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==",Ui=new Xn({prefix:"prebidAdapter: "}),Qi=new function(){var e=!1,t={},n={},i=new c.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.dispatch=function(n){try{e||(e=!0,t=o.Z.cpbjs,b(),d.Y.fireEvent("wrapPrebidRequestBids")&&y(),X());var a={};s.Z.forEach(n,(function(e){a[e.spaceName]={hbAdUnit:e,deferred:new s.Z.CDefer}}));var c=function(e){return e.map((function(e){var t=d.Y.fireEvent("spaceStoredRequestId",{spaceName:e.spaceName}),n=l(e),i=[];s.Z.forEach(e.biddersSettings,(function(e){var t={bidder:e.name,params:e.params};i.push(t)}));var r={code:e.spaceName,bids:i,sizes:n,mediaTypes:{banner:{sizes:n}}};return t&&(r.ortb2Imp={ext:{prebid:{storedrequest:{id:t}}}}),r}))}(n);v=[],c.forEach((function(e){e.bids.forEach((function(e){v.includes(e.bidder)||v.push(e.bidder)}))})),t.setConfig({multibid:[{bidders:v,maxBids:3}],useBidCache:!0});var u=d.Y.fireEvent("prebidTimeout")||3e3;r(),t.requestBids({timeout:u,adUnits:c,bidsBackHandler:function(e){try{for(var t in a)if(a.hasOwnProperty(t)){var n=a[t],r=n.hbAdUnit;if(e){var o=e[t],d=[];if(o){var l=s.Z.find(c,(function(e){return e.code==t})).sizes;o.bids=f(o.bids,l),d=p(o.bids,n.hbAdUnit)}var u={auctionId:r.auctionId,bids:d};n.deferred.resolve(u),s.Z.forEach(d,(function(e){var t={auctionId:r.auctionId,bid:e};i.invokeEventCallbacks("bidReceived",t)}))}else{var h={auctionId:r.auctionId,bids:[]};n.deferred.resolve(h)}}}catch(e){Ui.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var h=[];for(var g in a)if(a.hasOwnProperty(g)){var m=a[g];h.push(m.deferred.promise)}return h}catch(e){Ui.errorf(null,"dispatch: - %o",e)}var v};var r=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"==e.key})),n=!!s.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"==e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}},a=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var n=parseInt(t[0]),i=parseInt(t[1]);if(isNaN(n)||isNaN(i))throw new Error;return{width:n,height:i}},l=function(e){for(var t=[],n=0;n<e.sizes.length;n++){var i=a(e.sizes[n]),r=i.width,o=i.height;t.push({width:r,height:o})}var l=d.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});l&&(t=s.Z.map(t,(function(e){var t=s.Z.find(l,(function(t){return t.size.width==e.width&&t.size.height==e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));var u=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],h=e.element&&e.element.getAttribute("id")||e.spaceName,f=u.find((function(e){return e.getSlotElementId()===h})),p=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:f});p&&(t=s.Z.filter(t,(function(e){return!s.Z.find(p,(function(t){return t.width==e.width&&t.height==e.height}))})));var g=c.Z.sizesRemover(e.element,t);return g=s.Z.filter(g,(function(e){return!!e})),g=s.Z.map(g,(function(e){return[e.width,e.height]}))};var u=function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=function(e){try{var t=JSON.parse(e.adTargeting);for(var n in t.amzniid=e.adId,t)e.adserverTargeting[n]=t[n];e.ad=e.adHtml;try{!o.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){}delete e.adUrl}catch(e){}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.bidder&&("triplelift"===e.bidder&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=h(t))},h=function(e){for(var t=l(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};function f(e,t){return s.Z.filter(e,(function(e){return s.Z.find(t,(function(t){return e.width==t[0]&&e.height==t[1]}))}))}var p=function(e,i){var r=s.Z.map(e,(function(e){if(e.bidderId=g(e,i),e.bidderId){u(e,i),n[e.adId]=new s.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:v(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},a=new Vi.Bid(r,e,Vi.Bid.Types.PREBID,(function(n){var i=n.complianceBidsInAuction.length>0?s.Z.map(n.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,r=e.adUnitCode,a=t.getAdserverTargeting(r,i)[r];return""==a.hb_pb&&a.hb_pb_org&&(a.hb_pb=a.hb_pb_org),a=d.Y.fireEvent("customAdserverTargeting",{adServerTargeting:a})||a}),(function(e){try{w(this);var t=e.placement;this.onRenderedEvent((function(){var e=t.parentElement.querySelector(".ahover");s.Z.removeClass("up-pb-static",e)})),_(t,this)}catch(e){}}),(function(e){w(this);var t=e.placement;this.onRenderedEvent((function(){var e=t.parentElement.querySelector(".ahover");s.Z.addClass("up-pb-static",e)})),_(t,this)}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:n[e.adId]}),(function(){return m(this)}));return a}Ui.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[i,e])}));return s.Z.reject(r,c.Z.commonUtils.isNil)},g=function(e,t){var n=s.Z.find(t.biddersSettings,(function(t){return t.name===e.bidderCode}));return n?n.id:"s2s"===e.source?"s2s-".concat(e.bidderCode,"-").concat(e.adUnitCode):void 0},m=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("152media"!==e.bidderCode&&"brealtime"!==e.bidderCode&&"districtm"!==e.bidderCode&&"defymedia"!==e.bidderCode&&"appnexusAst"!==e.bidderCode||(t.provider="appnexus"),"ix"===e.bidderCode&&(t.provider="indexExchange"),"underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var a=i.hdbd_data.hbbids[r];a.cpm>n&&(n=a.cpm,t.markup=a.creative_data.creative)}}catch(e){}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},v=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!=e.adid?String(e.adid):e.crid&&"0"!=e.crid?String(e.crid):e.creativeId&&"0"!=e.creativeId?String(e.creativeId):e.creative_id&&"0"!=e.creative_id?String(e.creative_id):null},b=function(){t.onEvent("bidWon",(function(e){n[e.adId].resolve()}))},w=function(e){var t=e.rawBid;t&&t.bidder&&(d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},y=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,a=0;a<r.length;a++)n.push(r[a].code);if(i.invokeEventCallbacks("refresh",n),!d.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},_=function(e,n){var i=D(),r=i.container,a=i.iframe;a.addEventListener("load",(function e(){try{a.removeEventListener("load",e);var i=o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame;a.style.setProperty("visibility",""),i||(a.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var r=!i&&a.contentWindow.document,s=Zi.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===s&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[\?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(i){a.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var e=r.styleSheets,t=0;t<e.length;t++)e[t].cssText&&e[t].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(e[t].cssText="")}catch(e){}}),3e3)),window.setTimeout((function(){var e="edge"===s||"ie"===s;if(e||N(n,a,i),i){var o='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';a.contentWindow.postMessage({type:"eval",code:o},"*")}else t.renderAd(r,n.adId);e&&N(n,a,i)}),0),a.style.width=n.width+"px",a.style.height=n.height+"px"}catch(e){Ui.errorf(null,"renderBid - %o",e)}})),e.insertBefore(r,e.children[0])};function N(e,t,n){if(!1!==e.isBackupCreative)if(n)t.contentWindow.postMessage({type:"eval",code:"try { eval(atob('dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==')) } catch (err) {}"},"*");else try{t.contentWindow.eval(atob(Ki))}catch(e){Ui.errorf(null,"evalBackupCreativeScript: - %o",e)}}var D=function(){var e=document.createElement("div");e.className="ahover";var t=ii.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}},X=function(){var e="up-pb-stylesheet";if(!document.getElementById(e)){var t=document.createElement("style");t.id=e,t.type="text/css",t.textContent=".up-pb-static { opacity: 0.001 !important; }",(document.head||document.body||document.documentElement).appendChild(t)}}},qi=new function(){var e=!1,t=new c.Z.SubscriptionLayer;function n(e,t,n){if(e===qi.Types.PREBID)return Qi.dispatch(t,n)}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i,r){e&&(e=!1),e=!0,Qi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Qi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)}));var a=[],o={};for(var d in s.Z.forEach(i,(function(e){var t={hbAdUnit:e,promises:[]};a.push(t);var n=e.biddingSettings;for(var i in n)if(i=parseInt(i),n.hasOwnProperty(i)){var r=n[i];if(r&&r.length>0){o[i]=o[i]||[];var s={biddersSettings:r,auctionId:e.auctionId,spaceName:e.spaceName,sizes:e.sizes,selector:e.selector,element:e.element};o[i].push(s)}}})),o)if(d=parseInt(d),o.hasOwnProperty(d)){var c=o[d],l=r&&r[d],u=n(d,c,l);s.Z.forEach(u,(function(e,t){s.Z.find(a,(function(e){return e.hbAdUnit.auctionId==c[t].auctionId})).promises.push(e)}))}return s.Z.map(a,(function(e){return Promise.all(e.promises).then((function(t){var n=s.Z.map(t,(function(e){return e.bids}));return{auctionId:e.hbAdUnit.auctionId,bids:s.Z.flat(n)}}))}))}};qi.Types={UNKNOWN:0,PREBID:1,RTK:2};var $i=new Xn({prefix:"dfpAdapter: "}),er=new function(){var e=!1,t={},n={},i={},r=[],a=[],o=new c.Z.SubscriptionLayer,l={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,F(),O())},this.dispatch=function(e,r){try{this.init();var a=[];return d.Y.fireEvent("onBeforeDfpRefreshDispatch"),d.Y.fireEvent("tryDisableGoogletagLazyLoad")&&u(),s.Z.forEach(e,(function(e){var i=new s.Z.CDefer;a.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var r=new s.Z.CDefer;n[e.slotElementId]=r})),window.googletag.cmd.push((function(){try{$i.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];s.Z.forEach(t,(function(t){s.Z.forEach(e,(function(e,r){var a=t.getSlotElementId();if(a===e.slotElementId){n.push(t);var o=b(16,24);if(i[o]=a,t.setTargeting("uponitSlotIterationId",o),d.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),g(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),m(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var s=window.uponit.modifiers.dfpTargeting,c=0;c<s.length;c++){var l=t.getTargetingMap(),u={};for(var h in l)u[h]=l[h];var f=null;!e||null==e.floorPrice&&null==e.floorPrice||(f=e.floorPrice);var p=s[c](u,t,f);if(p)for(var h in p)l[h]&&l[h]===p[h]||t.setTargeting(h,p[h])}}catch(e){$i.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),$i.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",p(n)),h(n);var r=googletag.pubads().isSRA()&&(c=0,n.forEach((function(e){var t=e.getTargetingMap();Object.entries(t).forEach((function(e){var t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;c+=t+n}))})),c>=6e3);if(d.Y.fireEvent("forceNotSingleRequestRefresh")||r)for(var a=function(){var e=n[o];setTimeout((function(){window.googletag.pubads().refresh([e],void 0,!0)}),0)},o=0;o<n.length;o++)a();else setTimeout((function(){window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){$i.errorf(null,"dispatch: %o",e)}var c})),a}catch(e){$i.criticalf(null,"google cmd function failed: %o",e)}};var u=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},h=function(e){s.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},f=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){$i.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},p=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:f(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){$i.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},g=function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=e.getTargetingKeys(),a=0;a<r.length;a++){var o=r[a];i.test(o)&&e.clearTargeting(o)}},m=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}},v=function(e){if(!e)return!1;var t=d.Y.fireEvent("isPrebidResponse",{str:e});if(null!=t)return t;if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return!0;if(/apstag\.renderImp\(document,/gm.test(e))return!0;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e))return!0;return!!/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e)||e.indexOf("districtm_adslot = ")>-1},w=function(e,t,n,i){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var r=d.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:i,googleSlot:t});if(r&&(e=r),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var a=0;a<n.length;a++){var o=n[a];if("fluid"!=o&&o.getWidth()>=120){e._width_=parseInt(o.getWidth()),e._height_=parseInt(o.getHeight());break}}};function y(e){switch(e){case Vi.Bid.Types.ADX:return"gad";case Vi.Bid.Types.ADX_TEXT:return"gad_text";case Vi.Bid.Types.DIRECT:return"gad_dfp_direct"}}var _=function(e,t){switch(e){case Vi.Bid.Types.ADSENSE:case Vi.Bid.Types.ADX:case Vi.Bid.Types.ADX_TEXT:return t.adxBidderId;case Vi.Bid.Types.DIRECT:return t.directBidderId}},N=function(e,t,n){try{if(e&&t==Vi.Bid.Types.DIRECT&&n._adgroup2_ids_&&n._adgroup2_ids_[0]&&n._creative_ids_&&n._creative_ids_[0])return n._adgroup2_ids_[0].toString()+"_"+n._creative_ids_[0].toString()}catch(e){$i.errorf(null,"getCreativeId: %o",e)}};function D(e){var n=t[e],i={auctionId:n.asAdUnit.auctionId,bids:[]};n.deferred.resolve(i)}var X=function(e,t){r.push(t),e._html_=d.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},E=function(e){var t=e.getSlotElementId(),n=c.Z.commonUtils.escapeSelector("#"+t),i=document.querySelector(n+' [id^="google_ads_iframe_"]');return i=d.Y.fireEvent("customInnerContainer",{googleSlot:e})||i},V=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},M=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},z=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],a=t[r.getSlotElementId()].asAdUnit;if(a&&a.params&&a.params.queryParams)for(var o in a.params.queryParams)if(a.params.queryParams.hasOwnProperty(o)){var s=a.params.queryParams[o];n[o]=s}}return n}catch(e){$i.errorf(null,"getSlotsQueryParams: %o",e)}},x=function(e,i,r,c){try{var l=s.Z.map(i,(function(e,t){if(r.indexOf(t)>-1)return i[t]}));return function(e,i){try{if(e){for(var r={},c=[],l=0;l<e.length;l++){var u=e[l].response.parsedData,h=e[l].response.rawResponse,f=e[l].slot;if(f){var p=i[l],g=f.getSlotElementId(),m=new s.Z.CDefer;r[g]=m,c.push(m.promise);var b=t[g],V=E(f);if(!u||u&&!u._html_||u&&u._empty_)r[g].resolve({injectToDom:!1}),D(g);else{w(u,f,p,V),v(u._html_)&&X(u,g);var M=(T=f,B=void 0,B=(Y=u)._html_,Y._empty_?Vi.Bid.Types.EMPTY:v(B)?Vi.Bid.Types.DFP_PREBID:Y._is_afc_?"text"===z([T]).ad_type?Vi.Bid.Types.ADX_TEXT:Vi.Bid.Types.ADX:B.indexOf("js/adsbygoogle.js")>-1||B.indexOf("pagead/show_ads.js")>-1?Vi.Bid.Types.ADSENSE:Vi.Bid.Types.DIRECT),x=d.Y.fireEvent("forceCompliant"),I={ad:u._html_,adId:null,bidder:y(M),bidderId:_(M,b.asAdUnit.params),bidderCode:y(M),creativeId:N(x,M,u),width:u._width_,height:u._height_,cpm:b.asAdUnit.floorPrice+.01},S=new Vi.Bid(I,h,M,void 0,function(e){return function(){var t=r[e];this.onRenderedEvent((function(){var t=document.getElementById(e).querySelector('div[id^="google_ads_"]');s.Z.removeClass("up-gpt-static",t)})),"unresolved"==t.fate&&t.resolve({injectToDom:!0})}}(g),function(e){return function(){var t=r[e];this.onRenderedEvent((function(){var t=document.getElementById(e).querySelector('div[id^="google_ads_"]');s.Z.addClass("up-gpt-static",t)})),"unresolved"==t.fate&&t.resolve({injectToDom:!0})}}(g),function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(g),function(e){return function(t){n[e].promise.then((function(){t()}))}}(g),(function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.type==Vi.Bid.Types.DIRECT?"dfp_direct":this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}})),H={auctionId:b.asAdUnit.auctionId,bids:[S]};b.deferred.resolve(H);var Z={auctionId:b.asAdUnit.auctionId,bid:S};o.invokeEventCallbacks("bidReceived",Z)}}else c.push(Promise.resolve({injectToDom:!1}))}return Promise.all(c).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){var i=this.responsesWithSlots[n].response,r=i.parsedData,o=this.responsesWithSlots[n].slot,s=o&&o.getSlotElementId();e[n]&&!e[n].injectToDom&&(s&&a.push(s),r._html_="",r._empty_=!0,r._width_=1,r._height_=1),t.push(i)}return t}catch(e){$i.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:c}))}}catch(e){$i.errorf(null,"handleDfpBidResponses: %o",e)}var Y,T,B}(s.Z.map(e,(function(e,t){return{slot:l[t],response:e}})),c)}catch(e){$i.errorf(null,"invokeMiddleware: %o",e)}},I=function(e,t,n,i){return $i.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[p(t),n]),new Promise((function(r,a){try{if(""===e.responseText)return t.forEach((function(e){return D(e.getSlotElementId())})),void r();var o=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var a=window.JSON.parse(r)}catch(e){$i.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var o=Object.keys(a)[0],s=a[o],d={adUnitPath:o,rawResponse:s,parsedData:{}};try{for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];void 0!==s[u]&&null!==s[u]&&(d.parsedData[c]=s[u])}}catch(e){$i.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);x(o,t,n,i).then((function(t){var n=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,a=r._html_;delete r._html_;var o=i.rawResponse,s={};try{for(var d in l)if(l.hasOwnProperty(d)){var c=l[d];1==r[d]?o[c]=1:0==r[d]?o[c]=0:o[c]=r[d]}s[i.adUnitPath]=o}catch(e){$i.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+a+"\n"}catch(e){$i.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(n,e),r()}))}catch(e){$i.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},S={width:320,height:50};function H(e,t,n){return!("fluid"!==e||!n)||t.some((function(t){return t.width===e.width&&t.height===e.height}))}function Z(e){var t=c.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){var n=t.split(",");return n=n.map((function(e){return isNaN(e)?e:parseInt(e)}))}}var Y=function(e,n,i){var r;if(e)try{var a;if(e.indexOf("&sz=")>-1)a="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;a="prev_iu_szs"}var o=function(e){var t="sz",n=c.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=c.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var i=n.split(",");return i=s.Z.map(i,(function(e){return e.split("|")})),s.Z.map(i,(function(e,t){return s.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}}(e);if(!o)return;var l=o.length;r=s.Z.filter(o,(function(e,t){return i.indexOf(t)>-1}));var u=(Z(e)||[]).filter((function(e,t){return i.includes(t)})),h=[],f=[];!function(){var t=d.Y.fireEvent("removeSizesDfpConfig");if(t){var i=t.forAll||[];r=s.Z.map(r,(function(r,a){var o=n[a].getSlotElementId(),d=(t[o]||[]).concat(i);return d=s.Z.map(d,(function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:S.width,height:S.height}}return t})),s.Z.filter(r,(function(e){return!s.Z.find(d,(function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),r=s.Z.map(r,(function(e,i){var r=n[i],a=r.getSlotElementId(),o=t[a].asAdUnit.spaceName,c=u[i],l=d.Y.fireEvent("sizesToRemoveBySpace",{spaceName:o,slot:r});return l?(l.includes("fluid")&&c&&(u[i]=0),s.Z.filter(e,(function(e){return!s.Z.find(l,(function(t){return"fluid"===t?S.width==e.width&&S.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{s.Z.forEach(r,(function(e,i){var r=n[i].getSlotElementId(),a=t[r].asAdUnit,o=u[i],c=d.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:a});if(!c)return e;s.Z.forEach(c,(function(t){H(t,e,o)||("fluid"===t?(H(S,e,o)||e.push({width:S.width,height:S.height}),u[i]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){$i.errorf(null,"sizesToAddBySpace error - %o",e)}s.Z.forEach(r,(function(e,t){var i=n[t].getSlotElementId(),r=document.getElementById(i),a=c.Z.sizesRemover(r,e);0==(a=s.Z.filter(a,(function(e){return!!e}))).length&&(a=[{width:2,height:3}]),h.push(a);var o,d=(o=a,s.Z.map(o,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==S.width&&e.height==S.height&&(t="fluid"),t})));f.push(d)}));var p,g=0,m=s.Z.map(o,(function(e,t){if(i.indexOf(t)<0)return e;var n=h[g];return g++,n}));return p=s.Z.map(m,(function(e){return s.Z.map(e,(function(e){return e.width+"x"+e.height}))})),p=(p=s.Z.map(p,(function(e){return e.join("|")}))).join(","),e=function(e,t,n,i){var r=Z(e);if(!r&&0===t.length)return e;var a=0,o=Array(i).fill(0).map((function(e,i){return n.includes(i)?t[a++]:r[i]||0})).join(",");return r?V(e,"fluid",o):"".concat(e,"&fluid=").concat(encodeURIComponent(o))}(e=V(e,a,p),u,i,l),{url:e,modifiedSizes:f}}catch(t){return $i.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:s.Z.map(n,(function(e){return e.getSizes()}))}}},T=function(){ji.addEventListener(ji.Types.XHR_OPEN_PRE,(function(e){try{var t=e.data;if(B(t[1])){var n=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],a=0;a<e.length;a++){var o=e[a];r.getSlotElementId()==o&&t.push(r)}return t}(function(e){var t=[],n=c.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=c.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var r=n.split("|"),a=0;a<r.length;a++){var o=r[a],s=M("uponitSlotIterationId",o);i[s]&&t.push(i[s])}return t}}(t[1])),r=function(e){var t=[],n=c.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=c.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,r=c.Z.commonUtils.extractQueryParamFromUrl("csp",e);r&&(i=M("upstdfp",r),$i.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var a=n.split("|"),o=0;o<a.length;o++){var s=a[o];(i||M("upstdfp",s))&&t.push(o)}return t}}(t[1]);g=n,s.Z.forEach(g,(function(e){e.clearTargeting("upstdfp")})),t[1]=c.Z.addAcceptableParam(t[1]),t[1]=function(e,t){var n=z(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(t[1],n);var a=Y(t[1],n,r);t[1]=a.url;var o=a.modifiedSizes;t[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=c.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var r=i.split(","),a=0;a<r.length;a++){var o=r[a];n.indexOf(o)<0&&t.push(o)}return V(e,"eid",t.join(","))}(t[1]),d.Y.fireEvent("onBeforeDfpAdsRequest",{url:t[1]}),$i.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[t[1],p(n),r]);var l=null,u=null,h=this,f=!1;this.onload=function(){try{if(!l||f)return;f=!0,I(h,n,r,o).then((function(){l.call(h)}))}catch(e){$i.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!u||f)return;4===this.readyState&&(200===this.status?(f=!0,I(h,n,r,o).then((function(){u.call(h,e)}))):$i.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){$i.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return l})),this.__defineSetter__("onload",(function(e){return l=e,e})),this.__defineGetter__("onreadystatechange",(function(){return u})),this.__defineSetter__("onreadystatechange",(function(e){return u=e,e}))}}catch(e){$i.errorf(null,"addListenersOnHooks: %o",e)}var g}))},B=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){o.subscribeForEvent(e,t)};var F=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;d.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();$i.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&p(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],a=0;a<t.length;a++)try{var s=t[a].getSlotElementId();s&&r.push(s)}catch(e){$i.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}o.invokeEventCallbacks("refresh",r)}),window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),o=E(t),s=o.querySelector("iframe");if(a.indexOf(i)>=0)a.splice(a.indexOf(i),1);else{var d=n[i];if(d&&"unresolved"==d.fate&&d.resolve(),r.indexOf(i)>-1){r.splice(r.indexOf(i),1);try{o.style.width="1px",o.style.height="1px",s.width="1",s.height="1"}catch(e){$i.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===s.width)s.style.setProperty("width","max-content","important");else{var c=s.width;s.style.setProperty("width",c+"px","important")}}})),T(window)}))},O=function(){var e="up-gpt-stylesheet";if(!document.getElementById(e)){var t=document.createElement("style");t.id=e,t.type="text/css",t.textContent=".up-gpt-static { opacity: 0.001 !important; }",(document.head||document.body||document.documentElement).appendChild(t)}}},tr=new function(){var e=!1,t=new c.Z.SubscriptionLayer;function n(e,t,n){switch(e){case tr.Types.DFP:return er.dispatch(t,n);case tr.Types.SMART_AS:}}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i,r){e||(e=!0,er.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),er.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)})));var a=[];s.Z.forEach(i,(function(e){a.push({asAdUnit:e,promise:void 0})}));for(var o={},d=0;d<i.length;d++){var c=i[d];o[c.type]=o[c.type]||[],o[c.type].push(c)}for(var l in o)if(l=parseInt(l),o.hasOwnProperty(l)){var u=o[l],h=r&&r[l],f=n(l,u,h);s.Z.forEach(f,(function(e,t){var n=u[t];s.Z.find(a,(function(e){return e.asAdUnit==n})).promise=e}))}return s.Z.map(a,(function(e){return e.promise}))}};tr.Types={UNKNOWN:0,DFP:1,SMART_AS:2};var nr=new Xn({prefix:"testCompliance: "});var ir=!1;try{ir=window.location.href&&window.location.href.indexOf("bt_tc=false")>=0||"false"===localStorage.getItem("bt_tc")}catch(Be){nr.errorf(null,"testComplianceDisabled: ",Be)}function rr(e,t){return c.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function ar(e,t,n,i){var r={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};nr.noticef(null,e,n,r)}function or(e,t){var n=o.Z.consts.complianceStatus.UNKNOWN,i=d.Y.fireEvent("customComplianceCheck",{bid:e});return ir?(n=o.Z.consts.complianceStatus.COMPLIANT,nr.debugf(null,"compliance is disabled for the current bid: ",e)):i?(n=i,ar("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):rr(t,e)?(n=o.Z.consts.complianceStatus.INCOMPLIANT,ar("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")):!function(e){var t=e.ad,n=e.type;return!![[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some((function(e){return c.Z.commonUtils.matchStringsOnString(e,t)}))||!(!t.includes("googletag.pubads().definePassback(")||n!=Vi.Bid.Types.ADX)}(e)?!function(e){if("triplelift"===e.bidderCode&&e.ad&&e.ad.indexOf("tl_auction_response")>-1&&e.ad.indexOf("advertiser_name")>-1&&e.ad.indexOf("heading")>-1&&-1===e.ad.indexOf("VAST version")&&-1===e.ad.indexOf("vast_xml"))return!0}(e)?function(e){switch(e.bidderCode){case"adyoulike":case"lockerdome":case"sharethrough":return!0}return!1}(e)&&(n=o.Z.consts.complianceStatus.COMPLIANT,ar("compliant bidder: ",t.auctionId,e,"compliant_bidder")):(n=o.Z.consts.complianceStatus.COMPLIANT,ar("triplelift compliant bid: ",t.auctionId,e,"triplelift_compliant_bid")):(n=o.Z.consts.complianceStatus.COMPLIANT,ar("compliant based on HTML: ",t.auctionId,e,"compliant_based_on_HTML")),n}function sr(e){var t,n={},i={},r=o.Z.SharedObject.getItem("websiteConfig"),a=r.websiteID,d=r.organizationID,c={};if(s.Z.forEach(e,(function(e){var t=e.auction,r=e.bids;c[t.auctionId]=c[t.auctionId]||{};for(var a=0;a<r.length;a++){var s=r[a],d=or(s,t);if(d==o.Z.consts.complianceStatus.UNKNOWN){c[t.auctionId][s.bidId]={bid:s,result:{}};var l=s.makeEntryForTestCompliance();l.auctionID=t.auctionId,l.spaceExternalID=t.unit.space.id,l.spaceName=t.unit.space.name,l.refreshDepth=t.unit.countOfDispatches-1;var u=parseFloat(s.cpm);l.cpm=isNaN(u)?0:u,dr(l);var h=b(5,8);n[h]=l,i[h]=s}else c[t.auctionId][s.bidId]={bid:s,result:{status:d,backup:!1}}}})),Object.keys(n).length<=0){for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];for(var h in u)if(u.hasOwnProperty(h)){var f=u[h];c[l][h]=f.result}}return Promise.resolve(c)}try{t=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){t={locale:void 0,timeZone:void 0}}var p={domain:window.location.host,websiteID:a,orgID:d,bids:n,locale:t.locale,timezone:t.timeZone,pageURL:window.location.href};return Rn.testCompliance(p).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=n[t].auctionID,a=c[r][i[t].bidId];a.result.status=e[t].status,a.result.bidContentIdHash=e[t].id,a.result.backup=e[t].backup}for(var r in c)if(c.hasOwnProperty(r)){var o=c[r];for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];c[r][s]=d.result}}return c}))}function dr(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}nr.debugf(null,"test Compliance disabled? ",ir);var cr,lr=["ad","adId","bidderId","bidder","bidderCode","currency","creativeId","cpm","height","size","width"],ur=new Xn({prefix:"dispatch: ",level:En.INFO}),hr=new function(){var e=new c.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};var t=function(e){return s.Z.filter(e,(function(e){return e.cpm>=.01}))};this.dispatchHB=function(e,n){try{var i={},r=[],a=[];s.Z.forEach(e,(function(e){var t=new s.Z.CDefer;i[e.auctionId]=t,r.push(t.promise);var n=e.unit.space.preBiddingSettings;if(n&&n.enabled)a.push(e);else{var o={auctionId:e.auctionId,bids:[]};t.resolve(o)}}));var o=s.Z.map(a,(function(e){var t=e.unit.space.preBiddingSettings.biddingSettings;return{auctionId:e.auctionId,biddingSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),c=qi.dispatch(o,n);return Promise.all(c).then((function(e){try{for(var n=[],r=0;r<e.length;r++){var o=e[r],c=o.auctionId,l=s.Z.find(a,(function(e){return e.auctionId==c})),u=o.bids;u=d.Y.fireEvent("passZeroCpmBidsFilter")?u:t(u);var h=d.Y.fireEvent("filterPrebidBids");if(h)u=h(s.Z.map(u,(function(e){return{bid:e,rawBid:e.rawBid}})));o.bids=u,n.push({auction:l,bids:u})}sr(n).then((function(t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n],a=s.Z.find(e,(function(e){return e.auctionId==n})),o=a.bids;for(var d in r)if(r.hasOwnProperty(d)){var c=r[d],l=s.Z.find(o,(function(e){return e.bidId==d}));l.contentIdHash=c.bidContentIdHash,l.complianceStatus=c.status,l.isBackupCreative=c.backup}i[n].resolve(a)}}))}catch(e){}})),r}catch(e){}},this.dispatchAS=function(e,t){try{var i={},r=[],a=[];s.Z.forEach(e,(function(e){var t=new s.Z.CDefer;i[e.auctionId]=t,r.push(t.promise);var n=e.unit.space.postBiddingSettings;if(n&&n.enabled)a.push(e);else{var o={auctionId:e.auctionId,bids:[]};t.resolve(o)}}));var o=n(a,t,0);return s.Z.forEach(o,(function(e){e.then((function(e){var t=e.auctionId;i[t].resolve(e)}))})),r}catch(e){}};var n=function e(t,n,r){try{var a={},d=[];s.Z.forEach(t,(function(e){var t=new s.Z.CDefer;d.push(t.promise),a[e.auctionId]={auction:e,deferred:t}}));var l=[];if(s.Z.forEach(t,(function(e){e.unit.space.postBiddingSettings.order[r]?l.push(e):a[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})})),!l)return;var u=s.Z.map(l,(function(e){var t=e.unit.space.postBiddingSettings,n=e.getWinningBid(),a=n?n.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:i(e,t.order[r]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:a,type:t.type}})),h=tr.dispatch(u,n);return s.Z.forEach(h,(function(t){t.then((function(t){try{var i=t.auctionId,d=t.bids[0],h=s.Z.find(l,(function(e){return e.auctionId==i})),f=s.Z.find(u,(function(e){return e.auctionId==i}));if(!d){e([h],n,r+1)[0].then((function(e){a[i].deferred.resolve(e)}));try{var p=h.getWinningBid();if(p){p.ad,p.adId,p.bidderId,p.bidder,p.bidderCode,p.currency,p.creativeId,p.cpm,p.height,p.size,p.width;var g=Ji(p,lr),m={sendToServer:!0,event:"winButNoAACreative",meta:{auctionID:f.auctionId,winningBidData:g,spaceID:h.unit.space.id}};ur.infof(null,"logWinButNoAACreative, auction ID -> ",f.auctionId||"N/A",m)}}catch(e){}return}if(d.type==Vi.Bid.Types.DFP_PREBID)return d.complianceStatus=o.Z.consts.complianceStatus.COMPLIANT,void a[i].deferred.resolve(t);if(!(d.type!=Vi.Bid.Types.ADX_TEXT||f.params.adxShouldTestCompliance||rr(h,d)||function(e){return e.type==oi.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((function(t){return c.Z.commonUtils.matchStringsOnString(t,e.ad)}))}(d))){d.complianceStatus=o.Z.consts.complianceStatus.COMPLIANT,a[i].deferred.resolve(t);var v={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:i,bidderID:d.bidderId}};return void ur.noticef(null,"gam text ad: ",d,v)}sr([{auction:h,bids:[d]}]).then((function(s){if(d.contentIdHash=s[i][d.bidId].bidContentIdHash,d.complianceStatus=s[i][d.bidId].status,!n||!n.forceCompliantEnabled||d.type!=Vi.Bid.Types.DIRECT||d.complianceStatus!=o.Z.consts.complianceStatus.INCOMPLIANT)return d.complianceStatus!=o.Z.consts.complianceStatus.COMPLIANT?(d.cancelBid(),void e([h],n,r+1)[0].then((function(e){a[i].deferred.resolve(e)}))):void a[i].deferred.resolve(t);a[i].deferred.resolve(t)})).catch((function(t){d.cancelBid(),e([h],n,r+1)[0].then((function(e){a[i].deferred.resolve(e)}))}))}catch(e){}}))})),d}catch(e){}},i=function(e,t){if(e.unit.space.postBiddingSettings.type===tr.Types.DFP)return a(e,t)},r={},a=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids(),a=l(n,e.unit),o=n?n.getGPTTargeting({complianceBidsInAuction:i}):{},d=s.Z.objectAssign({},a||{},o,t.keyValues||{}),c=r[e.unit.unitID]?Object.keys(r[e.unit.unitID]).map((function(e){return new RegExp(e)})):[];return c.push.apply(c,Hi(["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source"].map((function(e){return new RegExp("".concat(e,".*"))})))),r[e.unit.unitID]=d,{toAdd:d,toRemove:c}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},l=function(e,t){var n={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)n.up_bidder="bt_exchange";else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","andbeyond","aol","appnexusAst","appnexus","arteebee","atomx","amazon","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickonometrics","clickforce","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtmDMX","districtm","engagebdr","emxdigital","emx_digital","e-planning","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamoshi","gamma","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","IndexExchange","indexExchange","ix","inneractive","innity","inskin","insticator","invibes","iqm","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","upo","upo1","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","upo10","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandBidder","rtbdemandadk","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","somoAudience","sonobi","soloway","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)n.up_bidder=e.bidder;else{var i={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode}};ur.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,i)}var r=window.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var a=r;a=a.match(/(co\.il|co\.uk|org\.il)/)?a.replace("www.","").split(".").splice(-3).join("."):a.replace("www.","").split(".").splice(-2).join("."),n.up_recovery="true";var s=Zi.Xh(),d=Zi.Uh(),c=Zi.Jv();n.up_browser=s,n.up_device=d,n.up_platform=c,n.up_domain=r,n.up_website=a,n.up_website_id=o.Z.SharedObject.getItem("websiteConfig").websiteID;var l=t.countOfDispatches-1;return n.up_refresh=l>30?"30":"".concat(l),n};tr.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),tr.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),qi.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),qi.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},fr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),d.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),d.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),d.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},pr=function(e){if("dfp"===e)return fr},gr=new Xn({prefix:"prebidPostset: "}),mr=function(){cr=o.Z.cpbjs,function(){var e=o.Z.SharedObject.getItem("whitelistingIFrame");e?cr.setCookieFrame({frame:e,isBTSafeFrameDomain:o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame}):d.Y.addEventListener("whitelistingIFrameLoaded",(function(e){cr.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame})}))}(),vr(),cr.que.push((function(){cr.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}}]}})})),cr.onBeforeRequest((function(e){var t=e&&c.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&d.Y.fireEvent("addCriteoAdblockQueryParam")){var n=t.includes("abp=1");t=n?t:"".concat(t,"&abp=1")}return t})),cr.aliasBidder("pulsepointLite","pulsepoint"),cr.aliasBidder("indexExchange","ix"),cr.aliasBidder("ix","indexExchange"),cr.aliasBidder("my6sense","upo2"),cr.aliasBidder("lockerdome","upo3");var e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(cr.bidderSettings=e.bidderSettings);var t=e&&e.getConfig&&e.getConfig(),n="high";if(t){var i=t.customPriceBucket,r=t.priceGranularity;n="custom"===r?i:r}cr.setConfig({priceGranularity:n,userSync:{iframeEnabled:1,syncsPerBidder:25,syncEnabled:1,pixelEnabled:1}});var a,s=d.Y.fireEvent("scrapePrebidRequestBids");s&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onListenerAdded,n=e.pollingInterval,i=void 0===n?100:n,r=e.maxIntervalCount,a=void 0===r?50:r;if(br())wr(t);else var o=0,s=setInterval((function(){++o>=a?clearInterval(s):br()&&(clearInterval(s),wr(t))}),i)}(s),d.Y.fireEvent("addIndexExchangeWrappers")&&yr(),(a=d.Y.fireEvent("provideSChainConfig"))&&cr.que.push((function(){try{if(!window[a.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");cr.setConfig({schain:window[a.prebidVariable].getConfig("schain")})}catch(t){try{var e=a.manualFallback||{};cr.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==e.complete&&void 0!==e.complete?e.complete:1,nodes:[{asi:e.asi,sid:e.sid,hp:null!==e.hp&&void 0!==e.hp?e.hp:1}]}}})}catch(e){gr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}})),d.Y.fireEvent("prebidDoneInit",{cpbjs:cr})},vr=function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var n=e.getConfig("consentManagement");if(n&&(n.gdpr||n.usp))return void cr.setConfig({consentManagement:n})}}catch(e){gr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:cr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},cr.setConfig(t)}}))}catch(e){gr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:cr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},cr.setConfig(t)}}))}catch(e){gr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var n={consentManagement:cr.getConfig().consentManagement||{}};n.consentManagement.usp={cmpApi:"iab",timeout:100},cr.setConfig(n)}}))}catch(e){gr.errorf(null,"setConsentConfig: __uspapi: %o",e)}};function br(){return window.pbjs&&window.pbjs.onEvent}function wr(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){var t=window.pbjs.adUnits||[],n=t.map((function(e){return e.code})),i=e.filter((function(e){return!n.includes(e.code)}));i.length>0&&(window.pbjs.adUnits=[].concat(Hi(t),Hi(i)))})),e&&e()}catch(e){gr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var yr=function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"},t=function(e){return(100*parseFloat(e)).toFixed()};for(var n in e)cr.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=cr.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}};var _r=function(e){if("prebid"===e)return mr},Nr=new function(){var e=new c.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{window.googletag&&window.googletag.getVersion&&(n=!0,(d=document.createElement("script")).async="true",d.type="text/javascript",d.addEventListener("load",(function(){e()})),d.addEventListener("error",(function(e){t(e)})),d.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(d))}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var i=window.googletag._vars_,r=[21063911,21063048,21063670,21063817,21063671],a=[];for(var o in i){var s=i[o];if("string"==typeof s&&s.indexOf("pubads_impl_")>-1&&!n)try{var d;n=!0,(d=document.createElement("script")).async="true",d.type="text/javascript",d.addEventListener("load",(function(){e()})),d.addEventListener("error",(function(e){t(e)})),s.indexOf("?")>-1?d.src=s+"&upapi=true":d.src=s+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(d)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(s))try{var c=s.length;if(r)for(;c--;){var l=s[c];r.indexOf(l)>-1&&s.splice(c,1)}if(a)for(var u=0;u<a.length;u++)l=a[u],-1===s.indexOf(l)&&s.push(l)}catch(e){}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},Dr=__webpack_require__(228),Xr=new c.Z.SubscriptionLayer,Er=!1,Vr=function(e){switch(Er||Er||(Er=!0,Nr.subscribeForEvent("preset",(function(){zr("dfp")})),Nr.subscribeForEvent("postset",(function(){Ir("dfp")})),Dr.k.subscribeForEvent("preset",(function(){zr("prebid")})),Dr.k.subscribeForEvent("postset",(function(){Ir("prebid")}))),e){case"dfp":Nr.load();break;case"prebid":Dr.k.load()}},Mr=function(e,t){Xr.subscribeForEvent(e,t)},zr=function(e){Xr.invokeEventCallbacks(e)},xr=function(e,t){Xr.subscribeForEvent(e,t)},Ir=function(e){Xr.invokeEventCallbacks(e)},Sr=new function(){var e={},t=!1,n=!1,i=function(t,n){for(var i=e[t]||[],r=i.length||0,a=0;a<r;a++){var o=i[a];setTimeout((function(){o(n)}),0)}};this.UPONIT_EVENTS={BID_RECEIVED:1},this.COMPLIANCE_STATUSES={UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},this.init=function(e){var o=e.prebidConfig,s=e.dfpConfig,d=o&&o.init,l=s&&s.init;t=o&&o.enabled,n=s&&s.enabled,r({prebid:t,dfp:n}),d&&a(d),l&&c(l),hr.subscribeForEvent("bidReceived",(function(e){var t=p([e.bid])[0];i(Sr.UPONIT_EVENTS.BID_RECEIVED,t)}))};var r=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=pr(t),i=_r(t);n&&Mr(t,n),i&&xr(t,i)}for(var t in e)e.hasOwnProperty(t)&&e[t]&&Vr(t)};this.defineSlot=function(e,t){var i,r,a=g(e),o=!!document.querySelector(a.selector.value),d=(i=a.selector.value,r=window.uponit.slots,!!s.Z.find(r,(function(e){return e.unit.space.selector.value==i})));if(o&&!d){!n||t&&t.dfpSlotAlreadyDefined||function(e){e&&e.adUnit&&e.sizes&&e.slotElementId&&window.googletag.cmd.push((function(){var t=window.googletag.defineSlot(e.adUnit,e.sizes,e.slotElementId).addService(window.googletag.pubads());if(e.targeting)for(var n in e.targeting)if(e.targeting.hasOwnProperty(n)){var i=e.targeting[n];t.setTargeting(n,i)}}))}(e.dfp);var c,l=new Vi.Space(a),u=document.querySelector(l.selector.value);(c=u).alreadyWraped||(ji.hookFunction(c,"setAttribute",ji.Types.SET_ATTRIBUTE_PRE,void 0,!0),c.alreadyWraped=!0);var h=new Vi.Unit({element:u,space:l}),f=new Vi.Slot({unit:h});return window.uponit.slots.push(f),f}};var a=function(e){d.Y.addEventListener("prebidDoneInit",(function(t){var n=t.data,i=n&&n.cpbjs;if(i){var r={setConfig:function(e){i.setConfig(e)},aliasBidder:function(e,t){i.aliasBidder(e,t)},enableAnalytics:function(e){i.enableAnalytics(e)},bidderSettings:function(e){i.bidderSettings=e}};for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];r[a]&&r[a].apply(this,o)}}}))},c=function(e){window.googletag.cmd.push((function(){window.googletag.pubads().disableInitialLoad()}))};this.enableServices=function(){n&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.enableServices()})))},this.fetchPrebid=function(e){return l(e)};var l=function(e){if(!t)return s.Z.map(e,(function(e){var t={slotName:e.unit.space.name,bids:[]};return Promise.resolve(t)}));var n=f(e),i=hr.dispatchHB(n);return s.Z.map(i,(function(e){return e.then((function(e){var t=e.auctionId,i=s.Z.find(n,(function(e){return e.auctionId==t})),r=e.bids,a=i.unit.space.name,c=r;return d.Y.fireEvent("apiOnlyCompliantBids")&&(c=[],s.Z.forEach(r,(function(e){e.complianceStatus==o.Z.consts.complianceStatus.COMPLIANT&&c.push(e)}))),i.addBids(c),{slotName:a,bids:p(c)}}))}))};this.fetchDFP=function(e){return u(e)};var u=function(e){if(!n)return s.Z.map(e,(function(e){var t={slotName:e.unit.space.name,bids:[]};return Promise.resolve(t)}));var t=f(e),i={forceCompliantEnabled:d.Y.fireEvent("forceCompliant")},r=hr.dispatchAS(t,i);return s.Z.map(r,(function(e){return e.then((function(e){var n=e.auctionId,i=s.Z.find(t,(function(e){return e.auctionId==n})),r=e.bids,a=i.unit.space.name,c=i.getWinningBid();if(r&&r.length>0&&r[0].type==Vi.Bid.Types.DFP_PREBID)return c&&c.additionalBidsToRender.push(r[0]),{slotName:a,bids:[]};var l=r;return d.Y.fireEvent("apiOnlyCompliantBids")&&(l=[],s.Z.forEach(r,(function(e){e.complianceStatus==o.Z.consts.complianceStatus.COMPLIANT&&l.push(e)}))),i.addBids(l),{slotName:a,bids:p(l)}}))}))};this.renderBid=function(e,t){e.renderBid(t)},this.fetchAndRender=function(e){return h(e)};var h=function(e){return new Promise((function(t,n){e=e||window.uponit.slots;var i=l(e);Promise.all(i).then((function(n){var i=u(e);s.Z.forEach(i,(function(e){e.then((function(e){for(var t,n=e.slotName,i=s.Z.find(window.uponit.slots,(function(e){return e.unit.space.name==n})),r=i.getBids(),a=0;a<r.length;a++){var d=r[a];(!t||t.cpm<d.cpm)&&d.complianceStatus==o.Z.consts.complianceStatus.COMPLIANT&&(t=d)}i.renderBid(t)}))})),Promise.all(i).then((function(){t()}))}))}))};this.addEventListener=function(t,n){e[t]=e[t]||[],e[t].push(n)};var f=function(e){return s.Z.map(e,(function(e){var t=function(e){return s.Z.find(e.auctionsList,(function(e){return e.state!=Vi.Auction.States.DONE}))}(e);return t||(t=new Vi.Auction({unit:e.unit}),e.auctionsList.push(t),d.Y.fireEvent("onAuctionStarted",{auction:t})),t}))},p=function(e){return s.Z.map(e,(function(e){return{bidId:e.bidId,adId:e.adId,bidder:e.bidder,cpm:e.cpm,height:e.height,width:e.width,size:e.size,complianceStatus:e.complianceStatus}}))},g=function(e){var t={};if(t.id="space_"+Mi(e.name+"_"+e.selector),t.id=t.id.substr(0,500),t.name=e.name,t.sizes=e.sizes,t.selector={position:0,value:e.selector},e.prebid){t.preBiddingSettings={enabled:!0,biddingSettings:{}},t.preBiddingSettings.biddingSettings[1]=[];for(var n=0;n<e.prebid.bidders.length;n++){var i=e.prebid.bidders[n],r="bidder_"+Mi(t.id+"_"+i.name+"_"+JSON.stringify(i.params).trim());r=r.substr(0,500),t.preBiddingSettings.biddingSettings[1].push({id:r,name:i.name,params:i.params})}}return e.dfp&&(t.postBiddingSettings={adxId:e.name+"_adx",directId:e.name+"_direct",enabled:!0,type:1,order:[{params:{keyValues:e.keyValues},adx:{bidderID:e.name+"_adx",testCompliance:!0},direct:{bidderID:e.name+"_direct"}},{params:{queryParams:{ad_type:"text"},keyValues:e.keyValues},adx:{bidderID:e.name+"_adx",testCompliance:!1},direct:{bidderID:e.name+"_direct"}}]}),t}},Hr=new Xn({prefix:"testCompliance: "}),Zr=new function(){this.init=function(){d.Y.addEventListener("onAuctionGroupStarted",(function(e){Hr.infof(null,"onAuctionGroupStarted: %o",e)})),d.Y.addEventListener("onAuctionGroupEnded",(function(e){Hr.infof(null,"onAuctionGroupEnded: %o",e)})),d.Y.addEventListener("onAuctionStarted",(function(e){Hr.infof(null,"onAuctionStarted: %o",e)})),d.Y.addEventListener("onAuctionEnded",(function(e){Hr.infof(null,"onAuctionEnded: %o",e)})),d.Y.addEventListener("onPrebiddingStarted",(function(e){Hr.infof(null,"onPrebiddingStarted: %o",e)})),d.Y.addEventListener("onPrebiddingEnded",(function(e){Hr.infof(null,"onPrebiddingEnded: %o",e)})),d.Y.addEventListener("onPostbiddingStarted",(function(e){Hr.infof(null,"onPostbiddingStarted: %o",e)})),d.Y.addEventListener("onPostbiddingEnded",(function(e){Hr.infof(null,"onPostbiddingEnded: %o",e)})),d.Y.addEventListener("onAuctionBidResponse",(function(e){Hr.infof(null,"onAuctionBidResponse: %o",e)})),d.Y.addEventListener("onNewUnitFound",(function(e){Hr.infof(null,"onNewUnitFound: %o",e)}))}},Yr=new function(){var e=[],t={},n={};this.set=function(i){var r=i;Array.isArray(r)||(r=[r]);for(var a=0;a<r.length;a++){var o=r[a];o&&(e.push(o),t[o.name]=t[o.name]||[],t[o.name].push(o),n[o.id]=n[o.id]||[],n[o.id].push(o))}},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e.filter((function(e){var t=e.deviceType;return!t||t===Zi.yC||t===Zi.l7()}))},this.remove=function(i){e=s.Z.filter(e,(function(e){return e!=i}));var r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);var a=t[i.name].indexOf(i);a>=0&&t[i.name].splice(a,1)}},Tr=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.element==t)return i}},this.getAll=function(){return e}},Br=["space"];function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Or=new Xn({prefix:"refresh: "}),kr=new function(){this.initialize=function(a){var l=a.invokeSpaces,u=function(a){var o=a.invokeSpaces;function s(){if(document.hasFocus()){if(0!==t.size){var i=new Map;if(t.forEach((function(n,r){var a,o;Di({selector:r.selector.value})?(a=n.skipComplianceCheck||Date.now()-e<3e3,o="IS_VISIBLE"===n.whenVisibility||"ANY"===n.whenVisibility):(a=!0,o="IS_HIDDEN"===n.whenVisibility||"ANY"===n.whenVisibility),a&&o&&(t.delete(r),i.set(r,n))})),0!==i.size){var a=Array.from(i.keys());Or.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[r(i),r(t)]),o(a).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.filter((function(t){return!e.includes(t)}));t.length>0&&(t.forEach((function(e){n(i.get(e))})),Or.infof(null,"Could not refresh & requeued: %o",t))}))}else Or.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",r(t))}}else Or.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.")}return c.Z.commonUtils.debounce(s,i)}({invokeSpaces:l});(function(t){var n=t.triggerRefresh;Pi((function(){n()})),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){Or.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}(),window.addEventListener("locationChange",(function(){e=Date.now(),n()}))})({triggerRefresh:u}),(d.Y.hasEventListener("spaceRefreshOnInterval")||d.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){var t=e.triggerRefresh;return function(e){var i=e.space,r=e.unitDispatchCount,a={space:i,unitDispatchCount:r},s=d.Y.fireEvent("spaceRefreshOnInterval",a)||d.Y.fireEvent("spaceRefreshSettings",a);if(s){var c=s.whenVisibility,l=s.type,u=s.skipComplianceCheck,h=void 0!==u&&u;if(h=h||d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:i}),!c){if(!l)return void Or.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(ii.commonBLUtils.refreshTypeDecoder(l)){case o.Z.consts.refreshType.UNKNOWN:return void Or.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",l);case o.Z.consts.refreshType.ALL:case o.Z.consts.refreshType.VISIBLE:return void Or.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",l);case o.Z.consts.refreshType.HIDDEN:c="IS_HIDDEN"}}var f=s.interval||s.rate||3e4;setTimeout((function(){n({space:i,whenVisibility:c,skipComplianceCheck:h}),t()}),f),Or.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[f/1e3,{spaceName:i.name,space:i,whenVisibility:c,skipComplianceCheck:h}])}}}({triggerRefresh:u}));(function(e){var t=e.triggerRefresh;hr.subscribeForEvent("refresh",(function(e){e.forEach((function(e){var t=document.getElementById(e),i=t&&Tr.getByElement(t),r=i&&i.space;if(r&&i.countOfDispatches>0){var a=Di({element:t})?"IS_VISIBLE":"IS_HIDDEN",o=d.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:r});Or.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:r.name,space:r,correspondingUnit:i,whenVisibility:a,skipComplianceCheck:o}),n({space:r,whenVisibility:a,skipComplianceCheck:o})}})),t()}))})({triggerRefresh:u}),function(e){var t=e.invokeSpaces,n=[];d.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,a=Yr.getAll(),o=r&&r.minTimeBetweenRefreshes,d=r&&r.shouldRefreshFailedSpaces,c=r&&r.spacesNames,l=r&&r.shouldRefreshAllSpaces,u=[],h={filteringSettings:{minTimeBetweenRefreshes:o}};l?u=a:(d&&s.Z.forEach(n,(function(e){u.push(e)})),c&&s.Z.forEach(a,(function(e){c.indexOf(e.name)>-1&&u.push(e)}))),u=s.Z.distinct(u),Or.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,u]),t(u,h).then((function(e){n=s.Z.filter(u,(function(t){return e.indexOf(t)<0}))}))}))}({invokeSpaces:l})},this.minTimeBetweenAuctionsUnitsFilter=function(t,n){var i=o.Z.upoSettings.minTimeBetweenRefreshes;d.Y.hasEventListener("minTimeBetweenRefreshes")&&(i=d.Y.fireEvent("minTimeBetweenRefreshes"));c.Z.commonUtils.isNumber(n.minTimeBetweenRefreshes)&&(i=n.minTimeBetweenRefreshes);return t.filter((function(t){var n;if(t)if(t.lastInvokeTime){var r=Date.now()-t.lastInvokeTime.getTime();r>i||e&&t.lastInvokeTime.getTime()<e?(n=!0,Or.infof(null,"Re-auctioning Unit: %o",t)):(n=!1,Or.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(i-r)/1e3,t]))}else n=!0;else n=!1;return n}))},this.spaceRefreshOnInterval;var e,t=new Map;function n(e){var n=e.space,i=e.whenVisibility,r=e.skipComplianceCheck;t.set(n,{space:n,whenVisibility:i,skipComplianceCheck:r})}var i=500;function r(e){return Array.from(e.values()).map((function(e){var t=e.space,n=Ji(e,Br);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({spaceName:t.name,space:t},n)}))}};new Xn;function Rr(e){var t=d.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((function(e){return e.countOfDispatches<t})):e}function Cr(e,t){return kr.minTimeBetweenAuctionsUnitsFilter(e,t)}function Lr(e){return e.filter((function(e){return!d.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})}))}function Wr(e){var t=e.map((function(e){return e.element}));return e.filter((function(e,n){return t.indexOf(e.element)==n}))}function Gr(e,t){return new Promise((function(n,i){t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){var i=window.googletag.pubads().getSlots(),r=[];e.forEach((function(e){t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.postBiddingSettings.enabled?i.forEach((function(t){t.getSlotElementId()===e.element.getAttribute("id")&&r.push(e)})):r.push(e)})),n(r)})):n(e)}))}var Ar=new Xn({prefix:"defaultCreativeBid: "});function Pr(e,t){var n=[],i=!1;var r={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:"default-creative",width:e.width,height:e.height},a=new Vi.Bid(r,r,Vi.Bid.Types.DEFAULT_CREATIVE,void 0,(function(t){!function(t){var r=e.height+"px",a=e.width+"px",d=e.creativeHTML,c=document.createElement("div");c.className="default-creative-container",c.style.height=r,c.style.width=a;var l=ii.whitelistingIFrame.createWhitelistingIFrame();l.className="default-creative-iframe",l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("height",r),l.setAttribute("width",a),c.appendChild(l),l.addEventListener("load",(function e(){try{if(l.removeEventListener("load",e),o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)l.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:d}),"*");else{var t=l.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var r=navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1];r&&parseInt(r,10)<67&&t.open("text/html","replace")}t.write(d),t.close()}i=!0,s.Z.forEach(n,(function(e){e()}))}catch(e){Ar.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),t.appendChild(c)}(t.placement)}),void 0,void 0,(function(e){i?e():n.push(e)}),void 0);return a}function jr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach((function(t){_n(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qr=new Xn,qr=new function(){var e,t=!1,n=[],i=[],r=!1,a=function(n,i){if(!t){t=!0,Yr.set(n),e=i||{},r=d.Y.fireEvent("alwaysFilterByGoogletagSlots"),_(e),(e.dfp||r)&&w(),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();s.Z.forEach(e,(function(e){Si(e)}))})),g(),N(),Pi((function(){var e=Yr.getAll();S(),f(e)})),d.Y.addEventListener("websiteHooksGetSpaces",(function(){return Yr.getAll()}));var a=d.Y.fireEvent("scrapePrebidAdUnits");a&&("boolean"==typeof a&&(a={}),u(a)),d.Y.fireEvent("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots(),t=s.Z.map(e,(function(e){return y(e)}));s.Z.forEach(t,(function(e){e&&Yr.set(e)}))})),(e.dfp||r)&&window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();e&&s.Z.forEach(e,(function(e){b(e)}))})),h()}};function l(){return window.pbjs&&window.pbjs.adUnits}var u=function(e){var t,n=e.getAdUnits||l,i=e.filterOutAdUnit,r=e.parseAdUnit,a=e.postParsingAdUnits,o=e.parseInterval||1e3,d=[],c=function(){if((t=n()||[]).length>0){for(var e=[],o=[],c=0;c<t.length;c++){var l=t[c];l&&(d.indexOf(l)>=0||(l=JSON.parse(JSON.stringify(l)),l=r?r(l):l,i&&i(l)||(d.push(l),e.push(l))))}if(0===e.length)return;if(e=a?a(e):e,s.Z.forEach(e,(function(e){var t=xi(e),n=t&&new Vi.Space(t);n&&(Yr.getSpacesByName(n.name).length>0||o.push(n))})),0===o.length)return;Yr.set(o),f(o)}};c(),setInterval((function(){c()}),o)},h=function(){window.__upo_d.getSpaces=function(){return Yr.getAll()},window.__upo_d.getUnits=function(){return Tr.getAll()},window.__upo_d.getAuctions=function(){return n}},f=function(e){return p(E(e))};function p(e,t){var n=function(){var e=[],t=d.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(n).then((function(){return V(e)})).then((function(e){return x(e,t)})).then((function(e){return e.map((function(e){return e.space}))}))}var g=function(){var e=Yr.getAll();d.Y.fireEvent("listenToNewSpaces",{spaces:e,callback:function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=n&&new Vi.Space(n);i&&Yr.set(i)}var r=Yr.getAll();f(r)}}})};var m,v=[],b=function(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),i=Yr.getAll(),r=function(e,t){var n='[id="'.concat(e,'"]'),i=ii.commonBLUtils.getElementWithSelector(n);if(i){var r=Tr.getByElement(i);return r?r.space:E(t).find((function(e){var t=ii.commonBLUtils.getSpaceElement(e);return t&&t===i}))}}(t,i);if(!r){if(d.Y.fireEvent("useSlotPath"))r=Yr.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var a=d.Y.fireEvent("customGetSpace",{spaces:i,divId:t,slot:e});a&&(r=s.Z.find(i,(function(e){return e.name==a.name})))}(r=r&&JSON.parse(JSON.stringify(r)))&&(r.selector.value=c.Z.commonUtils.escapeSelector("#"+t),r.name=t,Yr.set(r))}if(!r){var o=d.Y.fireEvent("extractPublisherSpaceLaterDefineSlot",{name:t});if(o){var l=xi(o);(r=l&&new Vi.Space(l))&&Yr.set(r)}}r||d.Y.fireEvent("scrapeGoogletagSlots")&&(r=y(e))&&Yr.set(r),r&&v.indexOf(r)<0&&(v.push(r),clearTimeout(m),m=setTimeout((function(){p(v),v=[]}),100))},w=function(){var e="push";window.googletag&&window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){var r=e(t,n,i);return setTimeout((function(){if(r){if(Si(r))return;b(r)}}),0),r},d.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,n){var i=t(e,n);return setTimeout((function(){if(i){if(Si(i))return;b(i)}}),0),i}}}))},y=function(t){if(t&&!d.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t})){var n=t.getSlotElementId(),i=t.getSizes(),r=s.Z.map(i,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));r=s.Z.filter(r,(function(e){return!!e}));var a="adxId_"+n,l="directId_"+n,u={id:n,name:n,staging:!1,selector:{value:c.Z.commonUtils.escapeSelector("#"+n),position:o.Z.consts.selectorPosition.APPEND_CHILD},sizes:r,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:a,directId:l,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:a,testCompliance:!0},direct:{bidderID:l}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:a,testCompliance:!1},direct:{bidderID:l}}]}};return u.preBiddingSettings.biddingSettings[o.Z.consts.headerBiddingType.prebid]=[],new Vi.Space(u)}},_=function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],i=[],r=pr(t),a=_r(t);r&&n.push(r),a&&i.push(a);var o=d.Y.fireEvent("thirdPartyModulePreset",{type:t}),c=d.Y.fireEvent("thirdPartyModulePostset",{type:t});o&&n.push(o),c&&i.push(c),s.Z.forEach(n,(function(e){Mr(t,e)})),s.Z.forEach(i,(function(e){xr(t,e)})),Vr(t)}},N=function(){(i=d.Y.fireEvent("movePositionRules")||[])&&i.length>0&&ii.movePositionService.setMovePositionRules(i)},D=[Rr,Cr,Lr,Wr,Gr];function X(){return(X=di(li().mark((function t(n,i){var a,o,s,d,c,l;return li().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:r}},i=Ur(Ur({},a),i),!((o=n.filter((function(e){return e.state===Vi.Unit.States.PENDING}))).length>0)){t.next=27;break}o.forEach((function(e){e.state=Vi.Unit.States.CHECKING})),s=Hi(o),d=jr(D),t.prev=7,d.s();case 9:if((c=d.n()).done){t.next=19;break}return l=c.value,t.next=13,l(o,i);case 13:if(o=t.sent,s=s.filter((function(e){var t=o.includes(e);return t||(e.state=Vi.Unit.States.PENDING),t})),0!==o.length){t.next=17;break}return t.abrupt("break",19);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),d.e(t.t0);case 24:return t.prev=24,d.f(),t.finish(24);case 27:return t.abrupt("return",o);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})))).apply(this,arguments)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.filter((function(e){return!Tr.getBySpace(e)}))}this.invoke=function(e){if(!window.__bt_intrnl.stopFlag){var t=e.spaces,n=e.settings;a(t,n),kr.initialize({invokeSpaces:p}),f(t);var i=1,r=setInterval((function(){15==i&&clearInterval(r),i++,f(t)}),100)}};var V=function(e){var t=[],n=[];return s.Z.forEach(e,(function(e){var i,r=ii.commonBLUtils.getSpaceElement(e);r&&((i=Tr.getByElement(r))||(M(r),i=new Vi.Unit({element:r,space:e}),d.Y.fireEvent("onNewUnitFound",i),Tr.set(i),n.push(i)),i&&i.space==e&&t.push(i))})),function(e){var t=d.Y.fireEvent("newGAMSlotsOnUnitCreation")||{},n=t.AD_UNIT_PATH_PREFIX,i=t.deriveDataFromUnitForSpaces,r=t.slotDataBySpaceName;e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((function(e){var t,a,o,s=e.unitID,d=e.element,c=e.space,l=i&&i.includes(c.name)&&n,u=r&&r[c.name];if(l||u){if(u){var h=r[c.name]||{};t=h.adUnitPath,a=h.sizes,o=h.slotElementId}!t&&n&&(t="".concat(n).concat(c.name)),a||(a=c.sizes.map((function(e){return e.split("x").map((function(e){return parseInt(e,10)}))})).filter((function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}))),o||(d.id||d.setAttribute("id","bt-unit-".concat(s)),o=d.id),t&&a&&a.length>0&&o&&Ii(t,a,o)}}))}catch(e){zi.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t},M=function(e){e.alreadyWraped||(ji.hookFunction(e,"setAttribute",ji.Types.SET_ATTRIBUTE_PRE,void 0,!0),e.alreadyWraped=!0)};var z,x=function(t,n){return new Promise((function(i,r){if(0!==t.length){d.Y.fireEvent("onBeforeInvokeDispatch",{spaces:s.Z.map(t,(function(e){return e.space}))}),function(e){e.forEach((function(e){var t=e.space;d.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var a={};n&&(a=n.filteringSettings||{}),function(e,t){return X.apply(this,arguments)}(t,a).then((function(t){try{if(function(e,t){e&&0!==e.length&&t&&o.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((function(e){var t=e.space;if(t.preBiddingSettings.biddingSettings[o.Z.consts.headerBiddingType.prebid]=t.preBiddingSettings.biddingSettings[o.Z.consts.headerBiddingType.prebid]||[],!t.preBiddingSettings.biddingSettings[o.Z.consts.headerBiddingType.prebid].some((function(e){return"amazon"===e.name}))){var n=e.element,i=googletag.pubads().getSlots().find((function(e){return document.getElementById(e.getSlotElementId())===n})).getAdUnitPath();t.preBiddingSettings.biddingSettings[o.Z.consts.headerBiddingType.prebid].push({id:i+"_amazon_bidder",name:"amazon",params:{pubID:o.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:i}})}}))}(t,e.dfp),i(t||[]),!t||0===t.length)return;var n=s.Z.map(t,(function(e){return e.space}));ii.movePositionService.dispatch(n);var r=s.Z.map(t,(function(e){return new Vi.Auction({unit:e})}));if(d.Y.fireEvent("onAuctionGroupStarted",r),I(r),window.__bt_intrnl.stopFlag)return;d.Y.fireEvent("onPrebiddingStarted",r);var a=hr.dispatchHB(r);Promise.all(a).then((function(t){d.Y.fireEvent("onPrebiddingEnded",r);for(var n=0;n<t.length;n++){var i=t[n],a=i.auctionId,o=i.bids;s.Z.forEach(r,(function(e){e.auctionId==a&&e.addBids(o)}))}var c={forceCompliantEnabled:d.Y.fireEvent("forceCompliant")};if(!window.__bt_intrnl.stopFlag){var l=hr.dispatchAS(r,c);s.Z.forEach(l,(function(t,n){t.then((function(t){var n=s.Z.find(r,(function(e){return e.auctionId==t.auctionId})),i=n.getWinningBid(),a=t.bids;if(a&&a.length>0?s.Z.forEach(a,(function(e){e.type==Vi.Bid.Types.DFP_PREBID?i&&i.additionalBidsToRender.push(e):n.addBids([e])})):e.dfp&&n.unit.space.postBiddingSettings.enabled&&i&&n.cancelAuction(),!window.__bt_intrnl.stopFlag){var o=n.getWinningBid();if(localStorage.getItem("forceDefaultCreative")&&(o=void 0),!o){var c=d.Y.fireEvent("getDefaultCreative",{auction:n});c&&(c={width:c.width,height:c.height,creativeHTML:c.creativeHTML},o=Pr(c,n),n.addBids([o]))}n.subscribeForEvent("auctionRendered",(function(){n.unit.countOfRenders++,d.Y.fireEvent("onAuctionRendered",{auction:n,bid:o}),d.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:o});var e=n.unit.countOfRenders;mi(n.unit.element,(function(){e==n.unit.countOfRenders&&(d.Y.fireEvent("onAdViewed",{auction:n,bid:o}),d.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:o}))}))})),n.subscribeForEvent("renderBidDone",(function(e){d.Y.fireEvent("onAuctionEnded",{auction:n,bid:e.successfulyRenderedBid&&o}),d.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:e.successfulyRenderedBid&&o})})),n.renderBid(o),n.unit.state=Vi.Unit.States.PENDING,kr.spaceRefreshOnInterval&&kr.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}}))}))}}))}catch(e){Qr.errorf(null,"recovery: filterUnits %o",e)}}))}else i([])}))},I=function(e){s.Z.forEach(e,(function(e){e.state=Vi.Auction.States.DISPATCHED,e.unit.state=Vi.Unit.States.DISPATCHED,n.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,d.Y.fireEvent("onAuctionStarted",{auction:e})}))},S=function(){clearTimeout(z),z=setTimeout((function(){try{var e=d.Y.fireEvent("extractPublisherSpacesLaterDefinedUnits");if(!e)return;for(var t=0;t<e.length;t++){var n=xi(e[t]),i=n&&new Vi.Space(n);i&&Yr.set(i)}}catch(e){}}),1e3)}};function $r(e){return window.location.hostname.indexOf(e)>-1}var ea={isSite:$r,isSiteOneOf:function(e){return e.some((function(e){return $r(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){if(t&&e){var n=new RegExp("\\b"+e+"\\b","g"),i=t.className;i=i.replace(n,""),t.className=i}},addClass:function(e,t){if(t&&e){var n=t.className;n.indexOf(e)>-1||(""!==n&&(e=" "+e),t.className=n+e)}}},ta=new Xn({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",window.__bt_intrnl=window.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var na,ia={"contentEnabled":true,"mobileContentEnabled":false,"dfpEnabled":true,"spaces":{"5187477149057024":{"name":"omnicalculator.com_300x250_1","sizes":["300x250"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_300x250_1","index":0,"position":0,"page":""},"prebids":{"5189573596413952":{"bidder":"connectad","params":{"networkId":"10047","siteId":"1028367"}},"5654810795704320":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1078942","sizes":[15]}},"5687661490601984":{"bidder":"appnexus","params":{"placementId":"14075247"}},"5692040914403328":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}},"5692977888362496":{"bidder":"ix","params":{"siteId":"304930","size":[300,250]}},"5694477201047552":{"bidder":"adform","params":{"mid":"607275"}},"5730936138235904":{"bidder":"smartadserver","params":{"currency":"USD","domain":"//prg.smartadserver.com","siteId":"266398","pageId":"999151","formatId":"59460"}},"5752876274024448":{"bidder":"gumgum","params":{"inSlot":"21852"}},"5764632841027584":{"bidder":"criteo","params":{"zoneId":"1422235","publisherSubId":"omnicalculator.com_300x250_1"}}},"adx":"5695669591343104","direct":"5660541758472192","staging":false,"unit":"omnicalculator.com_300x250_1"},"5635755854528512":{"name":"omnicalculator.com_300x250_9","sizes":["300x250"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_300x250_9","index":0,"position":0,"page":""},"prebids":{"5660171955077120":{"bidder":"gumgum","params":{"inSlot":"21861"}},"5723206975488000":{"bidder":"adform","params":{"mid":"623537"}},"5731439756705792":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1122772","sizes":[15]}},"5737329633263616":{"bidder":"criteo","params":{"zoneId":"1422235","publisherSubId":"omnicalculator.com_300x250_9"}},"5741149654351872":{"bidder":"appnexus","params":{"placementId":"14427599"}},"5758630708117504":{"bidder":"connectad","params":{"networkId":"10047","siteId":"1028769"}},"5759693192429568":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}},"5762713879838720":{"bidder":"ix","params":{"siteId":"321799","size":[300,250]}}},"adx":"5692699621457920","direct":"5633192514027520","staging":false,"unit":"omnicalculator.com_300x250_9"},"5640672803553280":{"name":"omnicalculator.com_728x90","sizes":["728x90"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_728x90","index":0,"position":0,"page":""},"prebids":{"5096420721819648":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1078964","sizes":[2]}},"5635667757367296":{"bidder":"adform","params":{"mid":"607273"}},"5659370675240960":{"bidder":"appnexus","params":{"placementId":"14075251"}},"5689783070228480":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}},"5709695545245696":{"bidder":"criteo","params":{"zoneId":"1422239","publisherSubId":"omnicalculator.com_728x90"}},"5722713792446464":{"bidder":"ix","params":{"siteId":"309211","size":[728,90]}}},"adx":"5743028719321088","direct":"5643037652811776","staging":false,"unit":"omnicalculator.com_728x90"},"5670967925800960":{"name":"omnicalculator.com_300x600_atf_1","sizes":["120x600"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_300x600_atf_1","index":0,"position":0,"page":""},"prebids":{"5635292551708672":{"bidder":"adform","params":{"mid":"642769"}},"5699444599160832":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}},"5699488521912320":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1188184","sizes":"[10]"}},"5708187676180480":{"bidder":"gumgum","params":{"inSlot":"23669"}},"5732354383413248":{"bidder":"criteo","params":{"zoneId":"1422234","publisherSubId":"omnicalculator.com_300x600_atf_1_300x600"}},"5739233679507456":{"bidder":"smartadserver","params":{"currency":"USD","domain":"//prg.smartadserver.com","siteId":"266398","pageId":"1040234","formatId":"59463"}},"5767732163248128":{"bidder":"appnexus","params":{"placementId":"14887983"}},"6238963224281088":{"bidder":"connectad","params":{"networkId":"10047","siteId":"1028366"}}},"adx":"5762121325346816","direct":"5630042491060224","staging":false,"unit":"omnicalculator.com_300x600_atf_1"},"5725301761900544":{"name":"omnicalculator.com_300x250 ","sizes":["300x250"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_300x250 ","index":0,"position":0,"page":""},"prebids":{"5654428627501056":{"bidder":"criteo","params":{"zoneId":"1422235","publisherSubId":"omnicalculator.com_300x250"}},"5669363252199424":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}},"5672114849841152":{"bidder":"ix","params":{"siteId":"304853","size":[300,250]}},"5698819614310400":{"bidder":"adform","params":{"mid":"607274"}},"5701501016080384":{"bidder":"appnexus","params":{"placementId":"14075246"}},"5743066904264704":{"bidder":"connectad","params":{"networkId":"10047","siteId":"1028366"}},"5754894774435840":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1078938","sizes":[15]}}},"adx":"5682375459602432","direct":"5724762626064384","staging":false,"unit":"omnicalculator.com_300x250 "},"5728399859384320":{"name":"omnicalculator.com_300x250_10","sizes":["300x250"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_300x250_10","index":0,"position":0,"page":""},"prebids":{"5631253520842752":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1122774","sizes":[15]}},"5648653238665216":{"bidder":"appnexus","params":{"placementId":"14427601"}},"5652254921064448":{"bidder":"adform","params":{"mid":"623539"}},"5662176027082752":{"bidder":"connectad","params":{"networkId":"10047","siteId":"1028770"}},"5759926664167424":{"bidder":"criteo","params":{"zoneId":"1422235"}},"5768892341288960":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}}},"adx":"5691410661507072","direct":"5683950974402560","staging":false,"unit":"omnicalculator.com_300x250_10"},"5743158004547584":{"name":"omnicalculator.com_728x90_atf_1","sizes":["728x90"],"device_type":"all","selector":{"value":"#omnicalculator\\.com_728x90_atf_1","index":0,"position":0,"page":""},"prebids":{"5656153342083072":{"bidder":"criteo","params":{"zoneId":"1422239","publisherSubId":"omnicalculator.com_728x90_atf_1"}},"5669699165618176":{"bidder":"smartadserver","params":{"currency":"USD","domain":"//prg.smartadserver.com","siteId":"266398","pageId":"1040237","formatId":"59467"}},"5676208792535040":{"bidder":"rubicon","params":{"accountId":"11734","siteId":"219280","zoneId":"1188190","sizes":"[2]"}},"5692634525859840":{"bidder":"adform","params":{"mid":"642772"}},"5701950444142592":{"bidder":"gumgum","params":{"inSlot":"23671"}},"5702306557329408":{"bidder":"appnexus","params":{"placementId":"14887991"}},"5733969559552000":{"bidder":"rtbhouse","params":{"region":"prebid-eu","publisherId":"DhObopW8kDYQF2A6mDoi"}},"5770037520498688":{"bidder":"connectad","params":{"networkId":"10047","siteId":"1029179"}}},"adx":"5637091773906944","direct":"5646051847438336","staging":false,"unit":"omnicalculator.com_728x90_atf_1"}}},ra=ia.spaces||{},aa="api.btloader.com",oa=o.Z.upoSettings.staticDomain;(window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.getItem("bt_debug"))&&(ia.dfpEnabled="true"===localStorage.getItem("forceGAM")||ia.dfpEnabled,ia.mobileContentEnabled="true"===localStorage.getItem("forceMobileContent")||ia.mobileContentEnabled,ia.contentEnabled="true"===localStorage.getItem("forceContent")||ia.contentEnabled);var sa,da={websiteData:ia,scriptSettings:Gi,apiDomain:aa,staticDomain:oa,websiteID:"5737310003920896",organizationID:"5091533141311488",dfpEnabled:ia.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:ia.mobileContentEnabled,contentEnabled:ia.contentEnabled};window.__upo_d.websiteConfig=function(){return{websiteData:da.websiteData,scriptSettings:da.scriptSettings,apiDomain:da.apiDomain,websiteID:da.websiteID,staticDomain:da.staticDomain,organizationID:da.organizationID,dfpEnabled:da.dfpEnabled,prebidEnabled:da.prebidEnabled,mobileContentEnabled:da.mobileContentEnabled,contentEnabled:da.contentEnabled}},o.Z.SharedObject.setItem("websiteConfig",da);var ca=function(){return{browser:Zi.Xh(),device:Zi.Uh(),platform:Zi.Jv(),isMobile:Zi.tq()}};var la=function(){return fa(window),ga(),ii.whitelistingIFrame.setupWhitelistingIFrameSettings().then(ha),d.Y.fireEvent("clearSpaces")&&(ra=[]),wa().then((function(){ua()}))},ua=function(){var e=s.Z.map(ra,(function(e){return e})),t=d.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(ra=s.Z.filter(ra,(function(e){return s.Z.find(t,(function(t){return t.id==e.id}))})))},ha=function(){var e=ii.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){na=e,o.Z.SharedObject.setItem("whitelistingIFrame",na),d.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:na})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},fa=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),Ai((function(){if(document.body.appendChild(n),n.contentWindow)return n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,void t()}))}else t()}(e,(function(){try{e.XMLHttpRequest&&ji.hookFunction(e.XMLHttpRequest.prototype,"open",ji.Types.XHR_OPEN_PRE,void 0,!0),ji.hookFunction(e,"fetch",ji.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&ji.hookFunction(e.HTMLElement.prototype,"insertBefore",ji.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&ji.hookFunction(e.HTMLElement.prototype,"appendChild",ji.Types.APPEND_CHILD_PRE,ji.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&ji.hookFunction(e.HTMLImageElement.prototype,"setAttribute",ji.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),ji.hookFunction(e,"open",ji.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&ji.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",ji.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&ji.hookFunction(e.HTMLElement.prototype,"hasChildNodes",ji.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),pa(e)}catch(e){}}))},pa=function(e){for(var t=o.Z.consts.htmlElements,n=0;n<t.length;n++)e[t[n]]&&ji.hookPropertySetter(e[t[n]].prototype,"src",ji.Types.HTML_SRC_PROP_PRE,void 0,!0)},ga=function(){ji.addEventListener(ji.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"===(0,a.Z)(t[0])&&t[0].toString&&(t[0]=t[0].toString()),c.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=c.Z.addAcceptableParam(t[0]);else if(c.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&na){if(o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var n="new window.Image().src = '"+t[0]+"'";return na.postMessage({type:"eval",code:n},"*"),t[0]}return(new na.contentWindow.Image).src=t[0]}})),ji.addEventListener(ji.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(s.Z.hasClass(this,"up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(s.Z.hasClass(this.children[n],"up-show")){t=!0;break}if(t)return!1}}catch(e){}})),ji.addEventListener(ji.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||fa(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=c.Z.addAcceptableParam(e)),i.call(this,e)}}})),ji.addEventListener(ji.Types.XHR_OPEN_PRE,(function(e){var t=e.data;c.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=c.Z.addAcceptableParam(t[1]))})),ji.addEventListener(ji.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&c.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=c.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var r=n[i],a=(r=r.trim()).split(" ")[0],o=r.split(" ")[1]||"";c.Z.urlValidations.isWhitelistURL(a,this.tagName)&&(r=c.Z.addAcceptableParam(a)+" "+o,n[i]=r)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&c.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=c.Z.addAcceptableParam(t[1]))})),ji.addEventListener(ji.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;d.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&c.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=c.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&c.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=c.Z.addAcceptableParam(t[0].href))})),ji.addEventListener(ji.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&c.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=c.Z.addAcceptableParam(i.src)),i.src&&c.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&na){if(o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var r="new Image().src = '"+t[0].src+"'";return na.postMessage({type:"eval",code:r},"*"),t[0]}return na.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&c.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=c.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&c.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=c.Z.addAcceptableParam(t[0].src)),c.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&na){if(o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){r="new Image().src = '"+t[0].src+"'";return na.postMessage({type:"eval",code:r},"*"),t[0]}return na.contentDocument.body.appendChild(t[0])}}})),ji.addEventListener(ji.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||fa(t.contentWindow)})),ji.addEventListener(ji.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&na&&!o.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)return na.contentWindow.open(e.data[0])})),ji.addEventListener(ji.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},ma=function(){var e=Sr;window.uponit=window.uponit||{que:[]},window.uponit.slots=[],window.uponit.COMPLIANCE_STATUSES=e.COMPLIANCE_STATUSES,window.uponit.defineSlot=e.defineSlot,window.uponit.init=e.init,window.uponit.enableServices=e.enableServices,window.uponit.UPONIT_EVENTS=e.UPONIT_EVENTS,window.uponit.fetchPrebid=e.fetchPrebid,window.uponit.fetchDFP=e.fetchDFP,window.uponit.renderBid=e.renderBid,window.uponit.fetchAndRender=e.fetchAndRender,window.uponit.addEventListener=e.addEventListener,window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var t=0;t<window.uponit.que.length;t++){var n=window.uponit.que[t];try{n()}catch(e){}}window.uponit.que.push=function(e){e()}},va=function(e){var t=Object.entries(e).map((function(e){var t=r(e,2),n=t[0],i=t[1],a={};a.id=n,a.name=i.name,a.staging=i.staging,a.deviceType=i.device_type,a.selector={position:i.selector.position,value:i.selector.value},a.sizes=i.sizes;var o=i.prebids&&Object.keys(i.prebids).length>0;return a.preBiddingSettings={enabled:o,biddingSettings:{}},o&&(a.preBiddingSettings.biddingSettings[1]=[],Object.entries(i.prebids).forEach((function(e){var t=r(e,2),n=t[0],i=t[1],o={id:n,name:i.bidder,params:i.params};a.preBiddingSettings.biddingSettings[1].push(o)}))),a.postBiddingSettings={adxId:i.adx,directId:i.direct,enabled:da.dfpEnabled&&"0"!=i.adx,type:1,order:[{params:{},adx:{bidderID:i.adx,testCompliance:!0},direct:{bidderID:i.direct}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:i.adx,testCompliance:!1},direct:{bidderID:i.direct}}]},[n,a]}));return Object.fromEntries(t)},ba=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new Vi.Space(i);t.push(r)}return t},wa=function(){var e=d.Y.fireEvent("extractPublisherSpacesSettings");if(!e)return Promise.resolve();var t=e.timeout||2e3;return new Promise((function(n,i){e.callback((function(e){for(var t=e.adUnits,i=0;i<t.length;i++){var r=t[i],a=xi(r),o=a&&new Vi.Space(a);o&&ra.push(o)}n()})),setTimeout((function(){n()}),t)}))};!function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0,g.init(aa,{secure:!0});try{Zr.init(),Gn.Verifications.run(),Gn.Report.init()}catch(e){}sa=ca(),window.__upo_d.isMobile=sa.isMobile;var e,t={browser:sa.browser,device:sa.device,platform:sa.platform,isMobile:sa.isMobile};d.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return t})),window.__upo_d.userEvnData=t,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),d.Y.fireEvent("consentData",{error:{message:n}})}}else d.Y.fireEvent("consentData",{tcData:e})}))}catch(e){d.Y.fireEvent("consentData",{error:e})}}(),function(){try{var e=new Xn({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("LyoKCSMgY2hhbmdlbG9nCgkjIyA1LzExLzIwMjAKCSogW3l1aGVdIC0gRmlsdGVyIG91dCBzdGlja3kgYXRmIGFkIHVuaXQgZm9yIGhlai5taWVsZWMucGwgaW4gZ29vZ2xldGFnCgkjIyAxNi8wOS8yMDIwCgkqIFthcnNoYWFuXSAtIGZpbHRlcmVkIG91dCAyIHVuaXRzIGZvciBtZXJjYTIwLmNvbSBbQU0tNjIyXQoJIyMgMjgvMTAvMjAyMAoJKiBbYXJzaGFhbl0gLSBhZGRlZCBhYmlsaXR5IHRvIGRpc2FibGUgcmVmcmVzaCBhdCBzaXRlIGxldmVsIFtBTS04NDNdLgoJIyMgMTUvMTIvMjAKCSogW2Fyc2hhYW5dIC0gZGlzYWJsZWQgcmVmcmVzaGluZyBmb3Igc2l0ZXMsIHVwZGF0ZWQgcmVmcmVzaGluZyBzZXR1cCwgYWRkZWQgcGFyc2UgZnVuY3Rpb24gKHRvCgkJCWJlIG92ZXJoYXVsZWQgaW4gdGhlIGZ1dHVyZSB3aXRoIHNjcmFwZVByZWJpZCBob29rIG1pZ3JhdGlvbiksIHBhcnNlIGluY2x1ZGVzIG5vdCBzdXBwb3J0aW5nCgkJCWNlcnRhaW4gU1NQcywgZmlsdGVyaW5nIG91dCBjZXJ0YWluIHVuaXRzIFtBTS03NTZdLgoJIyMgMTgvMDEvMjEKCSogW2FuYXN0YXNpaWFdIC0gZGlzYWJsZWQgZGVmaW5lZCBhZCB1bml0cyBvbiBzaXRlIGdhemV0YXByYXduYS5wbCBjYXVzaW5nIEFBQyB2aW9sYXRpb25zIFtBTS0xMDUyXQogKi8KCnZhciB1c2VyRW52RGF0YSA9IEN1c3RvbUV2ZW50cy5maXJlRXZlbnQoJ2dldFVzZXJFbnZEYXRhV2Vic2l0ZUhvb2tzJyk7CnZhciBpc01vYmlsZSA9IHVzZXJFbnZEYXRhICYmIHVzZXJFbnZEYXRhLmlzTW9iaWxlOwoKaWYgKCF3aW5kb3cuX191cG9fZCkgewogIHdpbmRvd1sndXBianMnXVsndXBDb25maWcnXVsnc2FmZUZyYW1lVVJMJ10gPSAnL2Fkcy50eHQnOwogIHdpbmRvd1sndXBianMnXVsndXBDb25maWcnXVsnbm9Eb2N1bWVudERvbWFpbiddID0gdHJ1ZTsKCiAgd2luZG93Wyd1cGJqcyddWydxdWUnXS5wdXNoKGZ1bmN0aW9uICgpIHsKICAgIHVwYmpzLmFsaWFzQmlkZGVyKCdhZGZvcm0nLCAneWllbGRiaXJkYWRmJyk7CiAgICB1cGJqcy5hbGlhc0JpZGRlcignYWRmb3JtJywgJ3NhdGFrdScpOwogICAgdXBianMuYWxpYXNCaWRkZXIoJ3NtYXJ0YWRzZXJ2ZXInLCAneWllbGRiaXJkc3J0Jyk7CiAgICB1cGJqcy5hbGlhc0JpZGRlcignYXBwbmV4dXMnLCAneGF4aXNfcGwnKTsKICAgIHVwYmpzLmFsaWFzQmlkZGVyKCdhcHBuZXh1cycsICdiam0nKTsKICAgIHVwYmpzLmFsaWFzQmlkZGVyKCdhcHBuZXh1cycsICdhcHBuZXh1c1BQJyk7CiAgICB1cGJqcy5hbGlhc0JpZGRlcignYXBwbmV4dXMnLCAneWllbGRiaXJkYXB4Jyk7CiAgICB3aW5kb3dbJ3VwYmpzJ11bJ3NldENvbmZpZyddKHsKICAgICAgZGVidWc6IGZhbHNlLAogICAgICBlbmFibGVTZW5kQWxsQmlkczogdHJ1ZSwKICAgICAgc3luY3NQZXJCaWRkZXI6IDQwLAogICAgICB1c2VyU3luYzogeyBpZnJhbWVFbmFibGVkOiAxIH0sCiAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgYWRTZXJ2ZXJDdXJyZW5jeTogJ1VTRCcsCiAgICAgICAgZ3JhbnVsYXJpdHlNdWx0aXBsaWVyOiAxLAogICAgICAgIHJhdGVzOiB7IFVTRDogeyBQTE46IDMuOTUgfSwgRVVSOiB7IFBMTjogNC4zNyB9IH0sCiAgICAgIH0sCiAgICB9KTsKICAgIHdpbmRvd1sndXBianMnXVsnc2V0Q29uZmlnJ10oewogICAgICB1c2VyU3luYzogewogICAgICAgIGlmcmFtZUVuYWJsZWQ6IHRydWUsCiAgICAgIH0sCiAgICAgIHByaWNlR3JhbnVsYXJpdHk6IHsKICAgICAgICBidWNrZXRzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHByZWNpc2lvbjogMiwKICAgICAgICAgICAgbWluOiAwLjA3LAogICAgICAgICAgICBtYXg6IDMuMDEsCiAgICAgICAgICAgIGluY3JlbWVudDogMC4wMywKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHByZWNpc2lvbjogMiwKICAgICAgICAgICAgbWluOiAzLjAyLAogICAgICAgICAgICBtYXg6IDQuOTksCiAgICAgICAgICAgIGluY3JlbWVudDogMC4wOSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHByZWNpc2lvbjogMiwKICAgICAgICAgICAgbWluOiA1LjAsCiAgICAgICAgICAgIG1heDogMjAuMCwKICAgICAgICAgICAgaW5jcmVtZW50OiAxLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfSk7CiAgfSk7Cn0gZWxzZSB7CiAgQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZWJpZERvbmVJbml0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICB2YXIgY3BianMgPSBldmVudC5kYXRhLmNwYmpzOwogICAgLy8gQlQgcHJpY2UgYnVja2V0cwogICAgY3BianMucXVlLnB1c2goZnVuY3Rpb24gKCkgewogICAgICBjcGJqcy5hbGlhc0JpZGRlcignYWRmb3JtJywgJ3lpZWxkYmlyZGFkZicpOwogICAgICBjcGJqcy5hbGlhc0JpZGRlcignYWRmb3JtJywgJ3NhdGFrdScpOwogICAgICBjcGJqcy5hbGlhc0JpZGRlcignc21hcnRhZHNlcnZlcicsICd5aWVsZGJpcmRzcnQnKTsKICAgICAgY3BianMuYWxpYXNCaWRkZXIoJ2FwcG5leHVzJywgJ3hheGlzX3BsJyk7CiAgICAgIGNwYmpzLmFsaWFzQmlkZGVyKCdhcHBuZXh1cycsICdiam0nKTsKICAgICAgY3BianMuYWxpYXNCaWRkZXIoJ2FwcG5leHVzJywgJ2FwcG5leHVzUFAnKTsKICAgICAgY3BianMuYWxpYXNCaWRkZXIoJ2FwcG5leHVzJywgJ3lpZWxkYmlyZGFweCcpOwogICAgICBjcGJqcy5zZXRDb25maWcoewogICAgICAgIGRlYnVnOiBmYWxzZSwKICAgICAgICBlbmFibGVTZW5kQWxsQmlkczogdHJ1ZSwKICAgICAgICBzeW5jc1BlckJpZGRlcjogNDAsCiAgICAgICAgdXNlclN5bmM6IHsgaWZyYW1lRW5hYmxlZDogMSB9LAogICAgICAgIGN1cnJlbmN5OiB7CiAgICAgICAgICBhZFNlcnZlckN1cnJlbmN5OiAnVVNEJywKICAgICAgICAgIGdyYW51bGFyaXR5TXVsdGlwbGllcjogMSwKICAgICAgICAgIHJhdGVzOiB7IFVTRDogeyBQTE46IDMuOTUgfSwgRVVSOiB7IFBMTjogNC4zNyB9IH0sCiAgICAgICAgfSwKICAgICAgfSk7CiAgICAgIGNwYmpzLnNldENvbmZpZyh7CiAgICAgICAgdXNlclN5bmM6IHsKICAgICAgICAgIGlmcmFtZUVuYWJsZWQ6IHRydWUsCiAgICAgICAgfSwKICAgICAgICBwcmljZUdyYW51bGFyaXR5OiB7CiAgICAgICAgICBidWNrZXRzOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBwcmVjaXNpb246IDIsCiAgICAgICAgICAgICAgbWluOiAwLjA3LAogICAgICAgICAgICAgIG1heDogMy4wMSwKICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDAuMDMsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBwcmVjaXNpb246IDIsCiAgICAgICAgICAgICAgbWluOiAzLjAyLAogICAgICAgICAgICAgIG1heDogNC45OSwKICAgICAgICAgICAgICBpbmNyZW1lbnQ6IDAuMDksCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBwcmVjaXNpb246IDIsCiAgICAgICAgICAgICAgbWluOiA1LjAsCiAgICAgICAgICAgICAgbWF4OiAyMC4wLAogICAgICAgICAgICAgIGluY3JlbWVudDogMSwKICAgICAgICAgICAgfSwKICAgICAgICAgIF0sCiAgICAgICAgfSwKICAgICAgfSk7CiAgICB9KTsKICB9KTsKCiAgdmFyIGhvc3RuYW1lc1dpdGhOb0hCID0gWwogICAgJ2FuZHJvaWQuY29tLnBsJywKICAgICd3d3cuZmNiYXJjYS5jb20nLAogICAgJ3d3dy5vbW5pY2FsY3VsYXRvci5jb20nLAogICAgJ3RoZXJpZ2h0aGFpcnN0eWxlcy5jb20nLAogICAgJ3dlc3psby5jb20nLAogICAgJ3d3dy56YWtvbi5reicsCiAgXTsKICB2YXIgc2hvdWxkTm90RXh0cmFjdFB1Ymxpc2hlclNwYWNlcyA9IGhvc3RuYW1lc1dpdGhOb0hCLmluZGV4T2Yod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSA+IC0xOwoKICBpZiAoIXNob3VsZE5vdEV4dHJhY3RQdWJsaXNoZXJTcGFjZXMpIHsKICAgIHZhciBwYmpzVmFyTmFtZVBlclB1YiA9IHsKICAgICAgJ3d3dy5wYXJhbG9zY3VyaW9zb3MuY29tJzogJ2FkVW5pdHMnLAogICAgICAnd3lib3JjemEucGwnOiAnYWRVbml0cycsCiAgICAgICd3d3cucG9wdWxhcm5lLnBsJzogJ2VwYmpzLmFkVW5pdHMnLAogICAgICAnd3d3LnNraWp1bXBpbmcucGwnOiAncGJqczMyNTQ3NC5hZFVuaXRzJywKICAgIH07CgogICAgdmFyIGdldEFkVW5pdHNWYXJCeVB1YiA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFwYmpzVmFyTmFtZVBlclB1Ylt3aW5kb3cubG9jYXRpb24uaG9zdG5hbWVdKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5wYmpzICYmIHdpbmRvdy5wYmpzLmFkVW5pdHM7CiAgICAgIH0KCiAgICAgIHZhciBwYmpzVmFyTmFtZSA9IHBianNWYXJOYW1lUGVyUHViW3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZV07CiAgICAgIHZhciBzcGxpdGVkVmFycyA9IHBianNWYXJOYW1lLnNwbGl0KCcuJyk7CiAgICAgIHZhciBwYmpzVmFyID0gd2luZG93OwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0ZWRWYXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHBhcnROYW1lID0gc3BsaXRlZFZhcnNbaV07CiAgICAgICAgaWYgKCFwYmpzVmFyW3BhcnROYW1lXSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBwYmpzVmFyID0gcGJqc1ZhcltwYXJ0TmFtZV07CiAgICAgIH0KCiAgICAgIHJldHVybiBwYmpzVmFyOwogICAgfTsKCiAgICBDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignY2xlYXJTcGFjZXMnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CgogICAgZnVuY3Rpb24gcGFyc2VBZFVuaXRzKGFkVW5pdHMpIHsKICAgICAgdmFyIHBhcnNlZEFkVW5pdHMgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRVbml0cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBhZFVuaXQgPSBhZFVuaXRzW2ldOwogICAgICAgIHZhciBwYXJzZWRBZFVuaXQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFkVW5pdCkpOwoKICAgICAgICB2YXIgdW5zdXBwb3J0ZWRTU1BzID0gWyd2aXN4JywgJ2Nvbm5lY3RhZCcsICdhZGFnaW8nLCAnc3NwQkMnLCAnb2Z0bWVkaWEnXTsKICAgICAgICBpZiAoaG9va1V0aWxzLmlzU2l0ZSgnaW5mb3IucGwnKSkgewogICAgICAgICAgdW5zdXBwb3J0ZWRTU1BzLnB1c2goJ3J0YmhvdXNlJyk7CiAgICAgICAgfQoKICAgICAgICBpZiAodW5zdXBwb3J0ZWRTU1BzLmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgaWYgKHBhcnNlZEFkVW5pdCAmJiBwYXJzZWRBZFVuaXQuYmlkcykgewogICAgICAgICAgICB2YXIgZmlsdGVyZWRCaWRzID0gW107CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFyc2VkQWRVbml0LmJpZHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICB2YXIgYmlkID0gcGFyc2VkQWRVbml0LmJpZHNbal07CiAgICAgICAgICAgICAgaWYgKCF1bnN1cHBvcnRlZFNTUHMuaW5jbHVkZXMoYmlkLmJpZGRlcikpIHsKICAgICAgICAgICAgICAgIGZpbHRlcmVkQmlkcy5wdXNoKGJpZCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHBhcnNlZEFkVW5pdC5iaWRzID0gZmlsdGVyZWRCaWRzOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcGFyc2VkQWRVbml0cy5wdXNoKHBhcnNlZEFkVW5pdCk7CiAgICAgIH0KCiAgICAgIHBhcnNlZEFkVW5pdHMgPSBjb25jYXRBZFVuaXRzQnlDb2RlKHBhcnNlZEFkVW5pdHMpOwoKICAgICAgcmV0dXJuIHBhcnNlZEFkVW5pdHM7CiAgICB9CgogICAgdmFyIHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0OwogICAgdmFyIGZpbHRlckFkVW5pdCA9IGZ1bmN0aW9uIChhZFVuaXQpIHsKICAgICAgaWYgKGFkVW5pdCAmJiBhZFVuaXQuY29kZSkgewogICAgICAgIGlmIChhZFVuaXQuY29kZS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ21vYmlsZScpID4gLTEpIHsKICAgICAgICAgIHJldHVybiAhaXNNb2JpbGU7CiAgICAgICAgfQoKICAgICAgICBpZiAod2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQpIHsKICAgICAgICAgIHJldHVybiB3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdChhZFVuaXQpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKCiAgICAvLyBjb25jYXRzIGJpZGRlcnMgYW5kIHNpemVzIGJ5IGNvZGUgdmFsdWUgLSBmb3IgZXhhbXBsZToga2xwLnBsIGhhcyBtdWx0aXBsZSBhZFVuaXRzIHdpdGggdGhlIHNhbWUgY29kZSBzZXBhcmF0ZWQgYnkgYmlkZGVycyBmb3IgZWFjaCBhZFVuaXQgc2l6ZQogICAgdmFyIGNvbmNhdEFkVW5pdHNCeUNvZGUgPSBmdW5jdGlvbiAoYWRVbml0cykgewogICAgICB2YXIgY29uY2F0ZWRBZFVuaXRzID0ge307CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRVbml0cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBhZFVuaXQgPSBhZFVuaXRzW2ldOwogICAgICAgIHZhciBjb25jYXRlZEFkVW5pdCA9IGNvbmNhdGVkQWRVbml0c1thZFVuaXQuY29kZV07CiAgICAgICAgaWYgKCFjb25jYXRlZEFkVW5pdCkgewogICAgICAgICAgY29uY2F0ZWRBZFVuaXRzW2FkVW5pdC5jb2RlXSA9IGFkVW5pdDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgY29uY2F0ZWRBZFVuaXQuYmlkcyA9IGNvbmNhdGVkQWRVbml0LmJpZHMuY29uY2F0KGFkVW5pdC5iaWRzKTsKICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBsZy5lcnJvcmYoCiAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAnUHJlYmlkIHNjcmFwaW5nIC0gcG9zdFBhcnNpbmdBZFVuaXRzIC0gZmFpbGVkIHRvIGNvbmNhdGVuYXRlIGFkVW5pdCBiaWRzOiAlbycsCiAgICAgICAgICAgICAgZXJyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25jYXRlZEFkVW5pdC5zaXplcyA9IGNvbmNhdGVkQWRVbml0LnNpemVzLmNvbmNhdChhZFVuaXQuc2l6ZXMpOwogICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgIGxnLmVycm9yZigKICAgICAgICAgICAgICBudWxsLAogICAgICAgICAgICAgICdQcmViaWQgc2NyYXBpbmcgLSBwb3N0UGFyc2luZ0FkVW5pdHMgLSBmYWlsZWQgdG8gY29uY2F0ZW5hdGUgYWRVbml0IHNpemVzOiAlbycsCiAgICAgICAgICAgICAgZXJyCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBjb25jYXRlZEFkVW5pdC5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyA9IGNvbmNhdGVkQWRVbml0Lm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmNvbmNhdCgKICAgICAgICAgICAgICBhZFVuaXQubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBsZy5lcnJvcmYoCiAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAnUHJlYmlkIHNjcmFwaW5nIC0gcG9zdFBhcnNpbmdBZFVuaXRzIC0gZmFpbGVkIHRvIGNvbmNhdGVuYXRlIGFkVW5pdCBzaXplczogJW8nLAogICAgICAgICAgICAgIGVycgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoY29uY2F0ZWRBZFVuaXRzKTsKICAgIH07CgogICAgQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NjcmFwZVByZWJpZEFkVW5pdHMnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBnZXRBZFVuaXRzOiBnZXRBZFVuaXRzVmFyQnlQdWIsCiAgICAgICAgZmlsdGVyT3V0QWRVbml0OiBmaWx0ZXJBZFVuaXQsCiAgICAgICAgcG9zdFBhcnNpbmdBZFVuaXRzOiBwYXJzZUFkVW5pdHMsCiAgICAgIH07CiAgICB9KTsKCiAgICBDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignc2NyYXBlR29vZ2xldGFnU2xvdHMnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICB9CgogIHZhciB1cGRhdGVJZ25vcmVTY3JhcGluZ1Nsb3RzSWRzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICAgIGlnbm9yZVNjcmFwaW5nU2xvdHNJZHNMaXN0ID0gW107CiAgICB2YXIgYWRVbml0cyA9IGdldEFkVW5pdHNWYXJCeVB1YigpOwoKICAgIGlmIChhZFVuaXRzICYmIGFkVW5pdHMubGVuZ3RoID4gMCkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFkVW5pdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYWRVbml0ID0gYWRVbml0c1tpXTsKICAgICAgICBpZ25vcmVTY3JhcGluZ1Nsb3RzSWRzTGlzdC5wdXNoKGFkVW5pdC5jb2RlKTsKICAgICAgfQogICAgfQogIH07CgogIC8vIGZpbHRlciBvdXQgYWQgdW5pdHMgdGhhdCBnb29nbGV0YWcgc2hvdWxkIG5vdCBhdWN0aW9uCiAgdmFyIGlnbm9yZVNjcmFwaW5nU2xvdHNJZHNMaXN0ID0gW107CiAgdmFyIHdlYnNpdGVTaG91bGRJZ25vcmVTbG90ID0gZnVuY3Rpb24gKHNsb3QpIHsKICAgIHJldHVybiBmYWxzZTsKICB9OwogIEN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdzaG91bGRJZ25vcmVHb29nbGV0YWdTbG90U2NyYXBpbmcnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIHZhciBzbG90ID0gZXZlbnQuZGF0YS5zbG90OwoKICAgIHVwZGF0ZUlnbm9yZVNjcmFwaW5nU2xvdHNJZHNMaXN0KCk7CgogICAgcmV0dXJuICgKICAgICAgaWdub3JlU2NyYXBpbmdTbG90c0lkc0xpc3QuaW5kZXhPZihzbG90LmdldFNsb3RFbGVtZW50SWQoKSkgPiAtMSB8fAogICAgICB3ZWJzaXRlU2hvdWxkSWdub3JlU2xvdChzbG90KQogICAgKTsKICB9KTsKfQoKLy8geWllbGRiaXJkIGNvb2tpZSBmb3IgcmVsb2FkaW5nCmRvY3VtZW50LmNvb2tpZSA9ICd5YmpuZz07IHBhdGg9LzsgZXhwaXJlcz1UaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVDsnOwp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHsKICBkb2N1bWVudC5jb29raWUgPSAneWJqbmc9OyBwYXRoPS87IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMSBHTVQ7JzsKfSk7Cgp2YXIgbm9SZWZyZXNoU2l0ZXMgPSBbJ3d5Ym9yY3phLnBsJywgJ2R6aWVubmlrLnBsJywgJ2luZm9yLnBsJywgJ2dhemV0YXByYXduYS5wbCcsICdmb3JzYWwucGwnXTsKCmlmIChob29rVXRpbHMuaXNTaXRlT25lT2YoWyd3aW5kb3dzcmVwb3J0LmNvbScsICdhbnR5cmFkaW8ucGwnLCAncGxhbmV0YS5wbCcsICdjaGlsbGl6ZXQucGwnLCAncmFkaW96ZXQucGwnXSkpIHsKICAvLyB3aW5kb3dzcmVwb3J0IHZpZXdhYmlsaXR5IGlzc3VlCiAgLy8gRml4IHRoZSBudW1iZXIgb2YgYXMgJiBhZSByZXF1ZXN0cyBub3QgYWxpZ25pbmcgW0FNLTE2NzJdCiAgd2luZG93Lmdvb2dsZXRhZyA9IHdpbmRvdy5nb29nbGV0YWcgfHwgeyBjbWQ6IFtdIH07CiAgd2luZG93Lmdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7CiAgICBnb29nbGV0YWcucHViYWRzKCkuZW5hYmxlTGF6eUxvYWQoKTsKICB9KTsKfSBlbHNlIGlmIChub1JlZnJlc2hTaXRlcy5zb21lKGhvb2tVdGlscy5pc1NpdGUpKSB7CiAgY29uc29sZS5sb2coJ1JlZnJlc2ggZGlzYWJsZWQgZm9yIHNpdGUgbGV2ZWwuJyk7Cn0gZWxzZSB7CiAgQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NwYWNlUmVmcmVzaFNldHRpbmdzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICByZXR1cm4gewogICAgICB0eXBlOiAnSElEREVOJywKICAgICAgcmF0ZTogNjAwMDAsCiAgICB9OwogIH0pOwoKICBDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignbWF4QW1vdW50T2ZVbml0RGlzcGF0Y2hlcycsIGZ1bmN0aW9uIChldmVudCkgewogICAgcmV0dXJuIDExOyAvLyBtYXggb2YgMTAgcmVmcmVzaCBtZWFucyAxMSB0b3RhbCBkaXNwYXRjaGVzIGZvciBlYWNoIHVuaXQKICB9KTsKfQoKLy8gcmVtb3ZlIHRoZWlyIHNlcnZpY2Ugd29ya2VyIHdoaWNoIGlzIGNhY2hpbmcgb3VyIGFkYmxvY2sgZGV0ZWN0aW9uIGFuZCBjYXVzaW5nIGZhbHNlIHBvc2l0aXZlcwpldmFsKGF0b2IoImFXWWdLRzVoZG1sbllYUnZjaTV6WlhKMmFXTmxWMjl5YTJWeUtTQjdJRzVoZG1sbllYUnZjaTV6WlhKMmFXTmxWMjl5YTJWeUxtZGxkRkpsWjJsemRISmhkR2x2Ym5Nb0tTNTBhR1Z1S0daMWJtTjBhVzl1SUNoeVpXZHBjM1J5WVhScGIyNXpLU0I3SUdadmNpQW9kbUZ5SUhKbFoybHpkSEpoZEdsdmJpQnZaaUJ5WldkcGMzUnlZWFJwYjI1ektTQjdJSEpsWjJsemRISmhkR2x2Ymk1MWJuSmxaMmx6ZEdWeUtDazdJSDBnZlNrN0lIMD0iKQopCgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigibW92ZVBvc2l0aW9uUnVsZXMiLCBmdW5jdGlvbiAoKSB7Cgl2YXIgbW92ZUVsZW1lbnRzUnVsZXMgPSBbCgkJewoJCQllbGVtZW50VG9Nb3ZlOiBmdW5jdGlvbiAocGFyYW1zKSB7CgkJCQlyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29tbmljYWxjdWxhdG9yXFwuY29tXzMwMHgyNTBfMScpOwoJCQl9LAoJCQlyZWxhdGl2ZUVsZW1lbnQ6IGZ1bmN0aW9uIChwYXJhbXMpIHsKCQkJCXJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FsY3VsYXRvci1wYWdlLWJvdHRvbSAucmlnaHQtY29udGVudCcpOwoJCQl9LAoJCQlodG1sRWxlbWVudEluc2VydGlvblR5cGU6ICJpbnNlcnRCZWZvcmUiCgkJfQoJXQoKCXJldHVybiBtb3ZlRWxlbWVudHNSdWxlczsKfSkKCnZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwpzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnW2lkXj0ib21uaWNhbGN1bGF0b3IiXXtsaW5lLWhlaWdodDogMTBweCAhaW1wb3J0YW50fSc7Cihkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOw==")+"\n})")(d.Y,da,e,ea)}catch(e){ta.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(Wi).forEach((function(e){var t=r(e,2),n=t[0],i=t[1];if(Ci[n]){var a=Ci[n],o=a.hookName,s=a.parseSettingValue,c=a.handler,l=s?s(i):i;o?d.Y.addEventListener(o,(function(e){return c(l,e)})):(c(l),Ri.infof(null,"loadSettings: ".concat(n," (no associated hook): Setting applied.")))}else Ri.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",n)})),(e=d.Y.fireEvent("amazonBidderConfiguration"))&&e.pubID&&(o.Z.upoSettings.amazonBidderConfiguration.enabled=!0,o.Z.upoSettings.amazonBidderConfiguration=Object.assign(o.Z.upoSettings.amazonBidderConfiguration,e));var n=d.Y.fireEvent("hookDFPEnabledValue");n&&(da.dfpEnabled=n);try{ra=ba(va(ra))}catch(e){ta.errorf(null,"init - parsing static spaces - %o",e)}ma(),d.Y.fireEvent("shouldDisableUponit")?ta.noticef(null,"halting: we have been disabled by hooks"):(d.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),d.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),la().then((function(){da.prebidEnabled=!(!s.Z.find(ra,(function(e){return e.preBiddingSettings&&e.preBiddingSettings.enabled}))&&!d.Y.fireEvent("scrapePrebidAdUnits"));var e={spaces:ra,settings:{prebid:d.Y.fireEvent("forcePrebidEnabled")||da.prebidEnabled,dfp:da.dfpEnabled}};Ai((function(){d.Y.fireEvent("onDomLoaded"),d.Y.fireEvent("onBeforeRecovery",{spaces:ra,settings:e.settings}),qr.invoke(e)}))})))}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
